<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Byeong-Hak Choe">

<title>B.H. CHOE - Fall 2022 DANL 200 Final Exam 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">B.H. CHOE</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./cv.html">
 <span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl200-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl200-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl200-lec">    
        <li>
    <a class="dropdown-item" href="./DANL200_Lec25_20230509.html">
 <span class="dropdown-text">lecture 25 - linear regression with interaction terms</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec24_20230504.html">
 <span class="dropdown-text">lecture 24 - linear regression with interaction terms</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec23_20230502.html">
 <span class="dropdown-text">lecture 23 - linear regression with log transformation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec22_20230427.html">
 <span class="dropdown-text">lecture 22 - linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec21_20230425.html">
 <span class="dropdown-text">lecture 21 - linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec20_20230420.html">
 <span class="dropdown-text">lecture 20 - linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec19_20230418.html">
 <span class="dropdown-text">lecture 19 - strings, dates and times, linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec18_20230413.html">
 <span class="dropdown-text">lecture 18 - factor, strings, dates and times</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec17_20230411.html">
 <span class="dropdown-text">lecture 17 - tidy data, joins</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec16_20230406.html">
 <span class="dropdown-text">lecture 16 - tidy data - pivot, separate, unite</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec15_20230323.html">
 <span class="dropdown-text">lecture 15 - log transformation, summarize, group operation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec14_20230321.html">
 <span class="dropdown-text">lecture 14 - summarize, group operation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - select, mutate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - filter, arrange, select</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - visualization, filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - ggplot, visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - r basic, ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - r basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl200-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl200-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl200-lab">    
        <li>
    <a class="dropdown-item" href="./DANL200_final_1a_fall_2022.html">
 <span class="dropdown-text">final-exam-1-fall-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_final_2a_fall_2022.html">
 <span class="dropdown-text">final-exam-2-fall-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_final_3a_fall_2022.html">
 <span class="dropdown-text">final-exam-3-fall-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw4a.html">
 <span class="dropdown-text">hw4-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw3a.html">
 <span class="dropdown-text">hw3-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab5a.html">
 <span class="dropdown-text">lab5-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab4a.html">
 <span class="dropdown-text">lab4-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab3a.html">
 <span class="dropdown-text">lab3-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_midterm-spring-2023-a.html">
 <span class="dropdown-text">midterm-spring-2023-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_midterm-fall-2022-a.html">
 <span class="dropdown-text">midterm-fall-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_midterm-spring-2022-a.html">
 <span class="dropdown-text">midterm-spring-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab2a.html">
 <span class="dropdown-text">lab2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw2a.html">
 <span class="dropdown-text">hw2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab1a.html">
 <span class="dropdown-text">lab1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw1a.html">
 <span class="dropdown-text">hw1-a</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl210-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl210-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl210-lec">    
        <li>
    <a class="dropdown-item" href="./DANL210_Lec25_20230509.html">
 <span class="dropdown-text">lecture 25 - unofficial api</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec24_20230504.html">
 <span class="dropdown-text">lecture 24 - api</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec23_20230502.html">
 <span class="dropdown-text">lecture 23 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec22_20230427.html">
 <span class="dropdown-text">lecture 22 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec21_20230425.html">
 <span class="dropdown-text">lecture 21 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec20_20230420.html">
 <span class="dropdown-text">lecture 20 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec19_20230418.html">
 <span class="dropdown-text">lecture 19 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec18_20230413.html">
 <span class="dropdown-text">lecture 18 - missing data, dates and times</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec17_20230411.html">
 <span class="dropdown-text">lecture 17 - data concatenation, merges, missing data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec16_20230406.html">
 <span class="dropdown-text">lecture 16 - data types, data concatenation, merges</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec15_20230323.html">
 <span class="dropdown-text">lecture 15 - tidy, data types</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec14_20230321.html">
 <span class="dropdown-text">lecture 14 - agg, transform, filter, tidy</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - agg, transform, filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - seaborn, agg</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - seaborn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - eda</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - apply</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - query, drop, sort, rank, assign, lambda</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - drop, sort, rank, assign, lambda</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - pandas boolean subsetting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - pandas loc iloc</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - python basic, pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - python basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - python basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl210-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl210-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl210-lab">    
        <li>
    <a class="dropdown-item" href="./DANL210_hw5q.html">
 <span class="dropdown-text">hw5-q - Automation - World Bank Climate Change Knowledge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw4a.html">
 <span class="dropdown-text">hw4-a - Web-scrapping - Books</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw3a.html">
 <span class="dropdown-text">hw3-a - Web-scrapping - IMDB</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab8a.html">
 <span class="dropdown-text">lab8-a - Web-scrapping 3 - Quotes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab7a.html">
 <span class="dropdown-text">lab7-a - Web-scrapping 2 - EIA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab6a.html">
 <span class="dropdown-text">lab6-a - Web-scrapping 1 - HTML Table</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab5a.html">
 <span class="dropdown-text">lab5-a - datetime</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab4a.html">
 <span class="dropdown-text">lab4-a - concat, merge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_midterm-spring-2023-a.html">
 <span class="dropdown-text">midterm-spring-2023-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab3a.html">
 <span class="dropdown-text">lab3-a - melt, pivot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw2a.html">
 <span class="dropdown-text">hw2-a - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab2a.html">
 <span class="dropdown-text">lab2-a - pandas, seaborn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab1a.html">
 <span class="dropdown-text">lab1-a - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw1a.html">
 <span class="dropdown-text">hw1-a - pandas</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl310-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl310-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl310-lec">    
        <li>
    <a class="dropdown-item" href="./DANL310_Lec24_20230504.html">
 <span class="dropdown-text">lecture 24 - quarto</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec23_20230502.html">
 <span class="dropdown-text">lecture 23 - data viz</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_shiny_workshop.pdf">
 <span class="dropdown-text">lecture 22 - shiny apps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_shiny_workshop.pdf">
 <span class="dropdown-text">lecture 21 - shiny apps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_shiny_workshop.pdf">
 <span class="dropdown-text">lecture 20 - shiny apps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec19_20230418.html">
 <span class="dropdown-text">lecture 19 - tables</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec18_20230413.html">
 <span class="dropdown-text">lecture 18 - animation ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec17_20230411.html">
 <span class="dropdown-text">lecture 17 - interactive ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec15_20230323.html">
 <span class="dropdown-text">lecture 15 - maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec14_20230321.html">
 <span class="dropdown-text">lecture 14 - maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - color, theme</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - work with model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - rmarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - github website, rmarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl310-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl310-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl310-lab">    
        <li>
    <a class="dropdown-item" href="./DANL310_lab4q.html">
 <span class="dropdown-text">lab4-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shiny-04.html">
 <span class="dropdown-text">shiny-04: interactive storm map</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shiny-03.html">
 <span class="dropdown-text">shiny-03: storms filtered</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shiny-02.html">
 <span class="dropdown-text">shiny-02: storms by year</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shiny-01.html">
 <span class="dropdown-text">shiny-01: old faithful</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./git-large-file-push.html">
 <span class="dropdown-text">Large-File-Push to GitHub Repo</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_midterm-spring-2023-a.html">
 <span class="dropdown-text">midterm-spring-2023-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_midterm-spring-2023-q.html">
 <span class="dropdown-text">midterm-spring-2023-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab3a.html">
 <span class="dropdown-text">lab3-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab3q.html">
 <span class="dropdown-text">lab3-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab2a.html">
 <span class="dropdown-text">lab2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab2q.html">
 <span class="dropdown-text">lab2-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab1a.html">
 <span class="dropdown-text">lab1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab1q.html">
 <span class="dropdown-text">lab1-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw2a.html">
 <span class="dropdown-text">hw2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw2q.html">
 <span class="dropdown-text">hw2-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw1a.html">
 <span class="dropdown-text">hw1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw1q.html">
 <span class="dropdown-text">hw1-q</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ml-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ml-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-ml-lab">    
        <li>
    <a class="dropdown-item" href="./mba-ch1-lm.html">
 <span class="dropdown-text">linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch1-logit.html">
 <span class="dropdown-text">logistic regression (classification)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch3-regularization.html">
 <span class="dropdown-text">regularization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch3-model-selection.html">
 <span class="dropdown-text">model selection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch7-tree-based-methods.html">
 <span class="dropdown-text">tree-based methods</span></a>
  </li>  
        <li class="dropdown-header">clustering</li>
        <li class="dropdown-header">principal component analysis</li>
    </ul>
  </li>
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#load-r-packages" id="toc-load-r-packages" class="nav-link active" data-scroll-target="#load-r-packages">Load R packages</a></li>
  <li><a href="#question-1" id="toc-question-1" class="nav-link" data-scroll-target="#question-1">Question 1</a>
  <ul class="collapse">
  <li><a href="#variable-description" id="toc-variable-description" class="nav-link" data-scroll-target="#variable-description">Variable description</a></li>
  <li><a href="#q1a" id="toc-q1a" class="nav-link" data-scroll-target="#q1a">Q1a</a></li>
  <li><a href="#q1b." id="toc-q1b." class="nav-link" data-scroll-target="#q1b.">Q1b.</a></li>
  <li><a href="#q1c." id="toc-q1c." class="nav-link" data-scroll-target="#q1c.">Q1c.</a></li>
  <li><a href="#q1d." id="toc-q1d." class="nav-link" data-scroll-target="#q1d.">Q1d.</a></li>
  </ul></li>
  <li><a href="#question-2" id="toc-question-2" class="nav-link" data-scroll-target="#question-2">Question 2</a>
  <ul class="collapse">
  <li><a href="#variable-description-1" id="toc-variable-description-1" class="nav-link" data-scroll-target="#variable-description-1">Variable description</a></li>
  <li><a href="#q2a." id="toc-q2a." class="nav-link" data-scroll-target="#q2a.">Q2a.</a></li>
  <li><a href="#q2b." id="toc-q2b." class="nav-link" data-scroll-target="#q2b.">Q2b.</a></li>
  <li><a href="#q2c." id="toc-q2c." class="nav-link" data-scroll-target="#q2c.">Q2c.</a></li>
  <li><a href="#q2d." id="toc-q2d." class="nav-link" data-scroll-target="#q2d.">Q2d.</a></li>
  <li><a href="#q2e." id="toc-q2e." class="nav-link" data-scroll-target="#q2e.">Q2e.</a></li>
  <li><a href="#q2f.-and-q2g." id="toc-q2f.-and-q2g." class="nav-link" data-scroll-target="#q2f.-and-q2g.">Q2f. and Q2g.</a></li>
  </ul></li>
  <li><a href="#question-3" id="toc-question-3" class="nav-link" data-scroll-target="#question-3">Question 3</a>
  <ul class="collapse">
  <li><a href="#variable-description-2" id="toc-variable-description-2" class="nav-link" data-scroll-target="#variable-description-2">Variable description</a></li>
  <li><a href="#q3a." id="toc-q3a." class="nav-link" data-scroll-target="#q3a.">Q3a.</a></li>
  <li><a href="#q3b" id="toc-q3b" class="nav-link" data-scroll-target="#q3b">Q3b</a></li>
  <li><a href="#q3c." id="toc-q3c." class="nav-link" data-scroll-target="#q3c.">Q3c.</a></li>
  <li><a href="#q3d." id="toc-q3d." class="nav-link" data-scroll-target="#q3d.">Q3d.</a></li>
  <li><a href="#q3e." id="toc-q3e." class="nav-link" data-scroll-target="#q3e.">Q3e.</a></li>
  <li><a href="#q3f." id="toc-q3f." class="nav-link" data-scroll-target="#q3f.">Q3f.</a></li>
  </ul></li>
  <li><a href="#question-4" id="toc-question-4" class="nav-link" data-scroll-target="#question-4">Question 4</a>
  <ul class="collapse">
  <li><a href="#variable-description-3" id="toc-variable-description-3" class="nav-link" data-scroll-target="#variable-description-3">Variable description</a></li>
  <li><a href="#q4a." id="toc-q4a." class="nav-link" data-scroll-target="#q4a.">Q4a.</a></li>
  <li><a href="#q4b." id="toc-q4b." class="nav-link" data-scroll-target="#q4b.">Q4b.</a></li>
  <li><a href="#q4c." id="toc-q4c." class="nav-link" data-scroll-target="#q4c.">Q4c.</a></li>
  <li><a href="#q4d." id="toc-q4d." class="nav-link" data-scroll-target="#q4d.">Q4d.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Fall 2022 DANL 200 Final Exam 1</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Byeong-Hak Choe </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="load-r-packages" class="level1">
<h1>Load R packages</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-1" class="level1">
<h1>Question 1</h1>
<p>The following is the description for Question 1:</p>
<ul>
<li><p>The Nobel Prize in Economic Science in 2021 goes to David Card, Joshua Angrist and Guido Imbens, for their empirical contributions to labor economics, and for their methodological contributions to the analysis of causal relationships.</p></li>
<li><p>The Nobel Laureates – David Card, Joshua Angrist and Guido Imbens – have provided us with new insights about the labor market and shown what conclusions about cause and effect can be drawn from natural experiments. Their approach has spread to other fields and revolutionized empirical research.</p></li>
<li><p>The following data.frame comes from the 1980 US Census and covers men born 1930–1939, which is used by Joshua Angrist and Alan Krueger’s research article.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ak91_age <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'https://bcdanl.github.io/data/ak91_age.csv'</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="variable-description" class="level2">
<h2 class="anchored" data-anchor-id="variable-description">Variable description</h2>
<ul>
<li><code>QoB</code>: Quarter of birth</li>
<li><code>YoB</code>: Year of birth (1930, 1931, …, 1939)</li>
<li><code>YoBQ</code>: Year and quarter of birth (1930 Q1, 1930 Q2, …, 1939 Q4)</li>
<li><code>logW</code>: the natural log of weekly wage</li>
<li><code>Educ</code>: Years of education</li>
<li><code>Q4</code>: <code>TRUE</code> if <code>QoB == 4</code>; <code>FALSE</code> otherwise.</li>
</ul>
<p><br></p>
</section>
<section id="q1a" class="level2">
<h2 class="anchored" data-anchor-id="q1a">Q1a</h2>
<p>Describe the relationship between years of schooling and quarter of birth.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ak91_age, <span class="fu">aes</span>(<span class="at">x =</span> YoBQ, <span class="at">y =</span> Educ)) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="fu">aes</span>(<span class="at">color =</span> Q4) ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><p>A child born in late December can start first grade earlier than a child, nearly the same age, who is born in early January.</p></li>
<li><p>For many decades an individual could quit school at age 16.</p></li>
<li><p>The random factor of quarter of birth is correlated with (months) of education.</p></li>
<li><p>People who were born in the first quarter of the year get a little bit less education than people born in the fourth quarter!</p></li>
<li><p>The difference is small, .1 or so of a year but it’s clear the difference is there.</p></li>
<li><p>This figure plots average schooling by year and QoB for men born in the 1930s.</p>
<ul>
<li>Most men in these cohorts finished high school, so their average highest grade completed ranges from 12 to 13 years.</li>
</ul></li>
<li><p>This figure exhibits a surprising sawtooth pattern:</p>
<ul>
<li>Men born earlier in the year tend to have lower average schooling than those born later.</li>
</ul></li>
<li><p>The teeth of the saw have an amplitude of about 0.15.</p></li>
<li><p>Among men born in the 1930s, about 20% left school in grade 10 or sooner.</p></li>
<li><p>Late-quarter births impose about 0.75 of a grade’s worth of extra schooling on this 20%. The calculation .2 × .75 = .15 accounts for the ups and downs in this figure.</p></li>
</ul>
<p><br></p>
</section>
<section id="q1b." class="level2">
<h2 class="anchored" data-anchor-id="q1b.">Q1b.</h2>
<p>Describe the relationship between the log of weekly wage and quarter of birth.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ak91_age, <span class="fu">aes</span>(<span class="at">x =</span> YoBQ, <span class="at">y =</span> logW)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="fu">aes</span>(<span class="at">color =</span> Q4) ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>The flatness of earnings from year to year seen in this figure isn’t surprising.
<ul>
<li>Earnings initially increase sharply with age, but the age-earnings profile tends to flatten out for men in their forties.</li>
<li>Importantly, however, the <code>QoB</code> sawtooth in schooling is paralleled by a similar <code>QoB</code> sawtooth in average earnings.</li>
<li>Men born later in the year not only get more schooling than those born earlier, they have higher earnings as well.</li>
</ul></li>
</ul>
<p><br></p>
</section>
<section id="q1c." class="level2">
<h2 class="anchored" data-anchor-id="q1c.">Q1c.</h2>
<p>Calculate the mean value of <code>logW</code> and the mean value of <code>Educ</code> for each combination of values of variables <code>YoB</code> and <code>Q4</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>q1c <span class="ot">&lt;-</span> ak91_age <span class="sc">%&gt;%</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(YoBQ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(YoB, Q4) <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_logW =</span> <span class="fu">mean</span>(logW, <span class="at">na.rm =</span> T),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_Educ =</span> <span class="fu">mean</span>(Educ, <span class="at">na.rm =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q1d." class="level2">
<h2 class="anchored" data-anchor-id="q1d.">Q1d.</h2>
<ul>
<li><p>Calculate the difference between the mean value of <code>logW</code> for <code>Q4 == TRUE</code> the mean value of <code>logW</code> for <code>Q4 == FALSE</code> for each value of <code>YoB</code>.</p></li>
<li><p>Calculate the difference between the mean value of <code>Educ</code> for <code>Q4 == TRUE</code> the mean value of <code>Educ</code> for <code>Q4 == FALSE</code> for each value of <code>YoB</code>.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>q4d_w <span class="ot">&lt;-</span> q1c <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>mean_Educ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Q4,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> mean_logW,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">"Q4_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">diff_logW =</span> Q4_TRUE <span class="sc">-</span> Q4_FALSE )</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>q4d_e <span class="ot">&lt;-</span> q1c <span class="sc">%&gt;%</span> </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>mean_logW) <span class="sc">%&gt;%</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Q4,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> mean_Educ,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">"Q4_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">diff_Educ =</span> Q4_TRUE <span class="sc">-</span> Q4_FALSE )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br><br></p>
</section>
</section>
<section id="question-2" class="level1">
<h1>Question 2</h1>
<p>One of the last year’s Nobel Laureates, David Card, wrote the research paper—Card, David and Krueger, Alan. “Minimum Wages and Employment: A Case Study of the Fast-Food Industry in New Jersey and Pennsylvania.” The American Economic Review 84.4 (Sept.&nbsp;1994) 772-793.—that challenged conventional wisdom among economists, leading to new analyses and additional insights on the labor market.</p>
<p>Card and Krueger (1994) studied the effects on employment in two neighboring areas—New Jersey (NJ) and eastern Pennsylvania (PA)–––which have a similar labor market, but where the minimum wage was increased on one side of the border but not the other.</p>
<p>Card and Krueger (1994) focused on employment in fast-food restaurants, an industry where pay is low and minimum wages matter.</p>
<p>The following is the data frame used in Card and Krueger (1994), which is for Question 2:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>card_krueger_1994 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'https://bcdanl.github.io/data/card_krueger_1994.csv'</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="variable-description-1" class="level2">
<h2 class="anchored" data-anchor-id="variable-description-1">Variable description</h2>
<ul>
<li><code>sheet</code>: Sheet number
<ul>
<li>ID for a franchise fast-food restaurant</li>
<li>(e.g, Burger King, KFC, Wendys, Roy Rogers)</li>
</ul></li>
<li><code>time</code>
<ul>
<li><code>Before</code> if date is before April 1, 1992:</li>
<li><code>After</code> if date is after April 1, 1992:</li>
<li>On April 1, 1992, the hourly minimum wage in New Jersey was increased from 4.25 dollars to 5.05 dollars.</li>
</ul></li>
<li><code>time_n</code>
<ul>
<li>1 if <code>time == Before</code></li>
<li>2 if <code>time == After</code></li>
</ul></li>
<li><code>empft</code>: The number of full-time employees</li>
<li><code>wage_st</code>: Starting wage ($/hr)</li>
</ul>
<p><br></p>
<ul>
<li><p>Assume that nothing other than the change in the NJ’s minimum wage changed the number of full-time employees and starting wages across the states (NJ and PA) after April 1, 1992.</p></li>
<li><p>This assumption is valid.</p>
<ul>
<li>This is because there was no apparent reason to believe that any factor (such as the economic situation) apart from the increase in the minimum wage would affect employment trends differently on either side of the border.</li>
</ul></li>
</ul>
<p><br></p>
</section>
<section id="q2a." class="level2">
<h2 class="anchored" data-anchor-id="q2a.">Q2a.</h2>
<p>Using the given data.frame, <code>card_krueger_1994</code>, create the data.frame, <code>card_krueger_1994</code>, for which <code>time</code> and <code>state</code> are factor-type variables with reference levels <code>"Before"</code> and <code>"PA"</code>, respectively.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>card_krueger_1994<span class="sc">$</span>time <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">factor</span>(card_krueger_1994<span class="sc">$</span>time), <span class="st">"Before"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>card_krueger_1994<span class="sc">$</span>state <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">factor</span>(card_krueger_1994<span class="sc">$</span>state), <span class="st">"PA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q2b." class="level2">
<h2 class="anchored" data-anchor-id="q2b.">Q2b.</h2>
<ul>
<li><p>Describe the time trend of <code>empft</code> by <code>state</code> using both ggplot and words.</p></li>
<li><p>Also, describe the time trend of <code>wage_st</code> by <code>state</code> using both ggplot and words.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(card_krueger_1994,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> time_n, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> empft, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span>F) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(card_krueger_1994,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> time, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> empft, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> state)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(card_krueger_1994,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> time_n, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> wage_st, </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span>F) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> time, <span class="at">y=</span> empft,<span class="at">fill =</span> state))<span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">'identity'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-10-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>q2b <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(time_n, state) <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_wage =</span> <span class="fu">mean</span>(wage_st, <span class="at">na.rm =</span> T)) </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2b,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span> time_n, <span class="at">y=</span> mean_wage, <span class="at">fill =</span> state)) <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">'dodge'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-10-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>Verbal description is not provided here.</li>
</ul>
<p><br></p>
</section>
<section id="q2c." class="level2">
<h2 class="anchored" data-anchor-id="q2c.">Q2c.</h2>
<ul>
<li><p>Split the data.frame, card_krueger_1994, into training and testing data frames, in which (1) the training data frame contains approximately 70% observations with <code>state == PA</code> and 70% of observations with <code>state == NJ</code>, and (2) the testing data frame contains the rest 30% observations with <code>state == PA</code> and the rest 30% of observations with <code>state == NJ</code>.</p></li>
<li><p>So, the training data frame contains approximately 70% observations of <code>card_krueger_1994</code>, and the testing data frame contains approximately 30% observations of <code>card_krueger_1994</code>.</p></li>
<li><p>In the training and testing data.frames, two different observations with the same value of <code>sheet</code> (e.g., two observations with <code>sheet == 1</code> and <code>time == "Before"</code>, <code>time == "After"</code>) must belong to either the training data.frame or the testing data.frame.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>q1b_1_pa <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_n <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> state <span class="sc">==</span> <span class="st">"PA"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>q1b_2_pa <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_n <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> state <span class="sc">==</span> <span class="st">"PA"</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>q1b_1_nj <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_n <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> state <span class="sc">==</span> <span class="st">"NJ"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>q1b_2_nj <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_n <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> state <span class="sc">==</span> <span class="st">"NJ"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>gp_pa <span class="ot">&lt;-</span> <span class="fu">runif</span>( <span class="fu">nrow</span>(q1b_1_pa)) </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3</span>)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>gp_nj <span class="ot">&lt;-</span> <span class="fu">runif</span>( <span class="fu">nrow</span>(q1b_1_nj) )</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>q1b_1_pa_train <span class="ot">&lt;-</span> q1b_1_pa <span class="sc">%&gt;%</span> </span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_pa <span class="sc">&gt;</span> .<span class="dv">3</span>)</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>q1b_1_pa_test <span class="ot">&lt;-</span> q1b_1_pa <span class="sc">%&gt;%</span> </span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_pa <span class="sc">&lt;=</span> .<span class="dv">3</span>)</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>q1b_2_pa_train <span class="ot">&lt;-</span> q1b_2_pa <span class="sc">%&gt;%</span> </span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_pa <span class="sc">&gt;</span> .<span class="dv">3</span>)</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>q1b_2_pa_test <span class="ot">&lt;-</span> q1b_2_pa <span class="sc">%&gt;%</span> </span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_pa <span class="sc">&lt;=</span> .<span class="dv">3</span>)</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>q1b_1_nj_train <span class="ot">&lt;-</span> q1b_1_nj <span class="sc">%&gt;%</span> </span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_nj <span class="sc">&gt;</span> .<span class="dv">3</span>)</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>q1b_1_nj_test <span class="ot">&lt;-</span> q1b_1_nj <span class="sc">%&gt;%</span> </span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_nj <span class="sc">&lt;=</span> .<span class="dv">3</span>)</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>q1b_2_nj_train <span class="ot">&lt;-</span> q1b_2_nj <span class="sc">%&gt;%</span> </span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_nj <span class="sc">&gt;</span> .<span class="dv">3</span>)</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>q1b_2_nj_test <span class="ot">&lt;-</span> q1b_2_nj <span class="sc">%&gt;%</span> </span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_nj <span class="sc">&lt;=</span> .<span class="dv">3</span>)</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">rbind</span>(q1b_1_pa_train, q1b_2_pa_train,</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>                q1b_1_nj_train, q1b_2_nj_train) <span class="sc">%&gt;%</span> </span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(sheet, time_n)</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">rbind</span>(q1b_1_pa_test, q1b_2_pa_test,</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>               q1b_1_nj_test, q1b_2_nj_test) <span class="sc">%&gt;%</span> </span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(sheet, time_n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q2d." class="level2">
<h2 class="anchored" data-anchor-id="q2d.">Q2d.</h2>
<p>Consider the four linear regression models with the following four different formulas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>formula_1 <span class="ot">&lt;-</span> <span class="fu">log</span>(empft) <span class="sc">~</span> time <span class="sc">+</span> state</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>formula_2 <span class="ot">&lt;-</span> <span class="fu">log</span>(empft) <span class="sc">~</span> time <span class="sc">*</span> state</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>formula_3 <span class="ot">&lt;-</span> <span class="fu">log</span>(wage_st) <span class="sc">~</span> time <span class="sc">+</span> state</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>formula_4 <span class="ot">&lt;-</span> <span class="fu">log</span>(wage_st) <span class="sc">~</span> time <span class="sc">*</span> state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Train the four linear regression models using the training data.frame from Q2c with the four different formulas, <code>formula_1</code>, <code>formula_2</code>, <code>formula_3</code>, and <code>formula_4</code>.</p></li>
<li><p>If you could not create the training data.frame in Q2c, use the data.frame, <code>card_krueger_1994</code>, as the training data.frame.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>model_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(empft <span class="sc">~</span> time<span class="sc">+</span>state, </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span>  dtrain)  </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>model_2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(empft <span class="sc">~</span> time<span class="sc">*</span>state, </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span>  dtrain)  </span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>model_3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(wage_st <span class="sc">~</span> time<span class="sc">+</span>state, </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span>  dtrain)  </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>model_4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(wage_st <span class="sc">~</span> time<span class="sc">*</span>state, </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span>  dtrain)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(model_1, model_2, model_3, model_4,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<table style="text-align:center">
<tbody><tr>
<td colspan="5" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="4">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
empft
</td>
<td colspan="2">
wage_st
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
<td>
(3)
</td>
<td>
(4)
</td>
</tr>
<tr>
<td colspan="5" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
timeAfter
</td>
<td>
0.207
</td>
<td>
-3.190<sup>*</sup>
</td>
<td>
0.369<sup>***</sup>
</td>
<td>
-0.052
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.694)
</td>
<td>
(1.625)
</td>
<td>
(0.024)
</td>
<td>
(0.054)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
stateNJ
</td>
<td>
-0.136
</td>
<td>
-2.172<sup>*</sup>
</td>
<td>
0.227<sup>***</sup>
</td>
<td>
-0.020
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.901)
</td>
<td>
(1.258)
</td>
<td>
(0.032)
</td>
<td>
(0.041)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
timeAfter:stateNJ
</td>
<td>
</td>
<td>
4.147<sup>**</sup>
</td>
<td>
</td>
<td>
0.512<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(1.796)
</td>
<td>
</td>
<td>
(0.059)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
8.169<sup>***</sup>
</td>
<td>
9.833<sup>***</sup>
</td>
<td>
4.438<sup>***</sup>
</td>
<td>
4.639<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.884)
</td>
<td>
(1.138)
</td>
<td>
(0.031)
</td>
<td>
(0.037)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="5" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
553
</td>
<td>
553
</td>
<td>
541
</td>
<td>
541
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.0002
</td>
<td>
0.010
</td>
<td>
0.350
</td>
<td>
0.428
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
-0.003
</td>
<td>
0.004
</td>
<td>
0.347
</td>
<td>
0.425
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
8.157 (df = 550)
</td>
<td>
8.125 (df = 549)
</td>
<td>
0.281 (df = 538)
</td>
<td>
0.264 (df = 537)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
0.056 (df = 2; 550)
</td>
<td>
1.815 (df = 3; 549)
</td>
<td>
144.544<sup>***</sup> (df = 2; 538)
</td>
<td>
134.175<sup>***</sup> (df = 3; 537)
</td>
</tr>
<tr>
<td colspan="5" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="4" style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>

</tbody></table>
<p><br></p>
</section>
<section id="q2e." class="level2">
<h2 class="anchored" data-anchor-id="q2e.">Q2e.</h2>
<ul>
<li><p>Visualize the confidence intervals of all the beta estimates except for the variable <code>(Intercept)</code>.</p></li>
<li><p>What does it mean that estimate == 0 belongs to a confidence interval?</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sum_model_2 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_2) <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>sum_model_4 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_4)<span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>sum_model_1 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_1) <span class="sc">%&gt;%</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>sum_model_3 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_3)<span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sum_model_2) <span class="sc">+</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sum_model_1) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sum_model_4) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-16-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sum_model_3) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-16-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>If <code>estimate == 0</code> belongs to a confidence interval of the beta estimate, the beta estimate may not be statistically different from zero, and there is insufficient evidence to conclude that there is a non-zero relationship between the explanatory variable and the outcome variable.</li>
</ul>
<p><br></p>
</section>
<section id="q2f.-and-q2g." class="level2">
<h2 class="anchored" data-anchor-id="q2f.-and-q2g.">Q2f. and Q2g.</h2>
<ul>
<li><p>Interpret all the estimated coefficients from the model with <code>formula_2</code></p></li>
<li><p>How did the increase in the minimum wage affect the employment level?</p></li>
<li><p>Provide any economic intuition on the estimation result.</p></li>
<li><p>Interpret all the estimated coefficients from the model with <code>formula_4</code>.</p></li>
<li><p>How did the increase in the minimum wage affect starting salary?</p></li>
<li><p>Provide any economic intuition on the estimation result.</p></li>
<li><p>Answer</p>
<ul>
<li>Interpretation of the beta estimates is not provided here.</li>
<li>The work conducted by Card at the beginning of the 1990s also led to new research, which attempted to explain the absence of negative effects on employment.</li>
<li>One possible explanation is that companies can transfer increased costs to consumers in the form of higher prices, without significant reductions in demand.</li>
<li>Another explanation is that companies that dominate their local labor market can keep wages low; an increased minimum wage thus means that more people want to work, leading to increased employment.</li>
<li>When companies have such power over the market, we cannot determine in advance how employment will be affected by changes to the minimum wage.</li>
<li>The many studies inspired by Card and Krueger’s work have considerably improved our understanding of the labor market.</li>
</ul></li>
</ul>
<p><br><br></p>
</section>
</section>
<section id="question-3" class="level1">
<h1>Question 3</h1>
<p>The following is the data frame for Question 3:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>citibike_trip_sample <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://bcdanl.github.io/data/citibike_trip.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="variable-description-2" class="level2">
<h2 class="anchored" data-anchor-id="variable-description-2">Variable description</h2>
<ul>
<li><code>tripduration</code>: Trip Duration (in seconds)<br>
</li>
<li><code>starttime</code>: Start Time, in NYC local time.<br>
</li>
<li><code>stoptime</code>: Stop Time, in NYC local time.</li>
<li><code>start_station_id</code>: Start Station ID<br>
</li>
<li><code>start_station_name</code>: Start Station Name<br>
</li>
<li><code>end_station_id</code>: End Station ID<br>
</li>
<li><code>end_station_name</code>: End Station Name<br>
</li>
<li><code>bikeid</code>: Bike ID</li>
<li><code>usertype</code>: User Type (Customer = 24-hour pass or 7-day pass user, Subscriber = Annual Member)<br>
</li>
<li><code>birth_year</code>: Year of Birth<br>
</li>
<li><code>gender</code>: Gender (unknown, male, female)</li>
</ul>
</section>
<section id="q3a." class="level2">
<h2 class="anchored" data-anchor-id="q3a.">Q3a.</h2>
<p>In data.frame, <code>citibike_trip_sample</code>, remove observations for which values of <code>tripduration</code> is missing.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>q3a <span class="ot">&lt;-</span> citibike_trip_sample <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(tripduration))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q3b" class="level2">
<h2 class="anchored" data-anchor-id="q3b">Q3b</h2>
<ul>
<li><p>From the resulting data.frame in Q3a, consider only the observations, for which</p>
<ul>
<li><ol type="1">
<li>tripduration is less than 2 hours;</li>
</ol></li>
<li><ol start="2" type="1">
<li>birth_year is not missing;</li>
</ol></li>
<li><ol start="2" type="1">
<li>birth_year is greater than or equal to 1950;</li>
</ol></li>
<li><ol start="3" type="1">
<li>gender is either <code>female</code> or <code>male</code>.</li>
</ol></li>
</ul></li>
<li><p>Describe how the relationship between <code>birth_year</code> and <code>tripduration</code> varies by <code>usertype</code> and <code>gender</code> using ggplot.</p></li>
<li><p>Make a comment on the resulting visualization.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>q3a <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tripduration <span class="sc">&lt;=</span> <span class="dv">60</span><span class="sc">*</span><span class="dv">60</span><span class="sc">*</span><span class="dv">2</span>, <span class="sc">!</span><span class="fu">is.na</span>(birth_year),</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>         birth_year <span class="sc">&gt;=</span> <span class="dv">1950</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>         gender <span class="sc">!=</span> <span class="st">"unknown"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> birth_year, <span class="at">y =</span> tripduration)) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(usertype <span class="sc">~</span> gender, <span class="at">scale =</span> <span class="st">"free_y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>Commenting is not provided here</li>
</ul>
<p><br></p>
</section>
<section id="q3c." class="level2">
<h2 class="anchored" data-anchor-id="q3c.">Q3c.</h2>
<p>Download the CSV file, <code>citibike_stations.csv</code></p>
<ul>
<li>Variable description of <code>citibike_stations.csv</code>
<ul>
<li><code>station_id</code>: Unique identifier of a station.<br>
</li>
<li><code>name</code>: Public name of the station.</li>
<li><code>short_name</code>: Short name or other type of identifier, as used by the data publisher.<br>
</li>
<li><code>latitude</code>: The latitude of station. The field value must be a valid WGS 84 latitude in decimal degrees format.</li>
<li><code>longitude</code>: The longitude of station. The field value must be a valid WGS 84 longitude in decimal degrees format.<br>
</li>
<li><code>region_id</code>: ID of the region where station is located.</li>
<li><code>rental_methods</code>: Array of enumerables containing the payment methods accepted at this station.</li>
<li><code>capacity</code>: Number of total docking points installed at this station, both available and unavailable.<br>
</li>
<li><code>num_bikes_available</code>: Number of bikes available for rental.<br>
</li>
<li><code>num_bikes_disabled</code>: Number of disabled bikes at the station.<br>
</li>
<li><code>num_docks_available</code>: Number of docks accepting bike returns.<br>
</li>
<li><code>num_docks_disabled</code>: Number of empty but disabled dock points at the station.<br>
</li>
<li><code>is_installed</code>: Is the station currently on the street?</li>
<li><code>is_renting</code>: Is the station currently renting bikes?<br>
</li>
<li><code>is_returning</code>: Is the station accepting bike returns?</li>
</ul></li>
<li>Create the data.frame, <code>citibike_trip_sample_geo</code>, that includes the following variables:
<ul>
<li><code>tripduration</code><br>
</li>
<li><code>start_station_id</code><br>
</li>
<li><code>start_station_name</code></li>
<li><code>start_latitude</code><br>
</li>
<li><code>start_longitude</code><br>
</li>
<li><code>start_capacity</code><br>
</li>
<li><code>end_station_id</code><br>
</li>
<li><code>end_station_name</code><br>
</li>
<li><code>end_latitude</code><br>
</li>
<li><code>end_longitude</code><br>
</li>
<li><code>end_capacity</code></li>
</ul></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>citibike_stations <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"/Users/byeong-hakchoe/Google Drive/suny-geneseo/teaching-materials/lecture-data/citibike_stations.csv"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(citibike_stations)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "station_id"          "name"                "short_name"         
 [4] "latitude"            "longitude"           "region_id"          
 [7] "rental_methods"      "capacity"            "num_bikes_available"
[10] "num_bikes_disabled"  "num_docks_available" "num_docks_disabled" 
[13] "is_installed"        "is_renting"          "is_returning"       </code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>citibike_trip_sample_geo <span class="ot">&lt;-</span> q3a <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">station_id =</span> start_station_id ) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(citibike_stations,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"station_id"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_latitude =</span> latitude) <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_longitude =</span> longitude) <span class="sc">%&gt;%</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_station_id =</span> station_id) <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_capacity =</span> capacity) <span class="sc">%&gt;%</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">station_id =</span> end_station_id ) <span class="sc">%&gt;%</span> </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(citibike_stations,</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"station_id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">end_latitude =</span> latitude) <span class="sc">%&gt;%</span> </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">end_longitude =</span> longitude) <span class="sc">%&gt;%</span> </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">end_station_id =</span> station_id) <span class="sc">%&gt;%</span> </span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">end_capacity =</span> capacity) <span class="sc">%&gt;%</span> </span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"start_"</span>),</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"end_"</span>),</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>         tripduration) <span class="sc">%&gt;%</span> </span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(start_station_id, end_station_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q3d." class="level2">
<h2 class="anchored" data-anchor-id="q3d.">Q3d.</h2>
<ul>
<li><p>A bike route is defined by a combination of vales of <code>start_station_id</code> and <code>end_station_id</code>.</p></li>
<li><p>Using the resulting data frames from <code>citibike_trip_sample_geo</code>, create the data frame with a route-level observation with the following variables:</p></li>
<li><p><code>trip_mean</code>: mean value of tripduration for each route</p></li>
<li><p><code>trip_n</code>: number of bike trips for each route</p></li>
<li><p><code>start_station_id</code>: Start Station ID<br>
</p></li>
<li><p><code>start_station_name</code>: Start Station Name<br>
</p></li>
<li><p><code>start_capacity</code>: Start Station Capacity<br>
</p></li>
<li><p><code>end_station_id</code>: End Station ID<br>
</p></li>
<li><p><code>end_station_name</code>: End Station Name<br>
</p></li>
<li><p><code>end_capacity</code>: End Station Capacity</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>q3d <span class="ot">&lt;-</span> citibike_trip_sample_geo <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(start_station_id, end_station_id) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">trip_mean =</span> <span class="fu">mean</span>(tripduration, <span class="at">na.rm =</span> T),</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">trip_n =</span> <span class="fu">n</span>()</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(trip_mean, trip_n,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"start_"</span>), <span class="fu">starts_with</span>(<span class="st">"end_"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q3e." class="level2">
<h2 class="anchored" data-anchor-id="q3e.">Q3e.</h2>
<p>Using the resulting data.frame in Q3d, find the top 10 most popular bike routes.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>q3e <span class="ot">&lt;-</span> q3d <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>trip_n, <span class="sc">-</span>trip_mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q3f." class="level2">
<h2 class="anchored" data-anchor-id="q3f.">Q3f.</h2>
<ul>
<li><p>Consider the observations for which <code>trip_n</code> is less than or equal to 30.</p></li>
<li><p>Describe the relationship between <code>trip_n</code> and <code>start_capacity</code> using ggplot.</p></li>
<li><p>Make a comment on the resulting visualzation.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>q3d <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trip_n <span class="sc">&lt;</span> <span class="dv">30</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> start_capacity,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> trip_n) ) <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>Comments are not provided here.</li>
</ul>
<p><br><br></p>
</section>
</section>
<section id="question-4" class="level1">
<h1>Question 4</h1>
<p>The following is the data frame for Question 4:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>okboomers <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bcdanl.github.io/data/okboomers.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="variable-description-3" class="level2">
<h2 class="anchored" data-anchor-id="variable-description-3">Variable description</h2>
<ul>
<li><code>year</code>: Year</li>
<li><code>month</code>: Month</li>
<li><code>n_days</code>: Number of days in month</li>
<li><code>births</code>: Number of births</li>
<li><code>total_pop</code>: National Population</li>
<li><code>date</code>: Date</li>
<li><code>country</code>: Country</li>
</ul>
<p><br></p>
</section>
<section id="q4a." class="level2">
<h2 class="anchored" data-anchor-id="q4a.">Q4a.</h2>
<p>Report (1) minimum, (2) median, (3) maximum, (4) mean, and (5) standard deviation of variable <code>births</code> for the United States.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(okboomers<span class="sc">$</span>country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
England and Wales     United States 
              648               996 </code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">'United States'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  skimr<span class="sc">::</span><span class="fu">skim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">Piped data</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">996</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Date</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">country</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: Date</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 17%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">min</th>
<th style="text-align: left;">max</th>
<th style="text-align: left;">median</th>
<th style="text-align: right;">n_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">date</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">1933-01-01</td>
<td style="text-align: left;">2015-12-01</td>
<td style="text-align: left;">1974-06-16</td>
<td style="text-align: right;">996</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 11%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 7%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">year</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1974.00</td>
<td style="text-align: right;">23.97</td>
<td style="text-align: right;">1933</td>
<td style="text-align: right;">1953.00</td>
<td style="text-align: right;">1974.0</td>
<td style="text-align: right;">1995.00</td>
<td style="text-align: right;">2015</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">month</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6.50</td>
<td style="text-align: right;">3.45</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.75</td>
<td style="text-align: right;">6.5</td>
<td style="text-align: right;">9.25</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">▇▅▅▅▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">n_days</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">30.44</td>
<td style="text-align: right;">0.82</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">30.00</td>
<td style="text-align: right;">31.0</td>
<td style="text-align: right;">31.00</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">▁▁▁▅▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">births</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">301422.83</td>
<td style="text-align: right;">52536.44</td>
<td style="text-align: right;">165939</td>
<td style="text-align: right;">280200.25</td>
<td style="text-align: right;">315994.0</td>
<td style="text-align: right;">337987.00</td>
<td style="text-align: right;">392230</td>
<td style="text-align: left;">▂▁▃▇▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">total_pop</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">214656790.84</td>
<td style="text-align: right;">60204286.68</td>
<td style="text-align: right;">125579000</td>
<td style="text-align: right;">158956000.00</td>
<td style="text-align: right;">213341554.0</td>
<td style="text-align: right;">266278393.00</td>
<td style="text-align: right;">321039839</td>
<td style="text-align: left;">▇▆▆▅▆</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
</section>
<section id="q4b." class="level2">
<h2 class="anchored" data-anchor-id="q4b.">Q4b.</h2>
<ul>
<li>Add the following variable to the data.frame, <code>okboomers</code>:
<ul>
<li><code>births_pct_day</code>: Average number of births per million people per day, for the observed month</li>
</ul></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>okboomers <span class="ot">&lt;-</span> okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">births_pct_day =</span> <span class="dv">1000000</span> <span class="sc">*</span> (births <span class="sc">/</span> total_pop) <span class="sc">/</span> n_days)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q4c." class="level2">
<h2 class="anchored" data-anchor-id="q4c.">Q4c.</h2>
<ul>
<li><p>Describe the monthly trend of <code>births_pct_day</code> for each country in one plot.</p></li>
<li><p>Make a comment on the resulting visualization.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> <span class="fu">filter</span>(okboomers,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                          country <span class="sc">==</span> <span class="st">"United States"</span>),</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> births_pct_day),</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">color=</span> <span class="st">'red'</span>) <span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> <span class="fu">filter</span>(okboomers,</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>                          country <span class="sc">==</span> <span class="st">"England and Wales"</span>),</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> births_pct_day),</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">color=</span> <span class="st">'blue'</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_1a_fall_2022_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>Comments are not provided here.</li>
</ul>
<p><br></p>
</section>
<section id="q4d." class="level2">
<h2 class="anchored" data-anchor-id="q4d.">Q4d.</h2>
<ul>
<li>Which year and month did record the highest <code>births_pct_day</code>?</li>
<li>Which year and month did record the second highest <code>births_pct_day</code>?</li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>okboomers <span class="ot">&lt;-</span> okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">births_pct_day =</span> <span class="dv">1000000</span> <span class="sc">*</span> (births <span class="sc">/</span> total_pop) <span class="sc">/</span> n_days)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>q4d1 <span class="ot">&lt;-</span> okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>births_pct_day) <span class="sc">%&gt;%</span> </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>q4d2 <span class="ot">&lt;-</span> okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">!=</span> <span class="st">"United States"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>births_pct_day) <span class="sc">%&gt;%</span> </span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>The highest year was 1960 with 392,230 births in month 8</li>
<li>The second highest year was 2007 with 390,378 births in month 8</li>
</ul>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script type="text/javascript" src="links.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb38" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Fall 2022 DANL 200 Final Exam 1"</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Byeong-Hak Choe"</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show the code"</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co">  eval: true</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, include=F}</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_ipsum</span>())</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a><span class="fu"># Load R packages</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F}</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a><span class="fu"># Question 1</span></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>The following is the description for Question 1:</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The Nobel Prize in Economic Science in 2021 goes to David Card, Joshua Angrist and Guido Imbens, for their empirical contributions to labor economics, and  for their methodological contributions to the analysis of causal relationships.</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The Nobel Laureates – David Card, Joshua Angrist and Guido Imbens – have provided us with new insights about the labor market and shown what conclusions about cause and effect can be drawn from natural experiments. Their approach has spread to other fields and revolutionized empirical research.</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The following data.frame comes from the 1980 US Census and covers men born 1930–1939, which is used by Joshua Angrist and Alan Krueger's research article.</span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a>ak91_age <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>  <span class="st">'https://bcdanl.github.io/data/ak91_age.csv'</span></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variable description</span></span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`QoB`</span>: Quarter of birth</span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`YoB`</span>: Year of birth (1930, 1931, ..., 1939)</span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`YoBQ`</span>: Year and quarter of birth (1930 Q1, 1930 Q2, ..., 1939 Q4)</span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`logW`</span>: the natural log of weekly wage</span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Educ`</span>: Years of education</span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`Q4`</span>: <span class="in">`TRUE`</span> if <span class="in">`QoB == 4`</span>; <span class="in">`FALSE`</span> otherwise.</span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1a</span></span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a>Describe the relationship between years of schooling and quarter of birth.</span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-72"><a href="#cb38-72" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-73"><a href="#cb38-73" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ak91_age, <span class="fu">aes</span>(<span class="at">x =</span> YoBQ, <span class="at">y =</span> Educ)) <span class="sc">+</span></span>
<span id="cb38-74"><a href="#cb38-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb38-75"><a href="#cb38-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="fu">aes</span>(<span class="at">color =</span> Q4) ) </span>
<span id="cb38-76"><a href="#cb38-76" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-77"><a href="#cb38-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-78"><a href="#cb38-78" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>A child born in late December can start first grade earlier than a child, nearly the same age, who is born in early January. </span>
<span id="cb38-79"><a href="#cb38-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-80"><a href="#cb38-80" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>For many decades an individual could quit school at age 16. </span>
<span id="cb38-81"><a href="#cb38-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-82"><a href="#cb38-82" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The random factor of quarter of birth is correlated with (months) of education.</span>
<span id="cb38-83"><a href="#cb38-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-84"><a href="#cb38-84" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>People who were born in the first quarter of the year get a little bit less education than people born in the fourth quarter! </span>
<span id="cb38-85"><a href="#cb38-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-86"><a href="#cb38-86" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The difference is small, .1 or so of a year but it’s clear the difference is there.</span>
<span id="cb38-87"><a href="#cb38-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-88"><a href="#cb38-88" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>This figure plots average schooling by year and QoB for men born in the 1930s.</span>
<span id="cb38-89"><a href="#cb38-89" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Most men in these cohorts finished high school, so their average highest grade completed ranges from 12 to 13 years. </span>
<span id="cb38-90"><a href="#cb38-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-91"><a href="#cb38-91" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>This figure exhibits a surprising sawtooth pattern: </span>
<span id="cb38-92"><a href="#cb38-92" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Men born earlier in the year tend to have lower average schooling than those born later. </span>
<span id="cb38-93"><a href="#cb38-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-94"><a href="#cb38-94" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The teeth of the saw have an amplitude of about 0.15. </span>
<span id="cb38-95"><a href="#cb38-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-96"><a href="#cb38-96" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Among men born in the 1930s, about 20% left school in grade 10 or sooner. </span>
<span id="cb38-97"><a href="#cb38-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-98"><a href="#cb38-98" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Late-quarter births impose about 0.75 of a grade's worth of extra schooling on this 20%. The calculation .2 × .75 = .15 accounts for the ups and downs in this figure.</span>
<span id="cb38-99"><a href="#cb38-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-100"><a href="#cb38-100" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-101"><a href="#cb38-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-102"><a href="#cb38-102" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1b.</span></span>
<span id="cb38-103"><a href="#cb38-103" aria-hidden="true" tabindex="-1"></a>Describe the relationship between the log of weekly wage and quarter of birth.</span>
<span id="cb38-104"><a href="#cb38-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-107"><a href="#cb38-107" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-108"><a href="#cb38-108" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ak91_age, <span class="fu">aes</span>(<span class="at">x =</span> YoBQ, <span class="at">y =</span> logW)) <span class="sc">+</span></span>
<span id="cb38-109"><a href="#cb38-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb38-110"><a href="#cb38-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>( <span class="fu">aes</span>(<span class="at">color =</span> Q4) ) </span>
<span id="cb38-111"><a href="#cb38-111" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-112"><a href="#cb38-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-113"><a href="#cb38-113" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The flatness of earnings from year to year seen in this figure isn’t surprising. </span>
<span id="cb38-114"><a href="#cb38-114" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Earnings initially increase sharply with age, but the age-earnings profile  tends to flatten out for men in their forties. </span>
<span id="cb38-115"><a href="#cb38-115" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Importantly, however, the <span class="in">`QoB`</span> sawtooth in schooling is paralleled by a similar <span class="in">`QoB`</span> sawtooth in average earnings. </span>
<span id="cb38-116"><a href="#cb38-116" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Men born later in the year not only get more schooling than those born earlier, they have higher earnings as well. </span>
<span id="cb38-117"><a href="#cb38-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-118"><a href="#cb38-118" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-119"><a href="#cb38-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-120"><a href="#cb38-120" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1c.</span></span>
<span id="cb38-121"><a href="#cb38-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-122"><a href="#cb38-122" aria-hidden="true" tabindex="-1"></a>Calculate the mean value of <span class="in">`logW`</span> and the mean value of <span class="in">`Educ`</span> for each combination of values of variables <span class="in">`YoB`</span> and <span class="in">`Q4`</span>.</span>
<span id="cb38-123"><a href="#cb38-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-126"><a href="#cb38-126" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-127"><a href="#cb38-127" aria-hidden="true" tabindex="-1"></a>q1c <span class="ot">&lt;-</span> ak91_age <span class="sc">%&gt;%</span> </span>
<span id="cb38-128"><a href="#cb38-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(YoBQ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-129"><a href="#cb38-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(YoB, Q4) <span class="sc">%&gt;%</span> </span>
<span id="cb38-130"><a href="#cb38-130" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_logW =</span> <span class="fu">mean</span>(logW, <span class="at">na.rm =</span> T),</span>
<span id="cb38-131"><a href="#cb38-131" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_Educ =</span> <span class="fu">mean</span>(Educ, <span class="at">na.rm =</span> T))</span>
<span id="cb38-132"><a href="#cb38-132" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-133"><a href="#cb38-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-134"><a href="#cb38-134" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-135"><a href="#cb38-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-136"><a href="#cb38-136" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1d.</span></span>
<span id="cb38-137"><a href="#cb38-137" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Calculate the difference between the mean value of <span class="in">`logW`</span> for <span class="in">`Q4 == TRUE`</span> the mean value of <span class="in">`logW`</span> for <span class="in">`Q4 == FALSE`</span> for each value of <span class="in">`YoB`</span>.</span>
<span id="cb38-138"><a href="#cb38-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-139"><a href="#cb38-139" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Calculate the difference between the mean value of <span class="in">`Educ`</span> for <span class="in">`Q4 == TRUE`</span> the mean value of <span class="in">`Educ`</span> for <span class="in">`Q4 == FALSE`</span> for each value of <span class="in">`YoB`</span>.</span>
<span id="cb38-140"><a href="#cb38-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-143"><a href="#cb38-143" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-144"><a href="#cb38-144" aria-hidden="true" tabindex="-1"></a>q4d_w <span class="ot">&lt;-</span> q1c <span class="sc">%&gt;%</span> </span>
<span id="cb38-145"><a href="#cb38-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>mean_Educ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-146"><a href="#cb38-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Q4,</span>
<span id="cb38-147"><a href="#cb38-147" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> mean_logW,</span>
<span id="cb38-148"><a href="#cb38-148" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">"Q4_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-149"><a href="#cb38-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">diff_logW =</span> Q4_TRUE <span class="sc">-</span> Q4_FALSE )</span>
<span id="cb38-150"><a href="#cb38-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-151"><a href="#cb38-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-152"><a href="#cb38-152" aria-hidden="true" tabindex="-1"></a>q4d_e <span class="ot">&lt;-</span> q1c <span class="sc">%&gt;%</span> </span>
<span id="cb38-153"><a href="#cb38-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>mean_logW) <span class="sc">%&gt;%</span> </span>
<span id="cb38-154"><a href="#cb38-154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Q4,</span>
<span id="cb38-155"><a href="#cb38-155" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> mean_Educ,</span>
<span id="cb38-156"><a href="#cb38-156" aria-hidden="true" tabindex="-1"></a>              <span class="at">names_prefix =</span> <span class="st">"Q4_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-157"><a href="#cb38-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">diff_Educ =</span> Q4_TRUE <span class="sc">-</span> Q4_FALSE )</span>
<span id="cb38-158"><a href="#cb38-158" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-159"><a href="#cb38-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-160"><a href="#cb38-160" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb38-161"><a href="#cb38-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-162"><a href="#cb38-162" aria-hidden="true" tabindex="-1"></a><span class="fu"># Question 2</span></span>
<span id="cb38-163"><a href="#cb38-163" aria-hidden="true" tabindex="-1"></a>One of the last year's Nobel Laureates, David Card, wrote the research paper---Card, David and Krueger, Alan. "Minimum Wages and Employment: A Case Study of the Fast-Food Industry in New Jersey and Pennsylvania." The American Economic Review 84.4 (Sept. 1994) 772-793.---that challenged conventional wisdom among economists, leading to new analyses and additional insights on the labor market.</span>
<span id="cb38-164"><a href="#cb38-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-165"><a href="#cb38-165" aria-hidden="true" tabindex="-1"></a>Card and Krueger (1994) studied the effects on employment in two neighboring areas---New Jersey (NJ) and eastern Pennsylvania (PA)–––which have a similar labor market, but where the minimum wage was increased on one side of the border but not the other. </span>
<span id="cb38-166"><a href="#cb38-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-167"><a href="#cb38-167" aria-hidden="true" tabindex="-1"></a>Card and Krueger (1994) focused on employment in fast-food restaurants, an industry where pay is low and minimum wages matter. </span>
<span id="cb38-168"><a href="#cb38-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-169"><a href="#cb38-169" aria-hidden="true" tabindex="-1"></a>The following is the data frame used in Card and Krueger (1994), which is for Question 2:</span>
<span id="cb38-170"><a href="#cb38-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-173"><a href="#cb38-173" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-174"><a href="#cb38-174" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb38-175"><a href="#cb38-175" aria-hidden="true" tabindex="-1"></a>card_krueger_1994 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb38-176"><a href="#cb38-176" aria-hidden="true" tabindex="-1"></a>  <span class="st">'https://bcdanl.github.io/data/card_krueger_1994.csv'</span></span>
<span id="cb38-177"><a href="#cb38-177" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-178"><a href="#cb38-178" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-179"><a href="#cb38-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-180"><a href="#cb38-180" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variable description</span></span>
<span id="cb38-181"><a href="#cb38-181" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`sheet`</span>: Sheet number </span>
<span id="cb38-182"><a href="#cb38-182" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>ID for a franchise fast-food restaurant</span>
<span id="cb38-183"><a href="#cb38-183" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(e.g, Burger King, KFC, Wendys, Roy Rogers)</span>
<span id="cb38-184"><a href="#cb38-184" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`time`</span></span>
<span id="cb38-185"><a href="#cb38-185" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`Before`</span> if date is before April 1, 1992:</span>
<span id="cb38-186"><a href="#cb38-186" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`After`</span> if date is after April 1, 1992: </span>
<span id="cb38-187"><a href="#cb38-187" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>On April 1, 1992, the hourly minimum wage in New Jersey was increased from 4.25 dollars to 5.05 dollars. </span>
<span id="cb38-188"><a href="#cb38-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-189"><a href="#cb38-189" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`time_n`</span></span>
<span id="cb38-190"><a href="#cb38-190" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>1 if <span class="in">`time == Before`</span></span>
<span id="cb38-191"><a href="#cb38-191" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>2 if <span class="in">`time == After`</span></span>
<span id="cb38-192"><a href="#cb38-192" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`empft`</span>: The number of full-time employees</span>
<span id="cb38-193"><a href="#cb38-193" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`wage_st`</span>: Starting wage ($/hr)</span>
<span id="cb38-194"><a href="#cb38-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-195"><a href="#cb38-195" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-196"><a href="#cb38-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-197"><a href="#cb38-197" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Assume that nothing other than the change in the NJ's minimum wage changed the number of full-time employees and starting wages across the states (NJ and PA) after April 1, 1992.</span>
<span id="cb38-198"><a href="#cb38-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-199"><a href="#cb38-199" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>This assumption is valid.</span>
<span id="cb38-200"><a href="#cb38-200" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>This is because there was no apparent reason to believe that any factor (such as the economic situation) apart from the increase in the minimum wage would affect employment trends differently on either side of the border.</span>
<span id="cb38-201"><a href="#cb38-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-202"><a href="#cb38-202" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-203"><a href="#cb38-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-204"><a href="#cb38-204" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2a.</span></span>
<span id="cb38-205"><a href="#cb38-205" aria-hidden="true" tabindex="-1"></a>Using the given data.frame, <span class="in">`card_krueger_1994`</span>, create the data.frame, <span class="in">`card_krueger_1994`</span>, for which <span class="in">`time`</span> and <span class="in">`state`</span> are factor-type variables with reference levels <span class="in">`"Before"`</span> and <span class="in">`"PA"`</span>, respectively.</span>
<span id="cb38-206"><a href="#cb38-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-209"><a href="#cb38-209" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-210"><a href="#cb38-210" aria-hidden="true" tabindex="-1"></a>card_krueger_1994<span class="sc">$</span>time <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">factor</span>(card_krueger_1994<span class="sc">$</span>time), <span class="st">"Before"</span>)</span>
<span id="cb38-211"><a href="#cb38-211" aria-hidden="true" tabindex="-1"></a>card_krueger_1994<span class="sc">$</span>state <span class="ot">&lt;-</span> <span class="fu">relevel</span>(<span class="fu">factor</span>(card_krueger_1994<span class="sc">$</span>state), <span class="st">"PA"</span>)</span>
<span id="cb38-212"><a href="#cb38-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-213"><a href="#cb38-213" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-214"><a href="#cb38-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-215"><a href="#cb38-215" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-216"><a href="#cb38-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-217"><a href="#cb38-217" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2b.</span></span>
<span id="cb38-218"><a href="#cb38-218" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Describe the time trend of <span class="in">`empft`</span> by <span class="in">`state`</span> using both ggplot and words.</span>
<span id="cb38-219"><a href="#cb38-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-220"><a href="#cb38-220" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Also, describe the time trend of <span class="in">`wage_st`</span> by <span class="in">`state`</span> using both ggplot and words.</span>
<span id="cb38-221"><a href="#cb38-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-224"><a href="#cb38-224" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-225"><a href="#cb38-225" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(card_krueger_1994,</span>
<span id="cb38-226"><a href="#cb38-226" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> time_n, </span>
<span id="cb38-227"><a href="#cb38-227" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> empft, </span>
<span id="cb38-228"><a href="#cb38-228" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb38-229"><a href="#cb38-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb38-230"><a href="#cb38-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span>F) </span>
<span id="cb38-231"><a href="#cb38-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-232"><a href="#cb38-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-233"><a href="#cb38-233" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(card_krueger_1994,</span>
<span id="cb38-234"><a href="#cb38-234" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> time, </span>
<span id="cb38-235"><a href="#cb38-235" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> empft, </span>
<span id="cb38-236"><a href="#cb38-236" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> state)) <span class="sc">+</span></span>
<span id="cb38-237"><a href="#cb38-237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span>
<span id="cb38-238"><a href="#cb38-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-239"><a href="#cb38-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-240"><a href="#cb38-240" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(card_krueger_1994,</span>
<span id="cb38-241"><a href="#cb38-241" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> time_n, </span>
<span id="cb38-242"><a href="#cb38-242" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> wage_st, </span>
<span id="cb38-243"><a href="#cb38-243" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> state)) <span class="sc">+</span></span>
<span id="cb38-244"><a href="#cb38-244" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb38-245"><a href="#cb38-245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se=</span>F) </span>
<span id="cb38-246"><a href="#cb38-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-247"><a href="#cb38-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-248"><a href="#cb38-248" aria-hidden="true" tabindex="-1"></a>card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb38-249"><a href="#cb38-249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span> time, <span class="at">y=</span> empft,<span class="at">fill =</span> state))<span class="sc">+</span></span>
<span id="cb38-250"><a href="#cb38-250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">'identity'</span>)</span>
<span id="cb38-251"><a href="#cb38-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-252"><a href="#cb38-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-253"><a href="#cb38-253" aria-hidden="true" tabindex="-1"></a>q2b <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb38-254"><a href="#cb38-254" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(time_n, state) <span class="sc">%&gt;%</span> </span>
<span id="cb38-255"><a href="#cb38-255" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_wage =</span> <span class="fu">mean</span>(wage_st, <span class="at">na.rm =</span> T)) </span>
<span id="cb38-256"><a href="#cb38-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-257"><a href="#cb38-257" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2b,</span>
<span id="cb38-258"><a href="#cb38-258" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x=</span> time_n, <span class="at">y=</span> mean_wage, <span class="at">fill =</span> state)) <span class="sc">+</span></span>
<span id="cb38-259"><a href="#cb38-259" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">'dodge'</span>)</span>
<span id="cb38-260"><a href="#cb38-260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-261"><a href="#cb38-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-262"><a href="#cb38-262" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Verbal description is not provided here.</span>
<span id="cb38-263"><a href="#cb38-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-264"><a href="#cb38-264" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-265"><a href="#cb38-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-266"><a href="#cb38-266" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2c.</span></span>
<span id="cb38-267"><a href="#cb38-267" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Split the data.frame, card_krueger_1994, into training and testing data frames, in which (1) the training data frame contains approximately 70% observations with <span class="in">`state == PA`</span> and 70% of observations with <span class="in">`state == NJ`</span>, and (2) the testing data frame contains the rest 30% observations with <span class="in">`state == PA`</span> and the rest 30% of observations with <span class="in">`state == NJ`</span>.</span>
<span id="cb38-268"><a href="#cb38-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-269"><a href="#cb38-269" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>So, the training data frame contains approximately 70% observations of <span class="in">`card_krueger_1994`</span>, and the testing data frame contains approximately 30% observations of <span class="in">`card_krueger_1994`</span>.</span>
<span id="cb38-270"><a href="#cb38-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-271"><a href="#cb38-271" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In the training and testing data.frames, two different observations with the same value of <span class="in">`sheet`</span> (e.g., two observations with <span class="in">`sheet == 1`</span> and <span class="in">`time == "Before"`</span>, <span class="in">`time == "After"`</span>) must belong to either the training data.frame or the testing data.frame.</span>
<span id="cb38-272"><a href="#cb38-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-275"><a href="#cb38-275" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-276"><a href="#cb38-276" aria-hidden="true" tabindex="-1"></a>q1b_1_pa <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb38-277"><a href="#cb38-277" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_n <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> state <span class="sc">==</span> <span class="st">"PA"</span>)</span>
<span id="cb38-278"><a href="#cb38-278" aria-hidden="true" tabindex="-1"></a>q1b_2_pa <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb38-279"><a href="#cb38-279" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_n <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> state <span class="sc">==</span> <span class="st">"PA"</span>)</span>
<span id="cb38-280"><a href="#cb38-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-281"><a href="#cb38-281" aria-hidden="true" tabindex="-1"></a>q1b_1_nj <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb38-282"><a href="#cb38-282" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_n <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> state <span class="sc">==</span> <span class="st">"NJ"</span>)</span>
<span id="cb38-283"><a href="#cb38-283" aria-hidden="true" tabindex="-1"></a>q1b_2_nj <span class="ot">&lt;-</span> card_krueger_1994 <span class="sc">%&gt;%</span> </span>
<span id="cb38-284"><a href="#cb38-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_n <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> state <span class="sc">==</span> <span class="st">"NJ"</span>)</span>
<span id="cb38-285"><a href="#cb38-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-286"><a href="#cb38-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-287"><a href="#cb38-287" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2</span>)</span>
<span id="cb38-288"><a href="#cb38-288" aria-hidden="true" tabindex="-1"></a>gp_pa <span class="ot">&lt;-</span> <span class="fu">runif</span>( <span class="fu">nrow</span>(q1b_1_pa)) </span>
<span id="cb38-289"><a href="#cb38-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-290"><a href="#cb38-290" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">3</span>)</span>
<span id="cb38-291"><a href="#cb38-291" aria-hidden="true" tabindex="-1"></a>gp_nj <span class="ot">&lt;-</span> <span class="fu">runif</span>( <span class="fu">nrow</span>(q1b_1_nj) )</span>
<span id="cb38-292"><a href="#cb38-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-293"><a href="#cb38-293" aria-hidden="true" tabindex="-1"></a>q1b_1_pa_train <span class="ot">&lt;-</span> q1b_1_pa <span class="sc">%&gt;%</span> </span>
<span id="cb38-294"><a href="#cb38-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_pa <span class="sc">&gt;</span> .<span class="dv">3</span>)</span>
<span id="cb38-295"><a href="#cb38-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-296"><a href="#cb38-296" aria-hidden="true" tabindex="-1"></a>q1b_1_pa_test <span class="ot">&lt;-</span> q1b_1_pa <span class="sc">%&gt;%</span> </span>
<span id="cb38-297"><a href="#cb38-297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_pa <span class="sc">&lt;=</span> .<span class="dv">3</span>)</span>
<span id="cb38-298"><a href="#cb38-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-299"><a href="#cb38-299" aria-hidden="true" tabindex="-1"></a>q1b_2_pa_train <span class="ot">&lt;-</span> q1b_2_pa <span class="sc">%&gt;%</span> </span>
<span id="cb38-300"><a href="#cb38-300" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_pa <span class="sc">&gt;</span> .<span class="dv">3</span>)</span>
<span id="cb38-301"><a href="#cb38-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-302"><a href="#cb38-302" aria-hidden="true" tabindex="-1"></a>q1b_2_pa_test <span class="ot">&lt;-</span> q1b_2_pa <span class="sc">%&gt;%</span> </span>
<span id="cb38-303"><a href="#cb38-303" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_pa <span class="sc">&lt;=</span> .<span class="dv">3</span>)</span>
<span id="cb38-304"><a href="#cb38-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-305"><a href="#cb38-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-306"><a href="#cb38-306" aria-hidden="true" tabindex="-1"></a>q1b_1_nj_train <span class="ot">&lt;-</span> q1b_1_nj <span class="sc">%&gt;%</span> </span>
<span id="cb38-307"><a href="#cb38-307" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_nj <span class="sc">&gt;</span> .<span class="dv">3</span>)</span>
<span id="cb38-308"><a href="#cb38-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-309"><a href="#cb38-309" aria-hidden="true" tabindex="-1"></a>q1b_1_nj_test <span class="ot">&lt;-</span> q1b_1_nj <span class="sc">%&gt;%</span> </span>
<span id="cb38-310"><a href="#cb38-310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_nj <span class="sc">&lt;=</span> .<span class="dv">3</span>)</span>
<span id="cb38-311"><a href="#cb38-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-312"><a href="#cb38-312" aria-hidden="true" tabindex="-1"></a>q1b_2_nj_train <span class="ot">&lt;-</span> q1b_2_nj <span class="sc">%&gt;%</span> </span>
<span id="cb38-313"><a href="#cb38-313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_nj <span class="sc">&gt;</span> .<span class="dv">3</span>)</span>
<span id="cb38-314"><a href="#cb38-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-315"><a href="#cb38-315" aria-hidden="true" tabindex="-1"></a>q1b_2_nj_test <span class="ot">&lt;-</span> q1b_2_nj <span class="sc">%&gt;%</span> </span>
<span id="cb38-316"><a href="#cb38-316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp_nj <span class="sc">&lt;=</span> .<span class="dv">3</span>)</span>
<span id="cb38-317"><a href="#cb38-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-318"><a href="#cb38-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-319"><a href="#cb38-319" aria-hidden="true" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">rbind</span>(q1b_1_pa_train, q1b_2_pa_train,</span>
<span id="cb38-320"><a href="#cb38-320" aria-hidden="true" tabindex="-1"></a>                q1b_1_nj_train, q1b_2_nj_train) <span class="sc">%&gt;%</span> </span>
<span id="cb38-321"><a href="#cb38-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(sheet, time_n)</span>
<span id="cb38-322"><a href="#cb38-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-323"><a href="#cb38-323" aria-hidden="true" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">rbind</span>(q1b_1_pa_test, q1b_2_pa_test,</span>
<span id="cb38-324"><a href="#cb38-324" aria-hidden="true" tabindex="-1"></a>               q1b_1_nj_test, q1b_2_nj_test) <span class="sc">%&gt;%</span> </span>
<span id="cb38-325"><a href="#cb38-325" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(sheet, time_n)</span>
<span id="cb38-326"><a href="#cb38-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-327"><a href="#cb38-327" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-328"><a href="#cb38-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-329"><a href="#cb38-329" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-330"><a href="#cb38-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-331"><a href="#cb38-331" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2d.</span></span>
<span id="cb38-332"><a href="#cb38-332" aria-hidden="true" tabindex="-1"></a>Consider the four linear regression models with the following four different formulas.</span>
<span id="cb38-335"><a href="#cb38-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-336"><a href="#cb38-336" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb38-337"><a href="#cb38-337" aria-hidden="true" tabindex="-1"></a>formula_1 <span class="ot">&lt;-</span> <span class="fu">log</span>(empft) <span class="sc">~</span> time <span class="sc">+</span> state</span>
<span id="cb38-338"><a href="#cb38-338" aria-hidden="true" tabindex="-1"></a>formula_2 <span class="ot">&lt;-</span> <span class="fu">log</span>(empft) <span class="sc">~</span> time <span class="sc">*</span> state</span>
<span id="cb38-339"><a href="#cb38-339" aria-hidden="true" tabindex="-1"></a>formula_3 <span class="ot">&lt;-</span> <span class="fu">log</span>(wage_st) <span class="sc">~</span> time <span class="sc">+</span> state</span>
<span id="cb38-340"><a href="#cb38-340" aria-hidden="true" tabindex="-1"></a>formula_4 <span class="ot">&lt;-</span> <span class="fu">log</span>(wage_st) <span class="sc">~</span> time <span class="sc">*</span> state</span>
<span id="cb38-341"><a href="#cb38-341" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-342"><a href="#cb38-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-343"><a href="#cb38-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-344"><a href="#cb38-344" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Train the four linear regression models using the training data.frame from Q2c with the four different formulas, <span class="in">`formula_1`</span>, <span class="in">`formula_2`</span>, <span class="in">`formula_3`</span>, and <span class="in">`formula_4`</span>.</span>
<span id="cb38-345"><a href="#cb38-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-346"><a href="#cb38-346" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If you could not create the training data.frame in Q2c, use the data.frame, <span class="in">`card_krueger_1994`</span>, as the training data.frame.</span>
<span id="cb38-347"><a href="#cb38-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-350"><a href="#cb38-350" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-351"><a href="#cb38-351" aria-hidden="true" tabindex="-1"></a>model_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(empft <span class="sc">~</span> time<span class="sc">+</span>state, </span>
<span id="cb38-352"><a href="#cb38-352" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span>  dtrain)  </span>
<span id="cb38-353"><a href="#cb38-353" aria-hidden="true" tabindex="-1"></a>model_2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(empft <span class="sc">~</span> time<span class="sc">*</span>state, </span>
<span id="cb38-354"><a href="#cb38-354" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span>  dtrain)  </span>
<span id="cb38-355"><a href="#cb38-355" aria-hidden="true" tabindex="-1"></a>model_3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(wage_st <span class="sc">~</span> time<span class="sc">+</span>state, </span>
<span id="cb38-356"><a href="#cb38-356" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span>  dtrain)  </span>
<span id="cb38-357"><a href="#cb38-357" aria-hidden="true" tabindex="-1"></a>model_4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(wage_st <span class="sc">~</span> time<span class="sc">*</span>state, </span>
<span id="cb38-358"><a href="#cb38-358" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span>  dtrain)  </span>
<span id="cb38-359"><a href="#cb38-359" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-360"><a href="#cb38-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-361"><a href="#cb38-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-362"><a href="#cb38-362" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F}</span></span>
<span id="cb38-363"><a href="#cb38-363" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(model_1, model_2, model_3, model_4,</span>
<span id="cb38-364"><a href="#cb38-364" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">"text"</span>)</span>
<span id="cb38-365"><a href="#cb38-365" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-366"><a href="#cb38-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-367"><a href="#cb38-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-368"><a href="#cb38-368" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = F, results='asis'}</span></span>
<span id="cb38-369"><a href="#cb38-369" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(model_1, model_2, model_3, model_4,</span>
<span id="cb38-370"><a href="#cb38-370" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">"html"</span>)</span>
<span id="cb38-371"><a href="#cb38-371" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-372"><a href="#cb38-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-373"><a href="#cb38-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-374"><a href="#cb38-374" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-375"><a href="#cb38-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-376"><a href="#cb38-376" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2e.</span></span>
<span id="cb38-377"><a href="#cb38-377" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Visualize the confidence intervals of all the beta estimates except for the variable <span class="in">`(Intercept)`</span>.</span>
<span id="cb38-378"><a href="#cb38-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-379"><a href="#cb38-379" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>What does it mean that estimate == 0 belongs to a confidence interval?</span>
<span id="cb38-380"><a href="#cb38-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-381"><a href="#cb38-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-384"><a href="#cb38-384" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-385"><a href="#cb38-385" aria-hidden="true" tabindex="-1"></a>sum_model_2 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_2) <span class="sc">%&gt;%</span> </span>
<span id="cb38-386"><a href="#cb38-386" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)</span>
<span id="cb38-387"><a href="#cb38-387" aria-hidden="true" tabindex="-1"></a>sum_model_4 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_4)<span class="sc">%&gt;%</span> </span>
<span id="cb38-388"><a href="#cb38-388" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)</span>
<span id="cb38-389"><a href="#cb38-389" aria-hidden="true" tabindex="-1"></a>sum_model_1 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_1) <span class="sc">%&gt;%</span> </span>
<span id="cb38-390"><a href="#cb38-390" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)</span>
<span id="cb38-391"><a href="#cb38-391" aria-hidden="true" tabindex="-1"></a>sum_model_3 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_3)<span class="sc">%&gt;%</span> </span>
<span id="cb38-392"><a href="#cb38-392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)</span>
<span id="cb38-393"><a href="#cb38-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-394"><a href="#cb38-394" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sum_model_2) <span class="sc">+</span></span>
<span id="cb38-395"><a href="#cb38-395" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb38-396"><a href="#cb38-396" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb38-397"><a href="#cb38-397" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb38-398"><a href="#cb38-398" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb38-399"><a href="#cb38-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb38-400"><a href="#cb38-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-401"><a href="#cb38-401" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sum_model_1) <span class="sc">+</span></span>
<span id="cb38-402"><a href="#cb38-402" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb38-403"><a href="#cb38-403" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb38-404"><a href="#cb38-404" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb38-405"><a href="#cb38-405" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb38-406"><a href="#cb38-406" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb38-407"><a href="#cb38-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-408"><a href="#cb38-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-409"><a href="#cb38-409" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sum_model_4) <span class="sc">+</span></span>
<span id="cb38-410"><a href="#cb38-410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb38-411"><a href="#cb38-411" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb38-412"><a href="#cb38-412" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb38-413"><a href="#cb38-413" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb38-414"><a href="#cb38-414" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb38-415"><a href="#cb38-415" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sum_model_3) <span class="sc">+</span></span>
<span id="cb38-416"><a href="#cb38-416" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb38-417"><a href="#cb38-417" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb38-418"><a href="#cb38-418" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb38-419"><a href="#cb38-419" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb38-420"><a href="#cb38-420" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb38-421"><a href="#cb38-421" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-422"><a href="#cb38-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-423"><a href="#cb38-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-424"><a href="#cb38-424" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If <span class="in">`estimate == 0`</span> belongs to a confidence interval of the beta estimate, the beta estimate may not be statistically different from zero, and there is insufficient evidence to conclude that there is a non-zero relationship between the explanatory variable and the outcome variable.</span>
<span id="cb38-425"><a href="#cb38-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-426"><a href="#cb38-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-427"><a href="#cb38-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-428"><a href="#cb38-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-429"><a href="#cb38-429" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-430"><a href="#cb38-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-431"><a href="#cb38-431" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2f. and  Q2g.</span></span>
<span id="cb38-432"><a href="#cb38-432" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Interpret all the estimated coefficients from the model with <span class="in">`formula_2`</span></span>
<span id="cb38-433"><a href="#cb38-433" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>How did the increase in the minimum wage affect the employment level?</span>
<span id="cb38-434"><a href="#cb38-434" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Provide any economic intuition on the estimation result.</span>
<span id="cb38-435"><a href="#cb38-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-436"><a href="#cb38-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-437"><a href="#cb38-437" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Interpret all the estimated coefficients from the model with <span class="in">`formula_4`</span>.</span>
<span id="cb38-438"><a href="#cb38-438" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>How did the increase in the minimum wage affect starting salary?</span>
<span id="cb38-439"><a href="#cb38-439" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Provide any economic intuition on the estimation result.</span>
<span id="cb38-440"><a href="#cb38-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-441"><a href="#cb38-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-442"><a href="#cb38-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-443"><a href="#cb38-443" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Answer</span>
<span id="cb38-444"><a href="#cb38-444" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Interpretation of the beta estimates is not provided here.</span>
<span id="cb38-445"><a href="#cb38-445" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>The work conducted by Card at the beginning of the 1990s also led to new research, which attempted to explain the absence of negative effects on employment. </span>
<span id="cb38-446"><a href="#cb38-446" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>One possible explanation is that companies can transfer increased costs to consumers in the form of higher prices, without significant reductions in demand. </span>
<span id="cb38-447"><a href="#cb38-447" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Another explanation is that companies that dominate their local labor market can keep wages low; an increased minimum wage thus means that more people want to work, leading to increased employment. </span>
<span id="cb38-448"><a href="#cb38-448" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>When companies have such power over the market, we cannot determine in advance how employment will be affected by changes to the minimum wage. </span>
<span id="cb38-449"><a href="#cb38-449" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>The many studies inspired by Card and Krueger’s work have considerably improved our understanding of the labor market.</span>
<span id="cb38-450"><a href="#cb38-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-451"><a href="#cb38-451" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb38-452"><a href="#cb38-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-453"><a href="#cb38-453" aria-hidden="true" tabindex="-1"></a><span class="fu"># Question 3</span></span>
<span id="cb38-454"><a href="#cb38-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-455"><a href="#cb38-455" aria-hidden="true" tabindex="-1"></a>The following is the data frame for Question 3:</span>
<span id="cb38-458"><a href="#cb38-458" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-459"><a href="#cb38-459" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb38-460"><a href="#cb38-460" aria-hidden="true" tabindex="-1"></a>citibike_trip_sample <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb38-461"><a href="#cb38-461" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://bcdanl.github.io/data/citibike_trip.csv"</span>)</span>
<span id="cb38-462"><a href="#cb38-462" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-463"><a href="#cb38-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-464"><a href="#cb38-464" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variable description</span></span>
<span id="cb38-465"><a href="#cb38-465" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`tripduration`</span>: Trip Duration (in seconds)    </span>
<span id="cb38-466"><a href="#cb38-466" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`starttime`</span>: Start Time, in NYC local time.   </span>
<span id="cb38-467"><a href="#cb38-467" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`stoptime`</span>: Stop Time, in NYC local time. </span>
<span id="cb38-468"><a href="#cb38-468" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`start_station_id`</span>: Start Station ID  </span>
<span id="cb38-469"><a href="#cb38-469" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`start_station_name`</span>: Start Station Name  </span>
<span id="cb38-470"><a href="#cb38-470" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`end_station_id`</span>: End Station ID  </span>
<span id="cb38-471"><a href="#cb38-471" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`end_station_name`</span>: End Station Name  </span>
<span id="cb38-472"><a href="#cb38-472" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`bikeid`</span>: Bike ID </span>
<span id="cb38-473"><a href="#cb38-473" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`usertype`</span>: User Type (Customer = 24-hour pass or 7-day pass user, Subscriber = Annual Member)    </span>
<span id="cb38-474"><a href="#cb38-474" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`birth_year`</span>: Year of Birth   </span>
<span id="cb38-475"><a href="#cb38-475" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`gender`</span>: Gender (unknown, male, female)  </span>
<span id="cb38-476"><a href="#cb38-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-477"><a href="#cb38-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-478"><a href="#cb38-478" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3a.</span></span>
<span id="cb38-479"><a href="#cb38-479" aria-hidden="true" tabindex="-1"></a>In data.frame, <span class="in">`citibike_trip_sample`</span>, remove observations for which values of <span class="in">`tripduration`</span> is missing.</span>
<span id="cb38-480"><a href="#cb38-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-483"><a href="#cb38-483" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-484"><a href="#cb38-484" aria-hidden="true" tabindex="-1"></a>q3a <span class="ot">&lt;-</span> citibike_trip_sample <span class="sc">%&gt;%</span> </span>
<span id="cb38-485"><a href="#cb38-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(tripduration))</span>
<span id="cb38-486"><a href="#cb38-486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-487"><a href="#cb38-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-488"><a href="#cb38-488" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-489"><a href="#cb38-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-490"><a href="#cb38-490" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3b</span></span>
<span id="cb38-491"><a href="#cb38-491" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>From the resulting data.frame in Q3a, consider only the observations, for which </span>
<span id="cb38-492"><a href="#cb38-492" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(1) tripduration is less than 2 hours;</span>
<span id="cb38-493"><a href="#cb38-493" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) birth_year is not missing;</span>
<span id="cb38-494"><a href="#cb38-494" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) birth_year is greater than or equal to 1950;</span>
<span id="cb38-495"><a href="#cb38-495" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(3) gender is either <span class="in">`female`</span> or <span class="in">`male`</span>.</span>
<span id="cb38-496"><a href="#cb38-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-497"><a href="#cb38-497" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Describe how the relationship between <span class="in">`birth_year`</span> and <span class="in">`tripduration`</span> varies by <span class="in">`usertype`</span> and <span class="in">`gender`</span> using ggplot.</span>
<span id="cb38-498"><a href="#cb38-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-499"><a href="#cb38-499" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Make a comment on the resulting visualization.</span>
<span id="cb38-500"><a href="#cb38-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-503"><a href="#cb38-503" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-504"><a href="#cb38-504" aria-hidden="true" tabindex="-1"></a>q3a <span class="sc">%&gt;%</span> </span>
<span id="cb38-505"><a href="#cb38-505" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tripduration <span class="sc">&lt;=</span> <span class="dv">60</span><span class="sc">*</span><span class="dv">60</span><span class="sc">*</span><span class="dv">2</span>, <span class="sc">!</span><span class="fu">is.na</span>(birth_year),</span>
<span id="cb38-506"><a href="#cb38-506" aria-hidden="true" tabindex="-1"></a>         birth_year <span class="sc">&gt;=</span> <span class="dv">1950</span>,</span>
<span id="cb38-507"><a href="#cb38-507" aria-hidden="true" tabindex="-1"></a>         gender <span class="sc">!=</span> <span class="st">"unknown"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb38-508"><a href="#cb38-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> birth_year, <span class="at">y =</span> tripduration)) <span class="sc">+</span></span>
<span id="cb38-509"><a href="#cb38-509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb38-510"><a href="#cb38-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb38-511"><a href="#cb38-511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(usertype <span class="sc">~</span> gender, <span class="at">scale =</span> <span class="st">"free_y"</span>)</span>
<span id="cb38-512"><a href="#cb38-512" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-513"><a href="#cb38-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-514"><a href="#cb38-514" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Commenting is not provided here</span>
<span id="cb38-515"><a href="#cb38-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-516"><a href="#cb38-516" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-517"><a href="#cb38-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-518"><a href="#cb38-518" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3c.</span></span>
<span id="cb38-519"><a href="#cb38-519" aria-hidden="true" tabindex="-1"></a>Download the CSV file, <span class="in">`citibike_stations.csv`</span></span>
<span id="cb38-520"><a href="#cb38-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-521"><a href="#cb38-521" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Variable description of <span class="in">`citibike_stations.csv`</span></span>
<span id="cb38-522"><a href="#cb38-522" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`station_id`</span>: Unique identifier of a station.   </span>
<span id="cb38-523"><a href="#cb38-523" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`name`</span>: Public name of the station. </span>
<span id="cb38-524"><a href="#cb38-524" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`short_name`</span>: Short name or other type of identifier, as used by the data publisher.    </span>
<span id="cb38-525"><a href="#cb38-525" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`latitude`</span>: The latitude of station. The field value must be a valid WGS 84 latitude in decimal degrees format. </span>
<span id="cb38-526"><a href="#cb38-526" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`longitude`</span>: The longitude of station. The field value must be a valid WGS 84 longitude in decimal degrees format.  </span>
<span id="cb38-527"><a href="#cb38-527" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`region_id`</span>: ID of the region where station is located. </span>
<span id="cb38-528"><a href="#cb38-528" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`rental_methods`</span>: Array of enumerables containing the payment methods accepted at this station. </span>
<span id="cb38-529"><a href="#cb38-529" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`capacity`</span>: Number of total docking points installed at this station, both available and unavailable.   </span>
<span id="cb38-530"><a href="#cb38-530" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`num_bikes_available`</span>: Number of bikes available for rental.    </span>
<span id="cb38-531"><a href="#cb38-531" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`num_bikes_disabled`</span>: Number of disabled bikes at the station.  </span>
<span id="cb38-532"><a href="#cb38-532" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`num_docks_available`</span>: Number of docks accepting bike returns.  </span>
<span id="cb38-533"><a href="#cb38-533" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`num_docks_disabled`</span>: Number of empty but disabled dock points at the station.  </span>
<span id="cb38-534"><a href="#cb38-534" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`is_installed`</span>: Is the station currently on the street? </span>
<span id="cb38-535"><a href="#cb38-535" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`is_renting`</span>: Is the station currently renting bikes?   </span>
<span id="cb38-536"><a href="#cb38-536" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`is_returning`</span>: Is the station accepting bike returns?</span>
<span id="cb38-537"><a href="#cb38-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-538"><a href="#cb38-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-539"><a href="#cb38-539" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Create the data.frame, <span class="in">`citibike_trip_sample_geo`</span>, that includes the following variables:</span>
<span id="cb38-540"><a href="#cb38-540" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`tripduration`</span>  </span>
<span id="cb38-541"><a href="#cb38-541" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`start_station_id`</span>   </span>
<span id="cb38-542"><a href="#cb38-542" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`start_station_name`</span> </span>
<span id="cb38-543"><a href="#cb38-543" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`start_latitude`</span>    </span>
<span id="cb38-544"><a href="#cb38-544" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`start_longitude`</span>    </span>
<span id="cb38-545"><a href="#cb38-545" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`start_capacity`</span>     </span>
<span id="cb38-546"><a href="#cb38-546" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`end_station_id`</span>    </span>
<span id="cb38-547"><a href="#cb38-547" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`end_station_name`</span>   </span>
<span id="cb38-548"><a href="#cb38-548" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`end_latitude`</span>       </span>
<span id="cb38-549"><a href="#cb38-549" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`end_longitude`</span>     </span>
<span id="cb38-550"><a href="#cb38-550" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`end_capacity`</span>   </span>
<span id="cb38-551"><a href="#cb38-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-554"><a href="#cb38-554" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-555"><a href="#cb38-555" aria-hidden="true" tabindex="-1"></a>citibike_stations <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"/Users/byeong-hakchoe/Google Drive/suny-geneseo/teaching-materials/lecture-data/citibike_stations.csv"</span>)</span>
<span id="cb38-556"><a href="#cb38-556" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(citibike_stations)</span>
<span id="cb38-557"><a href="#cb38-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-558"><a href="#cb38-558" aria-hidden="true" tabindex="-1"></a>citibike_trip_sample_geo <span class="ot">&lt;-</span> q3a <span class="sc">%&gt;%</span></span>
<span id="cb38-559"><a href="#cb38-559" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">station_id =</span> start_station_id ) <span class="sc">%&gt;%</span></span>
<span id="cb38-560"><a href="#cb38-560" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(citibike_stations,</span>
<span id="cb38-561"><a href="#cb38-561" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"station_id"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-562"><a href="#cb38-562" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_latitude =</span> latitude) <span class="sc">%&gt;%</span></span>
<span id="cb38-563"><a href="#cb38-563" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_longitude =</span> longitude) <span class="sc">%&gt;%</span></span>
<span id="cb38-564"><a href="#cb38-564" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_station_id =</span> station_id) <span class="sc">%&gt;%</span></span>
<span id="cb38-565"><a href="#cb38-565" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_capacity =</span> capacity) <span class="sc">%&gt;%</span></span>
<span id="cb38-566"><a href="#cb38-566" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">station_id =</span> end_station_id ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-567"><a href="#cb38-567" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(citibike_stations,</span>
<span id="cb38-568"><a href="#cb38-568" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="st">"station_id"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-569"><a href="#cb38-569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">end_latitude =</span> latitude) <span class="sc">%&gt;%</span> </span>
<span id="cb38-570"><a href="#cb38-570" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">end_longitude =</span> longitude) <span class="sc">%&gt;%</span> </span>
<span id="cb38-571"><a href="#cb38-571" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">end_station_id =</span> station_id) <span class="sc">%&gt;%</span> </span>
<span id="cb38-572"><a href="#cb38-572" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">end_capacity =</span> capacity) <span class="sc">%&gt;%</span> </span>
<span id="cb38-573"><a href="#cb38-573" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"start_"</span>),</span>
<span id="cb38-574"><a href="#cb38-574" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"end_"</span>),</span>
<span id="cb38-575"><a href="#cb38-575" aria-hidden="true" tabindex="-1"></a>         tripduration) <span class="sc">%&gt;%</span> </span>
<span id="cb38-576"><a href="#cb38-576" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(start_station_id, end_station_id)</span>
<span id="cb38-577"><a href="#cb38-577" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-578"><a href="#cb38-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-579"><a href="#cb38-579" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-580"><a href="#cb38-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-581"><a href="#cb38-581" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3d.</span></span>
<span id="cb38-582"><a href="#cb38-582" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>A bike route is defined by a combination of vales of <span class="in">`start_station_id`</span> and <span class="in">`end_station_id`</span>.</span>
<span id="cb38-583"><a href="#cb38-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-584"><a href="#cb38-584" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Using the resulting data frames from <span class="in">`citibike_trip_sample_geo`</span>, create the data frame with a route-level observation with the following variables:</span>
<span id="cb38-585"><a href="#cb38-585" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-586"><a href="#cb38-586" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`trip_mean`</span>: mean value of tripduration for each route</span>
<span id="cb38-587"><a href="#cb38-587" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`trip_n`</span>: number of bike trips for each route</span>
<span id="cb38-588"><a href="#cb38-588" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`start_station_id`</span>: Start Station ID  </span>
<span id="cb38-589"><a href="#cb38-589" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`start_station_name`</span>: Start Station Name  </span>
<span id="cb38-590"><a href="#cb38-590" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`start_capacity`</span>: Start Station Capacity  </span>
<span id="cb38-591"><a href="#cb38-591" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`end_station_id`</span>: End Station ID  </span>
<span id="cb38-592"><a href="#cb38-592" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`end_station_name`</span>: End Station Name  </span>
<span id="cb38-593"><a href="#cb38-593" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`end_capacity`</span>: End Station Capacity  </span>
<span id="cb38-594"><a href="#cb38-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-597"><a href="#cb38-597" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-598"><a href="#cb38-598" aria-hidden="true" tabindex="-1"></a>q3d <span class="ot">&lt;-</span> citibike_trip_sample_geo <span class="sc">%&gt;%</span> </span>
<span id="cb38-599"><a href="#cb38-599" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(start_station_id, end_station_id) <span class="sc">%&gt;%</span> </span>
<span id="cb38-600"><a href="#cb38-600" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-601"><a href="#cb38-601" aria-hidden="true" tabindex="-1"></a>    <span class="at">trip_mean =</span> <span class="fu">mean</span>(tripduration, <span class="at">na.rm =</span> T),</span>
<span id="cb38-602"><a href="#cb38-602" aria-hidden="true" tabindex="-1"></a>    <span class="at">trip_n =</span> <span class="fu">n</span>()</span>
<span id="cb38-603"><a href="#cb38-603" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-604"><a href="#cb38-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(trip_mean, trip_n,</span>
<span id="cb38-605"><a href="#cb38-605" aria-hidden="true" tabindex="-1"></a>         <span class="fu">starts_with</span>(<span class="st">"start_"</span>), <span class="fu">starts_with</span>(<span class="st">"end_"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-606"><a href="#cb38-606" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb38-607"><a href="#cb38-607" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-608"><a href="#cb38-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-609"><a href="#cb38-609" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-610"><a href="#cb38-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-611"><a href="#cb38-611" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3e.</span></span>
<span id="cb38-612"><a href="#cb38-612" aria-hidden="true" tabindex="-1"></a>Using the resulting data.frame in Q3d, find the top 10 most popular bike routes.</span>
<span id="cb38-613"><a href="#cb38-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-616"><a href="#cb38-616" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-617"><a href="#cb38-617" aria-hidden="true" tabindex="-1"></a>q3e <span class="ot">&lt;-</span> q3d <span class="sc">%&gt;%</span> </span>
<span id="cb38-618"><a href="#cb38-618" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>trip_n, <span class="sc">-</span>trip_mean)</span>
<span id="cb38-619"><a href="#cb38-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-620"><a href="#cb38-620" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-621"><a href="#cb38-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-622"><a href="#cb38-622" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-623"><a href="#cb38-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-624"><a href="#cb38-624" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3f.</span></span>
<span id="cb38-625"><a href="#cb38-625" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Consider the observations for which <span class="in">`trip_n`</span> is less than or equal to 30.</span>
<span id="cb38-626"><a href="#cb38-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-627"><a href="#cb38-627" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Describe the relationship between <span class="in">`trip_n`</span> and <span class="in">`start_capacity`</span> using ggplot.</span>
<span id="cb38-628"><a href="#cb38-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-629"><a href="#cb38-629" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Make a comment on the resulting visualzation.</span>
<span id="cb38-630"><a href="#cb38-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-633"><a href="#cb38-633" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-634"><a href="#cb38-634" aria-hidden="true" tabindex="-1"></a>q3d <span class="sc">%&gt;%</span> </span>
<span id="cb38-635"><a href="#cb38-635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(trip_n <span class="sc">&lt;</span> <span class="dv">30</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-636"><a href="#cb38-636" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> start_capacity,</span>
<span id="cb38-637"><a href="#cb38-637" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> trip_n) ) <span class="sc">+</span></span>
<span id="cb38-638"><a href="#cb38-638" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb38-639"><a href="#cb38-639" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span>
<span id="cb38-640"><a href="#cb38-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-641"><a href="#cb38-641" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-642"><a href="#cb38-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-643"><a href="#cb38-643" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Comments are not provided here.</span>
<span id="cb38-644"><a href="#cb38-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-645"><a href="#cb38-645" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb38-646"><a href="#cb38-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-647"><a href="#cb38-647" aria-hidden="true" tabindex="-1"></a><span class="fu"># Question 4</span></span>
<span id="cb38-648"><a href="#cb38-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-649"><a href="#cb38-649" aria-hidden="true" tabindex="-1"></a>The following is the data frame for Question 4:</span>
<span id="cb38-650"><a href="#cb38-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-653"><a href="#cb38-653" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-654"><a href="#cb38-654" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb38-655"><a href="#cb38-655" aria-hidden="true" tabindex="-1"></a>okboomers <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bcdanl.github.io/data/okboomers.csv"</span>)</span>
<span id="cb38-656"><a href="#cb38-656" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-657"><a href="#cb38-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-658"><a href="#cb38-658" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variable description</span></span>
<span id="cb38-659"><a href="#cb38-659" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`year`</span>: Year</span>
<span id="cb38-660"><a href="#cb38-660" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`month`</span>: Month</span>
<span id="cb38-661"><a href="#cb38-661" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`n_days`</span>: Number of days in month</span>
<span id="cb38-662"><a href="#cb38-662" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`births`</span>: Number of births</span>
<span id="cb38-663"><a href="#cb38-663" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`total_pop`</span>: National Population</span>
<span id="cb38-664"><a href="#cb38-664" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`date`</span>: Date</span>
<span id="cb38-665"><a href="#cb38-665" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`country`</span>: Country</span>
<span id="cb38-666"><a href="#cb38-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-667"><a href="#cb38-667" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-668"><a href="#cb38-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-669"><a href="#cb38-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-670"><a href="#cb38-670" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q4a.</span></span>
<span id="cb38-671"><a href="#cb38-671" aria-hidden="true" tabindex="-1"></a>Report (1) minimum, (2) median, (3) maximum, (4) mean, and  (5) standard deviation of variable <span class="in">`births`</span> for the United States.</span>
<span id="cb38-672"><a href="#cb38-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-675"><a href="#cb38-675" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-676"><a href="#cb38-676" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(okboomers<span class="sc">$</span>country)</span>
<span id="cb38-677"><a href="#cb38-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-678"><a href="#cb38-678" aria-hidden="true" tabindex="-1"></a>okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb38-679"><a href="#cb38-679" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">'United States'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-680"><a href="#cb38-680" aria-hidden="true" tabindex="-1"></a>  skimr<span class="sc">::</span><span class="fu">skim</span>()</span>
<span id="cb38-681"><a href="#cb38-681" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-682"><a href="#cb38-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-683"><a href="#cb38-683" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-684"><a href="#cb38-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-685"><a href="#cb38-685" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q4b.</span></span>
<span id="cb38-686"><a href="#cb38-686" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Add the following variable to the data.frame, <span class="in">`okboomers`</span>:</span>
<span id="cb38-687"><a href="#cb38-687" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`births_pct_day`</span>: Average number of births per million people per day, for the observed month</span>
<span id="cb38-688"><a href="#cb38-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-691"><a href="#cb38-691" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-692"><a href="#cb38-692" aria-hidden="true" tabindex="-1"></a>okboomers <span class="ot">&lt;-</span> okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb38-693"><a href="#cb38-693" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">births_pct_day =</span> <span class="dv">1000000</span> <span class="sc">*</span> (births <span class="sc">/</span> total_pop) <span class="sc">/</span> n_days)</span>
<span id="cb38-694"><a href="#cb38-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-695"><a href="#cb38-695" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-696"><a href="#cb38-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-697"><a href="#cb38-697" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-698"><a href="#cb38-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-699"><a href="#cb38-699" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q4c.</span></span>
<span id="cb38-700"><a href="#cb38-700" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Describe the monthly trend of <span class="in">`births_pct_day`</span> for each country in one plot.</span>
<span id="cb38-701"><a href="#cb38-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-702"><a href="#cb38-702" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Make a comment on the resulting visualization.</span>
<span id="cb38-703"><a href="#cb38-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-706"><a href="#cb38-706" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-707"><a href="#cb38-707" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb38-708"><a href="#cb38-708" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> <span class="fu">filter</span>(okboomers,</span>
<span id="cb38-709"><a href="#cb38-709" aria-hidden="true" tabindex="-1"></a>                          country <span class="sc">==</span> <span class="st">"United States"</span>),</span>
<span id="cb38-710"><a href="#cb38-710" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> births_pct_day),</span>
<span id="cb38-711"><a href="#cb38-711" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb38-712"><a href="#cb38-712" aria-hidden="true" tabindex="-1"></a>            <span class="at">color=</span> <span class="st">'red'</span>) <span class="sc">+</span></span>
<span id="cb38-713"><a href="#cb38-713" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> <span class="fu">filter</span>(okboomers,</span>
<span id="cb38-714"><a href="#cb38-714" aria-hidden="true" tabindex="-1"></a>                          country <span class="sc">==</span> <span class="st">"England and Wales"</span>),</span>
<span id="cb38-715"><a href="#cb38-715" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> births_pct_day),</span>
<span id="cb38-716"><a href="#cb38-716" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb38-717"><a href="#cb38-717" aria-hidden="true" tabindex="-1"></a>            <span class="at">color=</span> <span class="st">'blue'</span>) </span>
<span id="cb38-718"><a href="#cb38-718" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-719"><a href="#cb38-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-720"><a href="#cb38-720" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Comments are not provided here.</span>
<span id="cb38-721"><a href="#cb38-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-722"><a href="#cb38-722" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb38-723"><a href="#cb38-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-724"><a href="#cb38-724" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q4d.</span></span>
<span id="cb38-725"><a href="#cb38-725" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Which year and month did record the highest <span class="in">`births_pct_day`</span>?</span>
<span id="cb38-726"><a href="#cb38-726" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Which year and month did record the second highest <span class="in">`births_pct_day`</span>?</span>
<span id="cb38-727"><a href="#cb38-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-730"><a href="#cb38-730" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-731"><a href="#cb38-731" aria-hidden="true" tabindex="-1"></a>okboomers <span class="ot">&lt;-</span> okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb38-732"><a href="#cb38-732" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">births_pct_day =</span> <span class="dv">1000000</span> <span class="sc">*</span> (births <span class="sc">/</span> total_pop) <span class="sc">/</span> n_days)</span>
<span id="cb38-733"><a href="#cb38-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-734"><a href="#cb38-734" aria-hidden="true" tabindex="-1"></a>q4d1 <span class="ot">&lt;-</span> okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb38-735"><a href="#cb38-735" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-736"><a href="#cb38-736" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>births_pct_day) <span class="sc">%&gt;%</span> </span>
<span id="cb38-737"><a href="#cb38-737" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb38-738"><a href="#cb38-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-739"><a href="#cb38-739" aria-hidden="true" tabindex="-1"></a>q4d2 <span class="ot">&lt;-</span> okboomers <span class="sc">%&gt;%</span> </span>
<span id="cb38-740"><a href="#cb38-740" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">!=</span> <span class="st">"United States"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-741"><a href="#cb38-741" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>births_pct_day) <span class="sc">%&gt;%</span> </span>
<span id="cb38-742"><a href="#cb38-742" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span>
<span id="cb38-743"><a href="#cb38-743" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-744"><a href="#cb38-744" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-745"><a href="#cb38-745" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The highest year was 1960 with 392,230 births in month 8</span>
<span id="cb38-746"><a href="#cb38-746" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The second highest year was 2007 with 390,378 births in month 8 </span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">powered with github, quarto, and rstudio<br>byeong-hak choe, 2023</div>
  </div>
</footer>



</body></html>