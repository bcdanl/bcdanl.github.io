<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Byeong-Hak Choe">

<title>B.H. CHOE - Fall 2022 DANL 200 Final Exam 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">B.H. CHOE</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./cv.html">
 <span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl200-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl200-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl200-lec">    
        <li>
    <a class="dropdown-item" href="./DANL200_Lec25_20230509.html">
 <span class="dropdown-text">lecture 25 - linear regression with interaction terms</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec24_20230504.html">
 <span class="dropdown-text">lecture 24 - linear regression with interaction terms</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec23_20230502.html">
 <span class="dropdown-text">lecture 23 - linear regression with log transformation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec22_20230427.html">
 <span class="dropdown-text">lecture 22 - linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec21_20230425.html">
 <span class="dropdown-text">lecture 21 - linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec20_20230420.html">
 <span class="dropdown-text">lecture 20 - linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec19_20230418.html">
 <span class="dropdown-text">lecture 19 - strings, dates and times, linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec18_20230413.html">
 <span class="dropdown-text">lecture 18 - factor, strings, dates and times</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec17_20230411.html">
 <span class="dropdown-text">lecture 17 - tidy data, joins</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec16_20230406.html">
 <span class="dropdown-text">lecture 16 - tidy data - pivot, separate, unite</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec15_20230323.html">
 <span class="dropdown-text">lecture 15 - log transformation, summarize, group operation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec14_20230321.html">
 <span class="dropdown-text">lecture 14 - summarize, group operation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - select, mutate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - filter, arrange, select</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - visualization, filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - ggplot, visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - r basic, ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - r basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl200-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl200-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl200-lab">    
        <li>
    <a class="dropdown-item" href="./DANL200_final_1a_fall_2022.html">
 <span class="dropdown-text">final-exam-1-fall-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_final_2a_fall_2022.html">
 <span class="dropdown-text">final-exam-2-fall-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_final_3a_fall_2022.html">
 <span class="dropdown-text">final-exam-3-fall-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw4a.html">
 <span class="dropdown-text">hw4-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw3a.html">
 <span class="dropdown-text">hw3-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab5a.html">
 <span class="dropdown-text">lab5-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab4a.html">
 <span class="dropdown-text">lab4-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab3a.html">
 <span class="dropdown-text">lab3-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_midterm-spring-2023-a.html">
 <span class="dropdown-text">midterm-spring-2023-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_midterm-fall-2022-a.html">
 <span class="dropdown-text">midterm-fall-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_midterm-spring-2022-a.html">
 <span class="dropdown-text">midterm-spring-2022-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab2a.html">
 <span class="dropdown-text">lab2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw2a.html">
 <span class="dropdown-text">hw2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab1a.html">
 <span class="dropdown-text">lab1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw1a.html">
 <span class="dropdown-text">hw1-a</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl210-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl210-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl210-lec">    
        <li>
    <a class="dropdown-item" href="./DANL210_Lec25_20230509.html">
 <span class="dropdown-text">lecture 25 - unofficial api</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec24_20230504.html">
 <span class="dropdown-text">lecture 24 - api</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec23_20230502.html">
 <span class="dropdown-text">lecture 23 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec22_20230427.html">
 <span class="dropdown-text">lecture 22 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec21_20230425.html">
 <span class="dropdown-text">lecture 21 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec20_20230420.html">
 <span class="dropdown-text">lecture 20 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec19_20230418.html">
 <span class="dropdown-text">lecture 19 - web scrapping</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec18_20230413.html">
 <span class="dropdown-text">lecture 18 - missing data, dates and times</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec17_20230411.html">
 <span class="dropdown-text">lecture 17 - data concatenation, merges, missing data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec16_20230406.html">
 <span class="dropdown-text">lecture 16 - data types, data concatenation, merges</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec15_20230323.html">
 <span class="dropdown-text">lecture 15 - tidy, data types</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec14_20230321.html">
 <span class="dropdown-text">lecture 14 - agg, transform, filter, tidy</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - agg, transform, filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - seaborn, agg</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - seaborn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - eda</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - apply</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - query, drop, sort, rank, assign, lambda</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - drop, sort, rank, assign, lambda</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - pandas boolean subsetting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - pandas loc iloc</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - python basic, pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - python basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - python basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl210-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl210-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl210-lab">    
        <li>
    <a class="dropdown-item" href="./DANL210_hw5q.html">
 <span class="dropdown-text">hw5-q - Automation - World Bank Climate Change Knowledge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw4a.html">
 <span class="dropdown-text">hw4-a - Web-scrapping - Books</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw3a.html">
 <span class="dropdown-text">hw3-a - Web-scrapping - IMDB</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab8a.html">
 <span class="dropdown-text">lab8-a - Web-scrapping 3 - Quotes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab7a.html">
 <span class="dropdown-text">lab7-a - Web-scrapping 2 - EIA</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab6a.html">
 <span class="dropdown-text">lab6-a - Web-scrapping 1 - HTML Table</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab5a.html">
 <span class="dropdown-text">lab5-a - datetime</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab4a.html">
 <span class="dropdown-text">lab4-a - concat, merge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_midterm-spring-2023-a.html">
 <span class="dropdown-text">midterm-spring-2023-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab3a.html">
 <span class="dropdown-text">lab3-a - melt, pivot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw2a.html">
 <span class="dropdown-text">hw2-a - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab2a.html">
 <span class="dropdown-text">lab2-a - pandas, seaborn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab1a.html">
 <span class="dropdown-text">lab1-a - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw1a.html">
 <span class="dropdown-text">hw1-a - pandas</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl310-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl310-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl310-lec">    
        <li>
    <a class="dropdown-item" href="./DANL310_Lec24_20230504.html">
 <span class="dropdown-text">lecture 24 - quarto</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec23_20230502.html">
 <span class="dropdown-text">lecture 23 - data viz</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_shiny_workshop.pdf">
 <span class="dropdown-text">lecture 22 - shiny apps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_shiny_workshop.pdf">
 <span class="dropdown-text">lecture 21 - shiny apps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_shiny_workshop.pdf">
 <span class="dropdown-text">lecture 20 - shiny apps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec19_20230418.html">
 <span class="dropdown-text">lecture 19 - tables</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec18_20230413.html">
 <span class="dropdown-text">lecture 18 - animation ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec17_20230411.html">
 <span class="dropdown-text">lecture 17 - interactive ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec15_20230323.html">
 <span class="dropdown-text">lecture 15 - maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec14_20230321.html">
 <span class="dropdown-text">lecture 14 - maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - color, theme</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - work with model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - rmarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - github website, rmarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl310-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl310-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl310-lab">    
        <li>
    <a class="dropdown-item" href="./DANL310_lab4q.html">
 <span class="dropdown-text">lab4-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shiny-04.html">
 <span class="dropdown-text">shiny-04: interactive storm map</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shiny-03.html">
 <span class="dropdown-text">shiny-03: storms filtered</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shiny-02.html">
 <span class="dropdown-text">shiny-02: storms by year</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./shiny-01.html">
 <span class="dropdown-text">shiny-01: old faithful</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./git-large-file-push.html">
 <span class="dropdown-text">Large-File-Push to GitHub Repo</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_midterm-spring-2023-a.html">
 <span class="dropdown-text">midterm-spring-2023-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_midterm-spring-2023-q.html">
 <span class="dropdown-text">midterm-spring-2023-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab3a.html">
 <span class="dropdown-text">lab3-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab3q.html">
 <span class="dropdown-text">lab3-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab2a.html">
 <span class="dropdown-text">lab2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab2q.html">
 <span class="dropdown-text">lab2-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab1a.html">
 <span class="dropdown-text">lab1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_lab1q.html">
 <span class="dropdown-text">lab1-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw2a.html">
 <span class="dropdown-text">hw2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw2q.html">
 <span class="dropdown-text">hw2-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw1a.html">
 <span class="dropdown-text">hw1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw1q.html">
 <span class="dropdown-text">hw1-q</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ml-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ml-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-ml-lab">    
        <li>
    <a class="dropdown-item" href="./mba-ch1-lm.html">
 <span class="dropdown-text">linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch1-logit.html">
 <span class="dropdown-text">logistic regression (classification)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch3-regularization.html">
 <span class="dropdown-text">regularization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch3-model-selection.html">
 <span class="dropdown-text">model selection</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch7-tree-based-methods.html">
 <span class="dropdown-text">tree-based methods</span></a>
  </li>  
        <li class="dropdown-header">clustering</li>
        <li class="dropdown-header">principal component analysis</li>
    </ul>
  </li>
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#load-r-packages" id="toc-load-r-packages" class="nav-link active" data-scroll-target="#load-r-packages">Load R packages</a></li>
  <li><a href="#question-1" id="toc-question-1" class="nav-link" data-scroll-target="#question-1">Question 1</a>
  <ul class="collapse">
  <li><a href="#variable-description" id="toc-variable-description" class="nav-link" data-scroll-target="#variable-description">Variable description</a></li>
  <li><a href="#q1a." id="toc-q1a." class="nav-link" data-scroll-target="#q1a.">Q1a.</a></li>
  <li><a href="#q1b." id="toc-q1b." class="nav-link" data-scroll-target="#q1b.">Q1b.</a></li>
  <li><a href="#q1c." id="toc-q1c." class="nav-link" data-scroll-target="#q1c.">Q1c.</a></li>
  <li><a href="#q1d." id="toc-q1d." class="nav-link" data-scroll-target="#q1d.">Q1d.</a></li>
  <li><a href="#q1e." id="toc-q1e." class="nav-link" data-scroll-target="#q1e.">Q1e.</a></li>
  <li><a href="#q1f." id="toc-q1f." class="nav-link" data-scroll-target="#q1f.">Q1f.</a></li>
  <li><a href="#q1g." id="toc-q1g." class="nav-link" data-scroll-target="#q1g.">Q1g.</a></li>
  <li><a href="#q1h." id="toc-q1h." class="nav-link" data-scroll-target="#q1h.">Q1h.</a></li>
  </ul></li>
  <li><a href="#question-2" id="toc-question-2" class="nav-link" data-scroll-target="#question-2">Question 2</a>
  <ul class="collapse">
  <li><a href="#variable-description-1" id="toc-variable-description-1" class="nav-link" data-scroll-target="#variable-description-1">Variable description</a></li>
  <li><a href="#q2a." id="toc-q2a." class="nav-link" data-scroll-target="#q2a.">Q2a.</a></li>
  <li><a href="#q2b." id="toc-q2b." class="nav-link" data-scroll-target="#q2b.">Q2b.</a></li>
  <li><a href="#q2c." id="toc-q2c." class="nav-link" data-scroll-target="#q2c.">Q2c.</a></li>
  <li><a href="#q2d." id="toc-q2d." class="nav-link" data-scroll-target="#q2d.">Q2d.</a></li>
  <li><a href="#q2e." id="toc-q2e." class="nav-link" data-scroll-target="#q2e.">Q2e.</a></li>
  <li><a href="#q2f." id="toc-q2f." class="nav-link" data-scroll-target="#q2f.">Q2f.</a></li>
  <li><a href="#q2g." id="toc-q2g." class="nav-link" data-scroll-target="#q2g.">Q2g.</a></li>
  <li><a href="#q2h." id="toc-q2h." class="nav-link" data-scroll-target="#q2h.">Q2h.</a></li>
  <li><a href="#q2i." id="toc-q2i." class="nav-link" data-scroll-target="#q2i.">Q2i.</a></li>
  </ul></li>
  <li><a href="#question-3" id="toc-question-3" class="nav-link" data-scroll-target="#question-3">Question 3</a>
  <ul class="collapse">
  <li><a href="#variable-description-2" id="toc-variable-description-2" class="nav-link" data-scroll-target="#variable-description-2">Variable description</a></li>
  <li><a href="#q3a." id="toc-q3a." class="nav-link" data-scroll-target="#q3a.">Q3a.</a></li>
  <li><a href="#q3b." id="toc-q3b." class="nav-link" data-scroll-target="#q3b.">Q3b.</a></li>
  <li><a href="#q3c." id="toc-q3c." class="nav-link" data-scroll-target="#q3c.">Q3c.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Fall 2022 DANL 200 Final Exam 3</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Byeong-Hak Choe </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="load-r-packages" class="level1">
<h1>Load R packages</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-1" class="level1">
<h1>Question 1</h1>
<p>The following is the data.frame for Question 1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bcdanl.github.io/data/teen_emp.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>The data.frame, teen_emp, contains teen employment in 500 counties in the U.S. from 2004 to 2007.</li>
</ul>
<section id="variable-description" class="level2">
<h2 class="anchored" data-anchor-id="variable-description">Variable description</h2>
<ul>
<li><code>year</code>: year of the observation</li>
<li><code>id_county</code>: a unique identifier (FIPS) for a particular county</li>
<li><code>pop</code>: population for a county</li>
<li><code>emp</code>: teen workers in a county at the end of that year</li>
<li><code>yr_raise</code>: a year that a state where a county is located raised its minimum wage at the beginning of the year,
<ul>
<li><code>NA</code> for a county if a minimum wage is equal to the federal minimum wage over the entire period.</li>
</ul></li>
</ul>
</section>
<section id="q1a." class="level2">
<h2 class="anchored" data-anchor-id="q1a.">Q1a.</h2>
<ul>
<li><p>Download the ZIP file that contains the CSV file, <code>county_population_2004_2007.csv</code>.</p></li>
<li><p>The CSV file, <code>county_population_2004_2007.csv</code>, has the following three variables:</p>
<ul>
<li><code>year</code>: year</li>
<li><code>fips</code>: a unique identifier (FIPS) for a US county</li>
<li><code>pop</code>: population</li>
</ul></li>
<li><p>Read the CSV file, <code>county_population_2004_2007.csv</code>, as data.frame with the name, <code>df_pop</code>, using its absolute pathname and <code>read_csv()</code>.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df_pop <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"/Users/byeong-hakchoe/Google Drive/suny-geneseo/teaching-materials/lecture-data/county_population_2004_2007.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q1b." class="level2">
<h2 class="anchored" data-anchor-id="q1b.">Q1b.</h2>
<ul>
<li><p>Remove the variable <code>pop</code> from the data.frame <code>teen_emp</code>.</p></li>
<li><p>Then add the variable <code>pop</code> in the data.frame, <code>df_pop</code>, to the data.frame, <code>teen_emp</code>, by joining <code>teen_emp</code> and <code>df_pop</code>.</p></li>
<li><p>The resulting data.frame must contain</p>
<ul>
<li><ol type="1">
<li>all the observations in <code>teen_emp</code>, while not having any missing values in variable, <code>emp</code>; and</li>
</ol></li>
<li><ol start="2" type="1">
<li>only the following variables with the following order: <code>id_county</code>, <code>year</code>, <code>pop</code>, <code>emp</code>, and <code>yr_raise</code>.</li>
</ol></li>
</ul></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pop)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(df_pop, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_county"</span> <span class="ot">=</span> <span class="st">"fips"</span>, <span class="st">"year"</span>))</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">id_county</span><span class="st">`</span>, <span class="st">`</span><span class="at">year</span><span class="st">`</span>, <span class="st">`</span><span class="at">pop</span><span class="st">`</span>,  <span class="st">`</span><span class="at">emp</span><span class="st">`</span>,  <span class="st">`</span><span class="at">yr_raise</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q1c." class="level2">
<h2 class="anchored" data-anchor-id="q1c.">Q1c.</h2>
<p>Add the variables, <code>name</code> and <code>state</code>, in the data.frame, <code>county_name</code>, to the data.frame, <code>teen_emp</code>, by joining the two data.frames, <code>teen_emp</code> and <code>county_name</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>county_name <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://bcdanl.github.io/data/county_name.csv"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Variables in <code>county_name</code>
<ul>
<li><code>id</code>: a unique identifier (FIPS) for a US county</li>
<li><code>name</code>: County Name</li>
<li><code>state</code>: County Name</li>
</ul></li>
<li>The resulting data.frame must contain
<ul>
<li><ol type="1">
<li>all the observations in <code>teen_emp</code>, while not having any missing values in variable, <code>emp</code>; and</li>
</ol></li>
<li><ol start="2" type="1">
<li>only the following variables with the following order: <code>id_county</code>, <code>name</code>, <code>state</code>, <code>year</code>, <code>pop</code>, <code>emp</code>, and <code>yr_raise</code>.</li>
</ol></li>
</ul></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(county_name, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_county"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">id_county</span><span class="st">`</span>, <span class="st">`</span><span class="at">name</span><span class="st">`</span>,  <span class="st">`</span><span class="at">state</span><span class="st">`</span>, <span class="st">`</span><span class="at">year</span><span class="st">`</span>, <span class="st">`</span><span class="at">pop</span><span class="st">`</span>,  <span class="st">`</span><span class="at">emp</span><span class="st">`</span>, <span class="st">`</span><span class="at">yr_raise</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q1d." class="level2">
<h2 class="anchored" data-anchor-id="q1d.">Q1d.</h2>
<ul>
<li>Add the following two variables—
<ul>
<li><ol type="1">
<li><code>emp_perc</code>, the percentage of people that are teen workers in a county</li>
</ol></li>
<li><ol start="2" type="1">
<li><code>raise</code>, <code>TRUE</code> if there was a raise in minimum wage in a county during the period of time; <code>FALSE</code> otherwise —to the data.frame, <code>teen_emp</code>.</li>
</ol></li>
</ul></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>q1d <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_perc =</span> <span class="dv">100</span> <span class="sc">*</span> emp <span class="sc">/</span> pop,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">raise =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(yr_raise), T, F))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q1e." class="level2">
<h2 class="anchored" data-anchor-id="q1e.">Q1e.</h2>
<p>Report mean, median, minimum, maximum, standard deviation of variable, <code>emp_perc</code>, for each <code>state</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>q1e <span class="ot">&lt;-</span> q1d <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">skim</span>(emp_perc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q1f." class="level2">
<h2 class="anchored" data-anchor-id="q1f.">Q1f.</h2>
<p>In the resulting data.frame from Q1d, or <code>teen_emp</code>, remove observations for which values of <code>yr_raise</code> is missing.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>q1f <span class="ot">&lt;-</span> <span class="fu">filter</span>( q1d, <span class="sc">!</span><span class="fu">is.na</span>(yr_raise) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q1g." class="level2">
<h2 class="anchored" data-anchor-id="q1g.">Q1g.</h2>
<p>Provide both (1) ggplot and (2) a simple comment to describe the yearly trend of the distribution of <code>emp_perc</code> before and after <code>yr_raise</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>q1g <span class="ot">&lt;-</span> q1f <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yr =</span> year <span class="sc">-</span> yr_raise)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q1g) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(yr), <span class="at">y =</span> emp_perc))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_3a_fall_2022_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q1g) <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">y =</span> emp_perc)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(.<span class="sc">~</span> <span class="fu">factor</span>(yr))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_3a_fall_2022_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br></p>
</section>
<section id="q1h." class="level2">
<h2 class="anchored" data-anchor-id="q1h.">Q1h.</h2>
<p>Provide both (1) ggplot and (2) a simple comment to describe the yearly trend of the distribution of <code>emp_perc</code> for counties that did not raise their minimum wages during the time period.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>q1h <span class="ot">&lt;-</span> <span class="fu">filter</span>(q1d, </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>              raise <span class="sc">==</span> F)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q1h) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(year), <span class="at">y =</span> emp_perc))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_3a_fall_2022_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br><br></p>
</section>
</section>
<section id="question-2" class="level1">
<h1>Question 2</h1>
<ul>
<li><p>The following is the description for Question 2:</p></li>
<li><p>TripAdvisor is an online travel research company that empowers people around the world to plan and enjoy the ideal trip.</p></li>
<li><p>TripAdvisor wanted to know whether promoting membership on their platform could drive engagement and bookings.</p></li>
<li><p>To do so, TripAdvisor had just run an experiment to explore user retention by offering a random subset of customers an easier sign-up process for membership.</p></li>
<li><p>The following is the data.frame for Question 2:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>tripadvisor <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bcdanl.github.io/data/tripadvisor_cleaned.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="variable-description-1" class="level2">
<h2 class="anchored" data-anchor-id="variable-description-1">Variable description</h2>
<ul>
<li><p><code>id</code>: a unique identifier for a user.</p></li>
<li><p><code>time</code>:</p>
<ul>
<li><code>PRE</code> if <code>time</code> is before the experiment;</li>
<li><code>POST</code> if <code>time</code> is in the 28 days after the experiment.</li>
</ul></li>
<li><p><code>days_visited</code>: Number of days a user visited the TripAdvisor website.</p></li>
<li><p><code>easier_signup</code>: <code>TRUE</code> if a user was exposed to the easier signup process (e.g., one-click signup) during the experiment; FALSE otherwise.</p></li>
<li><p><code>became_member</code>: <code>TRUE</code> if a user became a member during the experiment period; <code>FALSE</code> otherwise.</p></li>
<li><p><code>locale_en_US</code>: <code>TRUE</code> if a user accessed the website from the US; <code>FALSE</code> otherwise.</p></li>
<li><p><code>os_type</code>: Windows, Mac, or Others</p></li>
<li><p><code>revenue_pre</code>: Amount of dollars a user spent on the website before the experiment</p></li>
<li><p>In the data.frame, <code>tripadvisor</code>, for each <code>id</code> value, there are two types of observations—one with <code>time == "PRE"</code> and the other with <code>time == "POST"</code>.</p></li>
</ul>
<p><br></p>
</section>
<section id="q2a." class="level2">
<h2 class="anchored" data-anchor-id="q2a.">Q2a.</h2>
<p>Using the given data.frame, <code>tripadvisor</code>, create the data.frame, tripadvisor, for which - (1) <code>time</code> is a factor-type variable of <code>time</code> with a reference level, <code>"PRE"</code>. - (2) <code>os_type</code> is a factor-type variable of <code>os_type</code> with a reference level, <code>"Windows"</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>q2a <span class="ot">&lt;-</span> tripadvisor <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time =</span> <span class="fu">factor</span>(time, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"PRE"</span>, <span class="st">"POST"</span>)),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">os_type =</span> <span class="fu">factor</span>(os_type, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Windows"</span>, <span class="st">"Mac"</span>, <span class="st">"Others"</span>) ) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q2b." class="level2">
<h2 class="anchored" data-anchor-id="q2b.">Q2b.</h2>
<p>Provide both (1) ggplot and (2) a simple comment to describe how the relationship between <code>time</code> and <code>days_visited</code> varies by <code>easier_signup</code> and <code>became_member</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2a) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> days_visited, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x =</span> time,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fill =</span> time) ) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(easier_signup <span class="sc">~</span> became_member)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_3a_fall_2022_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Comments are not provided here.</p>
<p><br></p>
</section>
<section id="q2c." class="level2">
<h2 class="anchored" data-anchor-id="q2c.">Q2c.</h2>
<p>Provide both (1) ggplot and (2) a simple comment to describe the distribution of <code>days_visited</code> varies by <code>os_type</code>.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2a) <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x =</span> days_visited,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> os_type) ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_3a_fall_2022_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Comments are not provided here.</p>
<p><br></p>
</section>
<section id="q2d." class="level2">
<h2 class="anchored" data-anchor-id="q2d.">Q2d.</h2>
<p>Provide both (1) ggplot and (2) a simple comment to describe how the relationship between <code>revenue_pre</code> and <code>days_visited</code> varies by <code>time</code> conditioning that <code>revenue_pre</code> is less than or equal to its third quartile level.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(q2a<span class="sc">$</span>revenue_pre) <span class="co"># to see the third quartile level</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">q2a$revenue_pre</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">183296</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 16%">
<col style="width: 12%">
<col style="width: 16%">
<col style="width: 6%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">data</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">2582.7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">7.39</td>
<td style="text-align: right;">528631.4</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">filter</span>(q2a, revenue_pre <span class="sc">&lt;=</span><span class="fl">7.39</span>),</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> revenue_pre,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="fu">factor</span>(days_visited))) <span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(time <span class="sc">~</span>.)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_3a_fall_2022_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br></p>
</section>
<section id="q2e." class="level2">
<h2 class="anchored" data-anchor-id="q2e.">Q2e.</h2>
<ul>
<li>Randomly split the data.frame, <code>tripadvisor</code>, into training and testing data.frames.</li>
<li>Approximately 70% of observations in the data.frame, tripadvisor, must go to the training data.frame.</li>
<li>The rest observations in the the data.frame, tripadvisor, must go to the testing data.frame.</li>
</ul>
<p>-Additionally, - (1) the number of observations for each <code>id</code> must be 2 in both training and testing data.frames. - (2) the distribution of <code>easier_signup</code> and the distribution of <code>became_member</code> are approximately the same between training and testing data.frames.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>df_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>df_4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>df_1p <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"POST"</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>df_2p <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"POST"</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>df_3p <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"POST"</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>df_4p <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"POST"</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>gp_1 <span class="ot">&lt;-</span> <span class="fu">nrow</span>( <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>) )</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>gp_2 <span class="ot">&lt;-</span> <span class="fu">nrow</span>( <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>) )</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>gp_3 <span class="ot">&lt;-</span> <span class="fu">nrow</span>( <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>) )</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>gp_4 <span class="ot">&lt;-</span> <span class="fu">nrow</span>( <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>) )</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>gp_1 <span class="ot">&lt;-</span> <span class="fu">runif</span>( gp_1 )</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>gp_2 <span class="ot">&lt;-</span> <span class="fu">runif</span>( gp_2 )</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>gp_3 <span class="ot">&lt;-</span> <span class="fu">runif</span>( gp_3 )</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>gp_4 <span class="ot">&lt;-</span> <span class="fu">runif</span>( gp_4 )</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>train_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_1, gp_1 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>test_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_1, gp_1 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>train_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_2, gp_2 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>test_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_2, gp_2 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>train_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_3, gp_3 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>test_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_3, gp_3 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>train_4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_4, gp_4 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>test_4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_4, gp_4 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>train_1p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_1p, gp_1 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>test_1p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_1p, gp_1 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>train_2p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_2p, gp_2 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>test_2p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_2p, gp_2 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>train_3p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_3p, gp_3 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>test_3p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_3p, gp_3 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>train_4p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_4p, gp_4 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>test_4p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_4p, gp_4 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">rbind</span>(train_1, train_2, train_3, train_4,</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>                train_1p, train_2p, train_3p, train_4p)</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">rbind</span>(test_1, test_2, test_3, test_4,</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>               test_1p, test_2p, test_3p, test_4p)</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> dtrain <span class="sc">%&gt;%</span> </span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(id, time)</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> dtest <span class="sc">%&gt;%</span> </span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(id, time)</span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a><span class="co"># prop.table(table(dtrain$became_member))</span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a><span class="co"># prop.table(table(dtest$became_member))</span></span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a><span class="co"># prop.table(table(dtrain$easier_signup))</span></span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a><span class="co"># prop.table(table(dtest$easier_signup))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q2f." class="level2">
<h2 class="anchored" data-anchor-id="q2f.">Q2f.</h2>
<p>Consider the following formulas for linear regression:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>formula_1 <span class="ot">&lt;-</span> days_visited <span class="sc">~</span> time <span class="sc">*</span> easier_signup  <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  os_type <span class="sc">+</span> locale_en_US <span class="sc">+</span> revenue_pre</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>formula_2 <span class="ot">&lt;-</span> days_visited <span class="sc">~</span> time <span class="sc">*</span> easier_signup <span class="sc">*</span> became_member <span class="sc">+</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  os_type <span class="sc">+</span> locale_en_US <span class="sc">+</span> revenue_pre</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Train the linear regression model with the above formula.</p></li>
<li><p>If you could not properly split the data.frame into the training and testing data.frames in Q2e, use the data.frame, pension_tax, as the training data.frame.</p></li>
<li><p>Report the summary of the linear regression result.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>model_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data =</span> dtrain,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>              formula_1)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>model_2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data =</span> dtrain,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>              formula_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>stargazer<span class="sc">::</span><span class="fu">stargazer</span>(model_1, model_2,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">type =</span> <span class="st">'text'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<table style="text-align:center">
<tbody><tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
days_visited
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
timePOST
</td>
<td>
-3.905<sup>***</sup>
</td>
<td>
-3.917<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.061)
</td>
<td>
(0.061)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
easier_signup
</td>
<td>
-0.059
</td>
<td>
0.134
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.061)
</td>
<td>
(0.095)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
became_member
</td>
<td>
</td>
<td>
0.262
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.555)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
os_typeMac
</td>
<td>
0.257<sup>***</sup>
</td>
<td>
0.247<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.053)
</td>
<td>
(0.052)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
os_typeOthers
</td>
<td>
0.027
</td>
<td>
0.018
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.053)
</td>
<td>
(0.052)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
locale_en_US
</td>
<td>
0.024
</td>
<td>
0.014
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.043)
</td>
<td>
(0.043)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
revenue_pre
</td>
<td>
0.00000
</td>
<td>
0.00000
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.00001)
</td>
<td>
(0.00001)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
timePOST:easier_signup
</td>
<td>
2.024<sup>***</sup>
</td>
<td>
-1.941<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.086)
</td>
<td>
(0.134)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
timePOST:became_member
</td>
<td>
</td>
<td>
1.985<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.785)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
easier_signupTRUE:became_member
</td>
<td>
</td>
<td>
-0.520
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.564)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
timePOST:easier_signupTRUE:became_member
</td>
<td>
</td>
<td>
3.356<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.797)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
13.967<sup>***</sup>
</td>
<td>
13.977<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.057)
</td>
<td>
(0.057)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
127,832
</td>
<td>
127,832
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.042
</td>
<td>
0.061
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.042
</td>
<td>
0.061
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
7.729 (df = 127824)
</td>
<td>
7.649 (df = 127820)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
791.901<sup>***</sup> (df = 7; 127824)
</td>
<td>
760.466<sup>***</sup> (df = 11; 127820)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>

</tbody></table>
<p><br></p>
</section>
<section id="q2g." class="level2">
<h2 class="anchored" data-anchor-id="q2g.">Q2g.</h2>
<ul>
<li><p>Visualize the confidence intervals of all the beta estimates except for the variables <code>(Intercept)</code> from the model with <code>formula_2</code>.</p></li>
<li><p>What does it mean that a confidence interval of a beta estimate contains a zero level of its beta estimate?</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>sum_model_2 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_2)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">filter</span>(sum_model_2,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>              term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_3a_fall_2022_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>If <code>estimate == 0</code> belongs to a confidence interval of the beta estimate, the beta estimate may not be statistically different from zero, and there is insufficient evidence to conclude that there is a non-zero relationship between the explanatory variable and the outcome variable.</li>
</ul>
<p><br></p>
</section>
<section id="q2h." class="level2">
<h2 class="anchored" data-anchor-id="q2h.">Q2h.</h2>
<ul>
<li><p>Interpret the estimated beta coefficients for the following variables—</p>
<ul>
<li><ol type="1">
<li><code>os_typeMac</code></li>
</ol></li>
<li><ol start="2" type="1">
<li><code>revenue_pre</code></li>
</ol></li>
<li><ol start="3" type="1">
<li><code>timePOST</code></li>
</ol></li>
<li><ol start="4" type="1">
<li><code>timePOST:easier_signup</code></li>
</ol></li>
<li><ol start="5" type="1">
<li><code>timePOST:became_member</code></li>
</ol></li>
</ul></li>
</ul>
<p>—from the model with <code>formula_2</code> in Q2f.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>b2 <span class="ot">&lt;-</span> <span class="fu">coef</span>(model_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Interpretation of the beta estimates are not provided here.</p>
<p><br></p>
</section>
<section id="q2i." class="level2">
<h2 class="anchored" data-anchor-id="q2i.">Q2i.</h2>
<ul>
<li><p>Provide (1) the interpretation of the beta estimate that addresses the following question—How did introducing easier signup process affect the level of engagement in the website?—and (2) any intuitive explanations on it.</p></li>
<li><p>Interpretation of the beta estimates are not provided here.</p></li>
</ul>
<p><br><br></p>
</section>
</section>
<section id="question-3" class="level1">
<h1>Question 3</h1>
<p>The following is the data.frame for Question 3:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>netflix <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://bcdanl.github.io/data//netflix_cleaned.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="variable-description-2" class="level2">
<h2 class="anchored" data-anchor-id="variable-description-2">Variable description</h2>
<ul>
<li><code>id</code>: unique identifier for each show</li>
<li><code>title</code>: title</li>
<li><code>description</code>: description</li>
<li><code>director</code>: directors</li>
<li><code>genre</code>: genres
<ul>
<li>Each content can belong to multiple genres.</li>
<li>They are seperated by commas.</li>
<li>The maximum number of genres a show can belong to is 3.</li>
</ul></li>
<li><code>cast</code>: cast (seperated by commas)</li>
<li><code>production_country</code>: production countries
<ul>
<li>Each content could be produced in multiple countries.</li>
<li>They are separated by commas.</li>
<li>The maximum number of countries in which a show was produced is 8.</li>
</ul></li>
<li><code>release_date</code>: release date (year in which it was released)</li>
<li><code>date_added</code>: date the show was added to Netflix
<ul>
<li>e.g., the format of the value is character with <code>MONTH DAY, YEAR</code></li>
</ul></li>
<li><code>rating</code>: rating</li>
<li><code>duration</code>: duration (in min for movies and number of seasons (e.g., 2 Seasons) for shows)</li>
</ul>
<p><br></p>
</section>
<section id="q3a." class="level2">
<h2 class="anchored" data-anchor-id="q3a.">Q3a.</h2>
<ul>
<li><p>In the data.frame, netflix, separate the variable <code>imdb_score</code> into the two numeric variables, <code>imdb</code> and <code>imdb_max</code>, for which</p>
<ul>
<li><ol type="1">
<li><code>imdb</code> is a value of <code>imdb_score</code> before <code>/</code>;</li>
</ol></li>
<li><ol start="2" type="1">
<li><code>imdb_max</code> is a value of <code>imdb_score</code> after <code>/</code>.</li>
</ol></li>
</ul></li>
<li><p>For example, if <code>imdb_score == 6.6/10</code>, <code>imdb == 6.6</code> and <code>imdb_max == 10</code>.</p></li>
<li><p>In the data.frame, <code>netflix</code>, separate the variable <code>genre</code> into the three variables, <code>genre_1</code>, <code>genre_2</code>, and <code>genre_3</code>, for which a value of each variable, <code>genre_1</code>, <code>genre_2</code> and <code>genre_3</code> is one single genre.</p></li>
<li><p>In the data.frame, netflix, separate the variable <code>production_country</code> into the eight variables, <code>country_1</code>, <code>country_2</code>, <code>country_3</code>, <code>country_4</code>, <code>country_5</code>, <code>country_6</code>, <code>country_7</code>, and <code>country_8</code>, in which a value of each variable <code>country_1</code>, <code>country_2</code>, <code>country_3</code>, <code>country_4</code>, <code>country_5</code>, <code>country_6</code>, <code>country_7</code>, and <code>country_8</code> is one single country.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>q3a <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(imdb_score, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"imdb"</span>, <span class="st">"imdb_max"</span>),</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">"/"</span>, <span class="at">convert =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(genre, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"genre_1"</span>, <span class="st">"genre_2"</span>, <span class="st">"genre_3"</span>),</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">","</span>, <span class="at">convert =</span> T)  <span class="sc">%&gt;%</span> </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(production_country, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"country_1"</span>, <span class="st">"country_2"</span>, </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"country_3"</span>, <span class="st">"country_4"</span>, </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"country_5"</span>, <span class="st">"country_6"</span>, </span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"country_7"</span>, <span class="st">"country_8"</span>),</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">","</span>, <span class="at">convert =</span> T) </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>q3a_chk <span class="ot">&lt;-</span> q3a <span class="sc">%&gt;%</span> </span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(country_8))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q3b." class="level2">
<h2 class="anchored" data-anchor-id="q3b.">Q3b.</h2>
<ul>
<li><p>Create the data.frame with the following two variables:</p>
<ul>
<li><code>country</code>: country that produced a show</li>
<li><code>n_shows</code>: number of shows produced in a particular country.</li>
</ul></li>
<li><p>Then, find the top 10 countries in terms of the 10 largest values of <code>n_shows</code>.</p></li>
<li><p>If a show was produced in multiple countries, count it for each of the multiple countries.</p></li>
<li><p>For example, <code>title == "10 Days in Sun City"</code> is produced in <code>production_country == "South Africa, Nigeria"</code>, so that, the values of <code>n_shows</code> for <code>"South Africa"</code> and <code>"Nigeria"</code> should count <code>"10 Days in Sun City"</code>.</p></li>
<li><p>If a value of country starts with an empty character, <code>" "</code>, remove the starting empty character from its value using <code>str_sub()</code>, <code>str_length()</code>, and <code>ifelse()</code>.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>q3b <span class="ot">&lt;-</span> q3a <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"country"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">col =</span> country_1<span class="sc">:</span>country_8,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"country"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"n"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(country)) <span class="sc">%&gt;%</span> </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span> </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(country) <span class="sc">%&gt;%</span> </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>q3b <span class="ot">&lt;-</span> q3b <span class="sc">%&gt;%</span> </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">country =</span> <span class="fu">ifelse</span>( <span class="fu">str_sub</span>(country, <span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">==</span> <span class="st">" "</span>,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">str_sub</span>(country, <span class="dv">2</span>, <span class="fu">str_length</span>(country)),</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>                           country) ) <span class="sc">%&gt;%</span> </span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span> </span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_shows =</span> <span class="fu">sum</span>(n, <span class="at">na.rm =</span> T) ) <span class="sc">%&gt;%</span> </span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n_shows)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><br></p>
</section>
<section id="q3c." class="level2">
<h2 class="anchored" data-anchor-id="q3c.">Q3c.</h2>
<ul>
<li>Add the following variable to the data.frame <code>netflix</code> or the resulting data.frame in Q3a:
<ul>
<li><code>year_added</code>: year a show was added to Netflix</li>
</ul></li>
<li>Then, provide both (1) one ggplot and (2) a simple comment to describe the yearly trend of the number of the Netflix shows produced in each of the top 10 countries from Q3b.</li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>q3c <span class="ot">&lt;-</span> q3a <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(date_added, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"md"</span>, <span class="st">"year_added"</span>),</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">","</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">convert =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year_added, <span class="fu">starts_with</span>(<span class="st">"country"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year_added)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">col =</span> country_1<span class="sc">:</span>country_8,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"country"</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"name"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(country), country <span class="sc">!=</span> <span class="st">""</span>, country <span class="sc">!=</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>name) <span class="sc">%&gt;%</span> </span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(country, year_added) <span class="sc">%&gt;%</span> </span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(country, year_added) <span class="sc">%&gt;%</span> </span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">country =</span> <span class="fu">ifelse</span>( <span class="fu">str_sub</span>(country, <span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">==</span> <span class="st">" "</span>,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">str_sub</span>(country, <span class="dv">2</span>, <span class="fu">str_length</span>(country)),</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>                           country) ) <span class="sc">%&gt;%</span> </span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country, year_added) <span class="sc">%&gt;%</span> </span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(n, <span class="at">na.rm =</span> T) ) <span class="sc">%&gt;%</span> </span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">as_vector</span>(q3b[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span>]))</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q3c,</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> year_added, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_added, <span class="at">y =</span> n,</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>                <span class="at">color =</span> <span class="fu">fct_reorder2</span>(country,</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>                                     year_added,</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>                                     n)) ) <span class="sc">+</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="DANL200_final_3a_fall_2022_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script type="text/javascript" src="links.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb29" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Fall 2022 DANL 200 Final Exam 3"</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Byeong-Hak Choe"</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show the code"</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: true</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">  eval: true</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, include=F}</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_ipsum</span>())</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="fu"># Load R packages</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=F}</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a><span class="fu"># Question 1</span></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>The following is the data.frame for Question 1.</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bcdanl.github.io/data/teen_emp.csv"</span>)</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The data.frame, teen_emp, contains teen employment in 500 counties in the U.S. from 2004 to 2007. </span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variable description</span></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`year`</span>: year of the observation</span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`id_county`</span>: a unique identifier (FIPS) for a particular county</span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`pop`</span>: population for a county </span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`emp`</span>: teen workers in a county at the end of that year</span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`yr_raise`</span>: a year that a state where a county is located raised its minimum wage at the beginning of the year, </span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`NA`</span> for a county if a minimum wage is equal to the federal minimum wage over the entire period.</span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1a.</span></span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Download the ZIP file that contains the CSV file, <span class="in">`county_population_2004_2007.csv`</span>.</span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The CSV file, <span class="in">`county_population_2004_2007.csv`</span>, has the following three variables:</span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`year`</span>: year</span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`fips`</span>: a unique identifier (FIPS) for a US county</span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`pop`</span>: population</span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Read the CSV file, <span class="in">`county_population_2004_2007.csv`</span>, as data.frame with the name, <span class="in">`df_pop`</span>, using its absolute pathname and <span class="in">`read_csv()`</span>.</span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a>df_pop <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"/Users/byeong-hakchoe/Google Drive/suny-geneseo/teaching-materials/lecture-data/county_population_2004_2007.csv"</span>)</span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-76"><a href="#cb29-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-77"><a href="#cb29-77" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1b.</span></span>
<span id="cb29-78"><a href="#cb29-78" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Remove the variable <span class="in">`pop`</span> from the data.frame <span class="in">`teen_emp`</span>.</span>
<span id="cb29-79"><a href="#cb29-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-80"><a href="#cb29-80" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Then add the variable <span class="in">`pop`</span> in the data.frame, <span class="in">`df_pop`</span>, to the data.frame, <span class="in">`teen_emp`</span>, by joining <span class="in">`teen_emp`</span> and <span class="in">`df_pop`</span>.</span>
<span id="cb29-81"><a href="#cb29-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-82"><a href="#cb29-82" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The resulting data.frame must contain </span>
<span id="cb29-83"><a href="#cb29-83" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(1) all the observations in <span class="in">`teen_emp`</span>, while not having any missing values in variable, <span class="in">`emp`</span>; and</span>
<span id="cb29-84"><a href="#cb29-84" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) only the following variables with the following order: <span class="in">`id_county`</span>, <span class="in">`year`</span>, <span class="in">`pop`</span>,  <span class="in">`emp`</span>, and <span class="in">`yr_raise`</span>.</span>
<span id="cb29-85"><a href="#cb29-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-86"><a href="#cb29-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-89"><a href="#cb29-89" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-90"><a href="#cb29-90" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb29-91"><a href="#cb29-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>pop)</span>
<span id="cb29-92"><a href="#cb29-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-93"><a href="#cb29-93" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb29-94"><a href="#cb29-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(df_pop, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_county"</span> <span class="ot">=</span> <span class="st">"fips"</span>, <span class="st">"year"</span>))</span>
<span id="cb29-95"><a href="#cb29-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-96"><a href="#cb29-96" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb29-97"><a href="#cb29-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">id_county</span><span class="st">`</span>, <span class="st">`</span><span class="at">year</span><span class="st">`</span>, <span class="st">`</span><span class="at">pop</span><span class="st">`</span>,  <span class="st">`</span><span class="at">emp</span><span class="st">`</span>,  <span class="st">`</span><span class="at">yr_raise</span><span class="st">`</span>)</span>
<span id="cb29-98"><a href="#cb29-98" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-99"><a href="#cb29-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-100"><a href="#cb29-100" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-101"><a href="#cb29-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-102"><a href="#cb29-102" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1c.</span></span>
<span id="cb29-103"><a href="#cb29-103" aria-hidden="true" tabindex="-1"></a>Add the variables, <span class="in">`name`</span> and <span class="in">`state`</span>, in the data.frame, <span class="in">`county_name`</span>, to the data.frame, <span class="in">`teen_emp`</span>, by joining the two data.frames, <span class="in">`teen_emp`</span> and <span class="in">`county_name`</span>.</span>
<span id="cb29-104"><a href="#cb29-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-107"><a href="#cb29-107" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-108"><a href="#cb29-108" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb29-109"><a href="#cb29-109" aria-hidden="true" tabindex="-1"></a>county_name <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb29-110"><a href="#cb29-110" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://bcdanl.github.io/data/county_name.csv"</span></span>
<span id="cb29-111"><a href="#cb29-111" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-112"><a href="#cb29-112" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-113"><a href="#cb29-113" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Variables in <span class="in">`county_name`</span></span>
<span id="cb29-114"><a href="#cb29-114" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`id`</span>: a unique identifier (FIPS) for a US county</span>
<span id="cb29-115"><a href="#cb29-115" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`name`</span>: County Name</span>
<span id="cb29-116"><a href="#cb29-116" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`state`</span>: County Name</span>
<span id="cb29-117"><a href="#cb29-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-118"><a href="#cb29-118" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The resulting data.frame must contain </span>
<span id="cb29-119"><a href="#cb29-119" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(1) all the observations in <span class="in">`teen_emp`</span>, while not having any missing values in variable, <span class="in">`emp`</span>; and</span>
<span id="cb29-120"><a href="#cb29-120" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) only the following variables with the following order: <span class="in">`id_county`</span>, <span class="in">`name`</span>,  <span class="in">`state`</span>, <span class="in">`year`</span>, <span class="in">`pop`</span>,  <span class="in">`emp`</span>, and <span class="in">`yr_raise`</span>.</span>
<span id="cb29-121"><a href="#cb29-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-124"><a href="#cb29-124" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-125"><a href="#cb29-125" aria-hidden="true" tabindex="-1"></a>teen_emp <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb29-126"><a href="#cb29-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(county_name, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id_county"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-127"><a href="#cb29-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">id_county</span><span class="st">`</span>, <span class="st">`</span><span class="at">name</span><span class="st">`</span>,  <span class="st">`</span><span class="at">state</span><span class="st">`</span>, <span class="st">`</span><span class="at">year</span><span class="st">`</span>, <span class="st">`</span><span class="at">pop</span><span class="st">`</span>,  <span class="st">`</span><span class="at">emp</span><span class="st">`</span>, <span class="st">`</span><span class="at">yr_raise</span><span class="st">`</span>)</span>
<span id="cb29-128"><a href="#cb29-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-129"><a href="#cb29-129" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-130"><a href="#cb29-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-131"><a href="#cb29-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-132"><a href="#cb29-132" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-133"><a href="#cb29-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-134"><a href="#cb29-134" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1d.</span></span>
<span id="cb29-135"><a href="#cb29-135" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Add the following two variables---</span>
<span id="cb29-136"><a href="#cb29-136" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(1) <span class="in">`emp_perc`</span>, the percentage of people that are teen workers in a county</span>
<span id="cb29-137"><a href="#cb29-137" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) <span class="in">`raise`</span>, <span class="in">`TRUE`</span> if there was a raise in minimum wage in a county during the period of time; <span class="in">`FALSE`</span> otherwise</span>
<span id="cb29-138"><a href="#cb29-138" aria-hidden="true" tabindex="-1"></a>---to the data.frame, <span class="in">`teen_emp`</span>.</span>
<span id="cb29-139"><a href="#cb29-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-142"><a href="#cb29-142" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-143"><a href="#cb29-143" aria-hidden="true" tabindex="-1"></a>q1d <span class="ot">&lt;-</span> teen_emp <span class="sc">%&gt;%</span> </span>
<span id="cb29-144"><a href="#cb29-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">emp_perc =</span> <span class="dv">100</span> <span class="sc">*</span> emp <span class="sc">/</span> pop,</span>
<span id="cb29-145"><a href="#cb29-145" aria-hidden="true" tabindex="-1"></a>         <span class="at">raise =</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.na</span>(yr_raise), T, F))</span>
<span id="cb29-146"><a href="#cb29-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-147"><a href="#cb29-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-148"><a href="#cb29-148" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-149"><a href="#cb29-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-150"><a href="#cb29-150" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1e.</span></span>
<span id="cb29-151"><a href="#cb29-151" aria-hidden="true" tabindex="-1"></a>Report mean, median, minimum, maximum, standard deviation of variable, <span class="in">`emp_perc`</span>, for each <span class="in">`state`</span>.</span>
<span id="cb29-152"><a href="#cb29-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-155"><a href="#cb29-155" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-156"><a href="#cb29-156" aria-hidden="true" tabindex="-1"></a>q1e <span class="ot">&lt;-</span> q1d <span class="sc">%&gt;%</span> </span>
<span id="cb29-157"><a href="#cb29-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span> </span>
<span id="cb29-158"><a href="#cb29-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">skim</span>(emp_perc)</span>
<span id="cb29-159"><a href="#cb29-159" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-160"><a href="#cb29-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-161"><a href="#cb29-161" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-162"><a href="#cb29-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-163"><a href="#cb29-163" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1f.</span></span>
<span id="cb29-164"><a href="#cb29-164" aria-hidden="true" tabindex="-1"></a>In the resulting data.frame from Q1d, or <span class="in">`teen_emp`</span>, remove observations for which values of <span class="in">`yr_raise`</span> is missing.</span>
<span id="cb29-165"><a href="#cb29-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-168"><a href="#cb29-168" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-169"><a href="#cb29-169" aria-hidden="true" tabindex="-1"></a>q1f <span class="ot">&lt;-</span> <span class="fu">filter</span>( q1d, <span class="sc">!</span><span class="fu">is.na</span>(yr_raise) )</span>
<span id="cb29-170"><a href="#cb29-170" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-171"><a href="#cb29-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-172"><a href="#cb29-172" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-173"><a href="#cb29-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-174"><a href="#cb29-174" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1g.</span></span>
<span id="cb29-175"><a href="#cb29-175" aria-hidden="true" tabindex="-1"></a>Provide both (1) ggplot and (2) a simple comment to describe the yearly trend of the distribution of <span class="in">`emp_perc`</span> before and after <span class="in">`yr_raise`</span>.</span>
<span id="cb29-176"><a href="#cb29-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-179"><a href="#cb29-179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-180"><a href="#cb29-180" aria-hidden="true" tabindex="-1"></a>q1g <span class="ot">&lt;-</span> q1f <span class="sc">%&gt;%</span> </span>
<span id="cb29-181"><a href="#cb29-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">yr =</span> year <span class="sc">-</span> yr_raise)</span>
<span id="cb29-182"><a href="#cb29-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-183"><a href="#cb29-183" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q1g) <span class="sc">+</span></span>
<span id="cb29-184"><a href="#cb29-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(yr), <span class="at">y =</span> emp_perc))</span>
<span id="cb29-185"><a href="#cb29-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-186"><a href="#cb29-186" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q1g) <span class="sc">+</span></span>
<span id="cb29-187"><a href="#cb29-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">y =</span> emp_perc)) <span class="sc">+</span></span>
<span id="cb29-188"><a href="#cb29-188" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(.<span class="sc">~</span> <span class="fu">factor</span>(yr))</span>
<span id="cb29-189"><a href="#cb29-189" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-190"><a href="#cb29-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-191"><a href="#cb29-191" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-192"><a href="#cb29-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-193"><a href="#cb29-193" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q1h.</span></span>
<span id="cb29-194"><a href="#cb29-194" aria-hidden="true" tabindex="-1"></a>Provide both (1) ggplot and (2) a simple comment to describe the yearly trend of the distribution of <span class="in">`emp_perc`</span> for counties that did not raise their minimum wages during the time period.</span>
<span id="cb29-195"><a href="#cb29-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-198"><a href="#cb29-198" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-199"><a href="#cb29-199" aria-hidden="true" tabindex="-1"></a>q1h <span class="ot">&lt;-</span> <span class="fu">filter</span>(q1d, </span>
<span id="cb29-200"><a href="#cb29-200" aria-hidden="true" tabindex="-1"></a>              raise <span class="sc">==</span> F)</span>
<span id="cb29-201"><a href="#cb29-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-202"><a href="#cb29-202" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q1h) <span class="sc">+</span></span>
<span id="cb29-203"><a href="#cb29-203" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(year), <span class="at">y =</span> emp_perc))</span>
<span id="cb29-204"><a href="#cb29-204" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-205"><a href="#cb29-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-206"><a href="#cb29-206" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb29-207"><a href="#cb29-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-208"><a href="#cb29-208" aria-hidden="true" tabindex="-1"></a><span class="fu"># Question 2</span></span>
<span id="cb29-209"><a href="#cb29-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-210"><a href="#cb29-210" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The following is the description for Question 2:</span>
<span id="cb29-211"><a href="#cb29-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-212"><a href="#cb29-212" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>TripAdvisor is an online travel research company that empowers people around the world to plan and enjoy the ideal trip. </span>
<span id="cb29-213"><a href="#cb29-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-214"><a href="#cb29-214" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>TripAdvisor wanted to know whether promoting membership on their platform could drive engagement and bookings. </span>
<span id="cb29-215"><a href="#cb29-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-216"><a href="#cb29-216" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>To do so, TripAdvisor had just run an experiment to explore user retention by offering a random subset of customers an easier sign-up process for membership.</span>
<span id="cb29-217"><a href="#cb29-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-218"><a href="#cb29-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-219"><a href="#cb29-219" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The following is the data.frame for Question 2:</span>
<span id="cb29-220"><a href="#cb29-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-221"><a href="#cb29-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-224"><a href="#cb29-224" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-225"><a href="#cb29-225" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb29-226"><a href="#cb29-226" aria-hidden="true" tabindex="-1"></a>tripadvisor <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://bcdanl.github.io/data/tripadvisor_cleaned.csv"</span>)</span>
<span id="cb29-227"><a href="#cb29-227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-228"><a href="#cb29-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-229"><a href="#cb29-229" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variable description</span></span>
<span id="cb29-230"><a href="#cb29-230" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`id`</span>: a unique identifier for a user.</span>
<span id="cb29-231"><a href="#cb29-231" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`time`</span>:   </span>
<span id="cb29-232"><a href="#cb29-232" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`PRE`</span> if <span class="in">`time`</span> is before the experiment; </span>
<span id="cb29-233"><a href="#cb29-233" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`POST`</span> if <span class="in">`time`</span> is in the 28 days after the experiment.</span>
<span id="cb29-234"><a href="#cb29-234" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`days_visited`</span>:   Number of days a user visited the TripAdvisor website.</span>
<span id="cb29-235"><a href="#cb29-235" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`easier_signup`</span>: <span class="in">`TRUE`</span> if a user was exposed to the easier signup process (e.g., one-click signup) during the experiment; FALSE otherwise.</span>
<span id="cb29-236"><a href="#cb29-236" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`became_member`</span>: <span class="in">`TRUE`</span> if a user became a member during the experiment period; <span class="in">`FALSE`</span> otherwise.</span>
<span id="cb29-237"><a href="#cb29-237" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`locale_en_US`</span>: <span class="in">`TRUE`</span> if a user accessed the website from the US; <span class="in">`FALSE`</span> otherwise.</span>
<span id="cb29-238"><a href="#cb29-238" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`os_type`</span>:    Windows, Mac, or Others</span>
<span id="cb29-239"><a href="#cb29-239" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`revenue_pre`</span>:  Amount of dollars a user spent on the website before the experiment</span>
<span id="cb29-240"><a href="#cb29-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-241"><a href="#cb29-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-242"><a href="#cb29-242" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In the data.frame, <span class="in">`tripadvisor`</span>, for each <span class="in">`id`</span> value, there are two types of observations---one with <span class="in">`time == "PRE"`</span> and the other with <span class="in">`time == "POST"`</span>.</span>
<span id="cb29-243"><a href="#cb29-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-244"><a href="#cb29-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-245"><a href="#cb29-245" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-246"><a href="#cb29-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-247"><a href="#cb29-247" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2a.</span></span>
<span id="cb29-248"><a href="#cb29-248" aria-hidden="true" tabindex="-1"></a>Using the given data.frame, <span class="in">`tripadvisor`</span>, create the data.frame, tripadvisor, for which</span>
<span id="cb29-249"><a href="#cb29-249" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(1) <span class="in">`time`</span> is a factor-type variable of <span class="in">`time`</span> with a reference level, <span class="in">`"PRE"`</span>.</span>
<span id="cb29-250"><a href="#cb29-250" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) <span class="in">`os_type`</span> is a factor-type variable of <span class="in">`os_type`</span> with a reference level, <span class="in">`"Windows"`</span>.</span>
<span id="cb29-251"><a href="#cb29-251" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-254"><a href="#cb29-254" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-255"><a href="#cb29-255" aria-hidden="true" tabindex="-1"></a>q2a <span class="ot">&lt;-</span> tripadvisor <span class="sc">%&gt;%</span> </span>
<span id="cb29-256"><a href="#cb29-256" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time =</span> <span class="fu">factor</span>(time, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"PRE"</span>, <span class="st">"POST"</span>)),</span>
<span id="cb29-257"><a href="#cb29-257" aria-hidden="true" tabindex="-1"></a>         <span class="at">os_type =</span> <span class="fu">factor</span>(os_type, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Windows"</span>, <span class="st">"Mac"</span>, <span class="st">"Others"</span>) ) )</span>
<span id="cb29-258"><a href="#cb29-258" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-259"><a href="#cb29-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-260"><a href="#cb29-260" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-261"><a href="#cb29-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-262"><a href="#cb29-262" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2b.</span></span>
<span id="cb29-263"><a href="#cb29-263" aria-hidden="true" tabindex="-1"></a>Provide both (1) ggplot and (2) a simple comment to describe how the relationship between <span class="in">`time`</span> and <span class="in">`days_visited`</span> varies by <span class="in">`easier_signup`</span> and <span class="in">`became_member`</span>.</span>
<span id="cb29-264"><a href="#cb29-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-267"><a href="#cb29-267" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-268"><a href="#cb29-268" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2a) <span class="sc">+</span></span>
<span id="cb29-269"><a href="#cb29-269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> days_visited, </span>
<span id="cb29-270"><a href="#cb29-270" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x =</span> time,</span>
<span id="cb29-271"><a href="#cb29-271" aria-hidden="true" tabindex="-1"></a>                   <span class="at">fill =</span> time) ) <span class="sc">+</span></span>
<span id="cb29-272"><a href="#cb29-272" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(easier_signup <span class="sc">~</span> became_member)</span>
<span id="cb29-273"><a href="#cb29-273" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-274"><a href="#cb29-274" aria-hidden="true" tabindex="-1"></a>Comments are not provided here.</span>
<span id="cb29-275"><a href="#cb29-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-276"><a href="#cb29-276" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-277"><a href="#cb29-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-278"><a href="#cb29-278" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2c.</span></span>
<span id="cb29-279"><a href="#cb29-279" aria-hidden="true" tabindex="-1"></a>Provide both (1) ggplot and (2) a simple comment to describe the distribution of <span class="in">`days_visited`</span> varies by <span class="in">`os_type`</span>.</span>
<span id="cb29-280"><a href="#cb29-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-283"><a href="#cb29-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-284"><a href="#cb29-284" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2a) <span class="sc">+</span></span>
<span id="cb29-285"><a href="#cb29-285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="fu">aes</span>(<span class="at">x =</span> days_visited,</span>
<span id="cb29-286"><a href="#cb29-286" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color =</span> os_type) ) </span>
<span id="cb29-287"><a href="#cb29-287" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-288"><a href="#cb29-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-289"><a href="#cb29-289" aria-hidden="true" tabindex="-1"></a>Comments are not provided here.</span>
<span id="cb29-290"><a href="#cb29-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-291"><a href="#cb29-291" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-292"><a href="#cb29-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-293"><a href="#cb29-293" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2d.</span></span>
<span id="cb29-294"><a href="#cb29-294" aria-hidden="true" tabindex="-1"></a>Provide both (1) ggplot and (2) a simple comment to describe how the relationship between <span class="in">`revenue_pre`</span> and <span class="in">`days_visited`</span> varies by <span class="in">`time`</span> conditioning that <span class="in">`revenue_pre`</span> is less than or equal to its third quartile level.</span>
<span id="cb29-295"><a href="#cb29-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-298"><a href="#cb29-298" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-299"><a href="#cb29-299" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(q2a<span class="sc">$</span>revenue_pre) <span class="co"># to see the third quartile level</span></span>
<span id="cb29-300"><a href="#cb29-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-301"><a href="#cb29-301" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="fu">filter</span>(q2a, revenue_pre <span class="sc">&lt;=</span><span class="fl">7.39</span>),</span>
<span id="cb29-302"><a href="#cb29-302" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> revenue_pre,</span>
<span id="cb29-303"><a href="#cb29-303" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="fu">factor</span>(days_visited))) <span class="sc">+</span></span>
<span id="cb29-304"><a href="#cb29-304" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb29-305"><a href="#cb29-305" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(time <span class="sc">~</span>.)</span>
<span id="cb29-306"><a href="#cb29-306" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-307"><a href="#cb29-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-308"><a href="#cb29-308" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-309"><a href="#cb29-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-310"><a href="#cb29-310" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2e.</span></span>
<span id="cb29-311"><a href="#cb29-311" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Randomly split the data.frame, <span class="in">`tripadvisor`</span>, into training and testing data.frames.</span>
<span id="cb29-312"><a href="#cb29-312" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Approximately 70% of observations in the data.frame, tripadvisor, must go to the training data.frame. </span>
<span id="cb29-313"><a href="#cb29-313" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The rest observations in the the data.frame, tripadvisor, must go to the testing data.frame.</span>
<span id="cb29-314"><a href="#cb29-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-315"><a href="#cb29-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-316"><a href="#cb29-316" aria-hidden="true" tabindex="-1"></a>-Additionally, </span>
<span id="cb29-317"><a href="#cb29-317" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(1) the number of observations for each <span class="in">`id`</span> must be 2 in both training and testing data.frames.</span>
<span id="cb29-318"><a href="#cb29-318" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) the distribution of <span class="in">`easier_signup`</span> and the distribution of <span class="in">`became_member`</span> are approximately the same between training and testing data.frames.</span>
<span id="cb29-319"><a href="#cb29-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-322"><a href="#cb29-322" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-323"><a href="#cb29-323" aria-hidden="true" tabindex="-1"></a>df_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>)</span>
<span id="cb29-324"><a href="#cb29-324" aria-hidden="true" tabindex="-1"></a>df_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>)</span>
<span id="cb29-325"><a href="#cb29-325" aria-hidden="true" tabindex="-1"></a>df_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>)</span>
<span id="cb29-326"><a href="#cb29-326" aria-hidden="true" tabindex="-1"></a>df_4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>)</span>
<span id="cb29-327"><a href="#cb29-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-328"><a href="#cb29-328" aria-hidden="true" tabindex="-1"></a>df_1p <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"POST"</span>)</span>
<span id="cb29-329"><a href="#cb29-329" aria-hidden="true" tabindex="-1"></a>df_2p <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"POST"</span>)</span>
<span id="cb29-330"><a href="#cb29-330" aria-hidden="true" tabindex="-1"></a>df_3p <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"POST"</span>)</span>
<span id="cb29-331"><a href="#cb29-331" aria-hidden="true" tabindex="-1"></a>df_4p <span class="ot">&lt;-</span> <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"POST"</span>)</span>
<span id="cb29-332"><a href="#cb29-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-333"><a href="#cb29-333" aria-hidden="true" tabindex="-1"></a>gp_1 <span class="ot">&lt;-</span> <span class="fu">nrow</span>( <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>) )</span>
<span id="cb29-334"><a href="#cb29-334" aria-hidden="true" tabindex="-1"></a>gp_2 <span class="ot">&lt;-</span> <span class="fu">nrow</span>( <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>) )</span>
<span id="cb29-335"><a href="#cb29-335" aria-hidden="true" tabindex="-1"></a>gp_3 <span class="ot">&lt;-</span> <span class="fu">nrow</span>( <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">0</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>) )</span>
<span id="cb29-336"><a href="#cb29-336" aria-hidden="true" tabindex="-1"></a>gp_4 <span class="ot">&lt;-</span> <span class="fu">nrow</span>( <span class="fu">filter</span>(q2a, easier_signup <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> became_member <span class="sc">==</span> <span class="dv">1</span>, time <span class="sc">==</span> <span class="st">"PRE"</span>) )</span>
<span id="cb29-337"><a href="#cb29-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-338"><a href="#cb29-338" aria-hidden="true" tabindex="-1"></a>gp_1 <span class="ot">&lt;-</span> <span class="fu">runif</span>( gp_1 )</span>
<span id="cb29-339"><a href="#cb29-339" aria-hidden="true" tabindex="-1"></a>gp_2 <span class="ot">&lt;-</span> <span class="fu">runif</span>( gp_2 )</span>
<span id="cb29-340"><a href="#cb29-340" aria-hidden="true" tabindex="-1"></a>gp_3 <span class="ot">&lt;-</span> <span class="fu">runif</span>( gp_3 )</span>
<span id="cb29-341"><a href="#cb29-341" aria-hidden="true" tabindex="-1"></a>gp_4 <span class="ot">&lt;-</span> <span class="fu">runif</span>( gp_4 )</span>
<span id="cb29-342"><a href="#cb29-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-343"><a href="#cb29-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-344"><a href="#cb29-344" aria-hidden="true" tabindex="-1"></a>train_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_1, gp_1 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb29-345"><a href="#cb29-345" aria-hidden="true" tabindex="-1"></a>test_1 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_1, gp_1 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb29-346"><a href="#cb29-346" aria-hidden="true" tabindex="-1"></a>train_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_2, gp_2 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb29-347"><a href="#cb29-347" aria-hidden="true" tabindex="-1"></a>test_2 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_2, gp_2 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb29-348"><a href="#cb29-348" aria-hidden="true" tabindex="-1"></a>train_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_3, gp_3 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb29-349"><a href="#cb29-349" aria-hidden="true" tabindex="-1"></a>test_3 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_3, gp_3 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb29-350"><a href="#cb29-350" aria-hidden="true" tabindex="-1"></a>train_4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_4, gp_4 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb29-351"><a href="#cb29-351" aria-hidden="true" tabindex="-1"></a>test_4 <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_4, gp_4 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb29-352"><a href="#cb29-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-353"><a href="#cb29-353" aria-hidden="true" tabindex="-1"></a>train_1p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_1p, gp_1 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb29-354"><a href="#cb29-354" aria-hidden="true" tabindex="-1"></a>test_1p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_1p, gp_1 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb29-355"><a href="#cb29-355" aria-hidden="true" tabindex="-1"></a>train_2p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_2p, gp_2 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb29-356"><a href="#cb29-356" aria-hidden="true" tabindex="-1"></a>test_2p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_2p, gp_2 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb29-357"><a href="#cb29-357" aria-hidden="true" tabindex="-1"></a>train_3p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_3p, gp_3 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb29-358"><a href="#cb29-358" aria-hidden="true" tabindex="-1"></a>test_3p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_3p, gp_3 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb29-359"><a href="#cb29-359" aria-hidden="true" tabindex="-1"></a>train_4p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_4p, gp_4 <span class="sc">&gt;=</span> .<span class="dv">3</span>)</span>
<span id="cb29-360"><a href="#cb29-360" aria-hidden="true" tabindex="-1"></a>test_4p <span class="ot">&lt;-</span> <span class="fu">filter</span>(df_4p, gp_4 <span class="sc">&lt;</span> .<span class="dv">3</span>)</span>
<span id="cb29-361"><a href="#cb29-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-362"><a href="#cb29-362" aria-hidden="true" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> <span class="fu">rbind</span>(train_1, train_2, train_3, train_4,</span>
<span id="cb29-363"><a href="#cb29-363" aria-hidden="true" tabindex="-1"></a>                train_1p, train_2p, train_3p, train_4p)</span>
<span id="cb29-364"><a href="#cb29-364" aria-hidden="true" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> <span class="fu">rbind</span>(test_1, test_2, test_3, test_4,</span>
<span id="cb29-365"><a href="#cb29-365" aria-hidden="true" tabindex="-1"></a>               test_1p, test_2p, test_3p, test_4p)</span>
<span id="cb29-366"><a href="#cb29-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-367"><a href="#cb29-367" aria-hidden="true" tabindex="-1"></a>dtrain <span class="ot">&lt;-</span> dtrain <span class="sc">%&gt;%</span> </span>
<span id="cb29-368"><a href="#cb29-368" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(id, time)</span>
<span id="cb29-369"><a href="#cb29-369" aria-hidden="true" tabindex="-1"></a>dtest <span class="ot">&lt;-</span> dtest <span class="sc">%&gt;%</span> </span>
<span id="cb29-370"><a href="#cb29-370" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(id, time)</span>
<span id="cb29-371"><a href="#cb29-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-372"><a href="#cb29-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-373"><a href="#cb29-373" aria-hidden="true" tabindex="-1"></a><span class="co"># prop.table(table(dtrain$became_member))</span></span>
<span id="cb29-374"><a href="#cb29-374" aria-hidden="true" tabindex="-1"></a><span class="co"># prop.table(table(dtest$became_member))</span></span>
<span id="cb29-375"><a href="#cb29-375" aria-hidden="true" tabindex="-1"></a><span class="co"># prop.table(table(dtrain$easier_signup))</span></span>
<span id="cb29-376"><a href="#cb29-376" aria-hidden="true" tabindex="-1"></a><span class="co"># prop.table(table(dtest$easier_signup))</span></span>
<span id="cb29-377"><a href="#cb29-377" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-378"><a href="#cb29-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-379"><a href="#cb29-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-380"><a href="#cb29-380" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-381"><a href="#cb29-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-382"><a href="#cb29-382" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2f.</span></span>
<span id="cb29-383"><a href="#cb29-383" aria-hidden="true" tabindex="-1"></a>Consider the following formulas for linear regression:</span>
<span id="cb29-384"><a href="#cb29-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-387"><a href="#cb29-387" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-388"><a href="#cb29-388" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb29-389"><a href="#cb29-389" aria-hidden="true" tabindex="-1"></a>formula_1 <span class="ot">&lt;-</span> days_visited <span class="sc">~</span> time <span class="sc">*</span> easier_signup  <span class="sc">+</span></span>
<span id="cb29-390"><a href="#cb29-390" aria-hidden="true" tabindex="-1"></a>  os_type <span class="sc">+</span> locale_en_US <span class="sc">+</span> revenue_pre</span>
<span id="cb29-391"><a href="#cb29-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-392"><a href="#cb29-392" aria-hidden="true" tabindex="-1"></a>formula_2 <span class="ot">&lt;-</span> days_visited <span class="sc">~</span> time <span class="sc">*</span> easier_signup <span class="sc">*</span> became_member <span class="sc">+</span> </span>
<span id="cb29-393"><a href="#cb29-393" aria-hidden="true" tabindex="-1"></a>  os_type <span class="sc">+</span> locale_en_US <span class="sc">+</span> revenue_pre</span>
<span id="cb29-394"><a href="#cb29-394" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-395"><a href="#cb29-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-396"><a href="#cb29-396" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Train the linear regression model with the above formula.</span>
<span id="cb29-397"><a href="#cb29-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-398"><a href="#cb29-398" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If you could not properly split the data.frame into the training and testing data.frames in Q2e, use the data.frame, pension_tax, as the training data.frame.</span>
<span id="cb29-399"><a href="#cb29-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-400"><a href="#cb29-400" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Report the summary of the linear regression result.</span>
<span id="cb29-401"><a href="#cb29-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-404"><a href="#cb29-404" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-405"><a href="#cb29-405" aria-hidden="true" tabindex="-1"></a>model_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data =</span> dtrain,</span>
<span id="cb29-406"><a href="#cb29-406" aria-hidden="true" tabindex="-1"></a>              formula_1)</span>
<span id="cb29-407"><a href="#cb29-407" aria-hidden="true" tabindex="-1"></a>model_2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data =</span> dtrain,</span>
<span id="cb29-408"><a href="#cb29-408" aria-hidden="true" tabindex="-1"></a>              formula_2)</span>
<span id="cb29-409"><a href="#cb29-409" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-410"><a href="#cb29-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-411"><a href="#cb29-411" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = F}</span></span>
<span id="cb29-412"><a href="#cb29-412" aria-hidden="true" tabindex="-1"></a>stargazer<span class="sc">::</span><span class="fu">stargazer</span>(model_1, model_2,</span>
<span id="cb29-413"><a href="#cb29-413" aria-hidden="true" tabindex="-1"></a>                     <span class="at">type =</span> <span class="st">'text'</span>)</span>
<span id="cb29-414"><a href="#cb29-414" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-415"><a href="#cb29-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-416"><a href="#cb29-416" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo = F, results='asis'}</span></span>
<span id="cb29-417"><a href="#cb29-417" aria-hidden="true" tabindex="-1"></a>stargazer<span class="sc">::</span><span class="fu">stargazer</span>(model_1, model_2,</span>
<span id="cb29-418"><a href="#cb29-418" aria-hidden="true" tabindex="-1"></a>                     <span class="at">type=</span><span class="st">'html'</span>)</span>
<span id="cb29-419"><a href="#cb29-419" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-420"><a href="#cb29-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-421"><a href="#cb29-421" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-422"><a href="#cb29-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-423"><a href="#cb29-423" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2g.</span></span>
<span id="cb29-424"><a href="#cb29-424" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Visualize the confidence intervals of all the beta estimates except for the variables <span class="in">`(Intercept)`</span> from the model with <span class="in">`formula_2`</span>.</span>
<span id="cb29-425"><a href="#cb29-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-426"><a href="#cb29-426" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>What does it mean that a confidence interval of a beta estimate contains a zero level of its beta estimate?</span>
<span id="cb29-427"><a href="#cb29-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-430"><a href="#cb29-430" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-431"><a href="#cb29-431" aria-hidden="true" tabindex="-1"></a>sum_model_2 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(model_2)</span>
<span id="cb29-432"><a href="#cb29-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-433"><a href="#cb29-433" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">filter</span>(sum_model_2,</span>
<span id="cb29-434"><a href="#cb29-434" aria-hidden="true" tabindex="-1"></a>              term <span class="sc">!=</span> <span class="st">"(Intercept)"</span>)) <span class="sc">+</span></span>
<span id="cb29-435"><a href="#cb29-435" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_pointrange</span>( <span class="fu">aes</span>(<span class="at">x =</span> term, </span>
<span id="cb29-436"><a href="#cb29-436" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> estimate,</span>
<span id="cb29-437"><a href="#cb29-437" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymin =</span> estimate <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>std.error,</span>
<span id="cb29-438"><a href="#cb29-438" aria-hidden="true" tabindex="-1"></a>                       <span class="at">ymax =</span> estimate <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>std.error ) ) <span class="sc">+</span></span>
<span id="cb29-439"><a href="#cb29-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span>
<span id="cb29-440"><a href="#cb29-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-441"><a href="#cb29-441" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-442"><a href="#cb29-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-443"><a href="#cb29-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-444"><a href="#cb29-444" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If <span class="in">`estimate == 0`</span> belongs to a confidence interval of the beta estimate, the beta estimate may not be statistically different from zero, and there is insufficient evidence to conclude that there is a non-zero relationship between the explanatory variable and the outcome variable.</span>
<span id="cb29-445"><a href="#cb29-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-446"><a href="#cb29-446" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-447"><a href="#cb29-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-448"><a href="#cb29-448" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2h. </span></span>
<span id="cb29-449"><a href="#cb29-449" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Interpret the estimated beta coefficients for the following variables---</span>
<span id="cb29-450"><a href="#cb29-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-451"><a href="#cb29-451" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(1) <span class="in">`os_typeMac`</span></span>
<span id="cb29-452"><a href="#cb29-452" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) <span class="in">`revenue_pre`</span></span>
<span id="cb29-453"><a href="#cb29-453" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(3) <span class="in">`timePOST`</span></span>
<span id="cb29-454"><a href="#cb29-454" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(4) <span class="in">`timePOST:easier_signup`</span></span>
<span id="cb29-455"><a href="#cb29-455" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(5) <span class="in">`timePOST:became_member`</span></span>
<span id="cb29-456"><a href="#cb29-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-457"><a href="#cb29-457" aria-hidden="true" tabindex="-1"></a>---from the model with <span class="in">`formula_2`</span> in Q2f.</span>
<span id="cb29-458"><a href="#cb29-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-461"><a href="#cb29-461" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-462"><a href="#cb29-462" aria-hidden="true" tabindex="-1"></a>b2 <span class="ot">&lt;-</span> <span class="fu">coef</span>(model_2)</span>
<span id="cb29-463"><a href="#cb29-463" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-464"><a href="#cb29-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-465"><a href="#cb29-465" aria-hidden="true" tabindex="-1"></a>Interpretation of the beta estimates are not provided here.</span>
<span id="cb29-466"><a href="#cb29-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-467"><a href="#cb29-467" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-468"><a href="#cb29-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-469"><a href="#cb29-469" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q2i. </span></span>
<span id="cb29-470"><a href="#cb29-470" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Provide (1) the interpretation of the beta estimate that addresses the following question---How did introducing easier signup process affect the level of engagement in the website?---and (2) any intuitive explanations on it.</span>
<span id="cb29-471"><a href="#cb29-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-472"><a href="#cb29-472" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Interpretation of the beta estimates are not provided here.</span>
<span id="cb29-473"><a href="#cb29-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-474"><a href="#cb29-474" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;&lt;br&gt;</span></span>
<span id="cb29-475"><a href="#cb29-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-476"><a href="#cb29-476" aria-hidden="true" tabindex="-1"></a><span class="fu"># Question 3</span></span>
<span id="cb29-477"><a href="#cb29-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-478"><a href="#cb29-478" aria-hidden="true" tabindex="-1"></a>The following is the data.frame for Question 3:</span>
<span id="cb29-479"><a href="#cb29-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-482"><a href="#cb29-482" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-483"><a href="#cb29-483" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: false</span></span>
<span id="cb29-484"><a href="#cb29-484" aria-hidden="true" tabindex="-1"></a>netflix <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb29-485"><a href="#cb29-485" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://bcdanl.github.io/data//netflix_cleaned.csv"</span>)</span>
<span id="cb29-486"><a href="#cb29-486" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-487"><a href="#cb29-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-488"><a href="#cb29-488" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variable description</span></span>
<span id="cb29-489"><a href="#cb29-489" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`id`</span>: unique identifier for each show</span>
<span id="cb29-490"><a href="#cb29-490" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`title`</span>: title</span>
<span id="cb29-491"><a href="#cb29-491" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`description`</span>: description</span>
<span id="cb29-492"><a href="#cb29-492" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`director`</span>: directors</span>
<span id="cb29-493"><a href="#cb29-493" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`genre`</span>: genres </span>
<span id="cb29-494"><a href="#cb29-494" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Each content can belong to multiple genres. </span>
<span id="cb29-495"><a href="#cb29-495" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>They are seperated by commas. </span>
<span id="cb29-496"><a href="#cb29-496" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>The maximum number of genres a show can belong to is 3.</span>
<span id="cb29-497"><a href="#cb29-497" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`cast`</span>: cast (seperated by commas)</span>
<span id="cb29-498"><a href="#cb29-498" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`production_country`</span>: production countries </span>
<span id="cb29-499"><a href="#cb29-499" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>Each content could be produced in multiple countries. </span>
<span id="cb29-500"><a href="#cb29-500" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>They are separated by commas. </span>
<span id="cb29-501"><a href="#cb29-501" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>The maximum number of countries in which a show was produced is 8.</span>
<span id="cb29-502"><a href="#cb29-502" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`release_date`</span>: release date (year in which it was released)</span>
<span id="cb29-503"><a href="#cb29-503" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`date_added`</span>: date the show was added to Netflix</span>
<span id="cb29-504"><a href="#cb29-504" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>e.g., the format of the value is character with</span>
<span id="cb29-505"><a href="#cb29-505" aria-hidden="true" tabindex="-1"></a>                    <span class="in">`MONTH DAY, YEAR`</span></span>
<span id="cb29-506"><a href="#cb29-506" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`rating`</span>: rating</span>
<span id="cb29-507"><a href="#cb29-507" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`duration`</span>: duration (in min for movies and number of seasons (e.g., 2 Seasons) for shows)</span>
<span id="cb29-508"><a href="#cb29-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-509"><a href="#cb29-509" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-510"><a href="#cb29-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-511"><a href="#cb29-511" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3a.</span></span>
<span id="cb29-512"><a href="#cb29-512" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In the data.frame, netflix, separate the variable <span class="in">`imdb_score`</span> into the two numeric variables, <span class="in">`imdb`</span> and <span class="in">`imdb_max`</span>, for which</span>
<span id="cb29-513"><a href="#cb29-513" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(1) <span class="in">`imdb`</span> is a value of <span class="in">`imdb_score`</span> before <span class="in">`/`</span>;</span>
<span id="cb29-514"><a href="#cb29-514" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>(2) <span class="in">`imdb_max`</span> is a value of <span class="in">`imdb_score`</span> after <span class="in">`/`</span>.</span>
<span id="cb29-515"><a href="#cb29-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-516"><a href="#cb29-516" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>For example, if <span class="in">`imdb_score == 6.6/10`</span>, <span class="in">`imdb == 6.6`</span> and <span class="in">`imdb_max == 10`</span>.</span>
<span id="cb29-517"><a href="#cb29-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-518"><a href="#cb29-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-519"><a href="#cb29-519" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In the data.frame, <span class="in">`netflix`</span>, separate the variable <span class="in">`genre`</span> into the three variables, <span class="in">`genre_1`</span>, <span class="in">`genre_2`</span>, and <span class="in">`genre_3`</span>, for which a value of each variable, <span class="in">`genre_1`</span>, <span class="in">`genre_2`</span> and <span class="in">`genre_3`</span>  is one single genre.</span>
<span id="cb29-520"><a href="#cb29-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-521"><a href="#cb29-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-522"><a href="#cb29-522" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In the data.frame, netflix, separate the variable <span class="in">`production_country`</span> into the eight variables, <span class="in">`country_1`</span>, <span class="in">`country_2`</span>, <span class="in">`country_3`</span>, <span class="in">`country_4`</span>, <span class="in">`country_5`</span>, <span class="in">`country_6`</span>, <span class="in">`country_7`</span>, and <span class="in">`country_8`</span>, in which a value of each variable <span class="in">`country_1`</span>, <span class="in">`country_2`</span>, <span class="in">`country_3`</span>, <span class="in">`country_4`</span>, <span class="in">`country_5`</span>, <span class="in">`country_6`</span>, <span class="in">`country_7`</span>, and <span class="in">`country_8`</span> is one single country.</span>
<span id="cb29-523"><a href="#cb29-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-524"><a href="#cb29-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-527"><a href="#cb29-527" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-528"><a href="#cb29-528" aria-hidden="true" tabindex="-1"></a>q3a <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span> </span>
<span id="cb29-529"><a href="#cb29-529" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(imdb_score, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"imdb"</span>, <span class="st">"imdb_max"</span>),</span>
<span id="cb29-530"><a href="#cb29-530" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">"/"</span>, <span class="at">convert =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb29-531"><a href="#cb29-531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(genre, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"genre_1"</span>, <span class="st">"genre_2"</span>, <span class="st">"genre_3"</span>),</span>
<span id="cb29-532"><a href="#cb29-532" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">","</span>, <span class="at">convert =</span> T)  <span class="sc">%&gt;%</span> </span>
<span id="cb29-533"><a href="#cb29-533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(production_country, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"country_1"</span>, <span class="st">"country_2"</span>, </span>
<span id="cb29-534"><a href="#cb29-534" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"country_3"</span>, <span class="st">"country_4"</span>, </span>
<span id="cb29-535"><a href="#cb29-535" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"country_5"</span>, <span class="st">"country_6"</span>, </span>
<span id="cb29-536"><a href="#cb29-536" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">"country_7"</span>, <span class="st">"country_8"</span>),</span>
<span id="cb29-537"><a href="#cb29-537" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">","</span>, <span class="at">convert =</span> T) </span>
<span id="cb29-538"><a href="#cb29-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-539"><a href="#cb29-539" aria-hidden="true" tabindex="-1"></a>q3a_chk <span class="ot">&lt;-</span> q3a <span class="sc">%&gt;%</span> </span>
<span id="cb29-540"><a href="#cb29-540" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(country_8))</span>
<span id="cb29-541"><a href="#cb29-541" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-542"><a href="#cb29-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-543"><a href="#cb29-543" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-544"><a href="#cb29-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-545"><a href="#cb29-545" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3b.</span></span>
<span id="cb29-546"><a href="#cb29-546" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Create the data.frame with the following two variables:</span>
<span id="cb29-547"><a href="#cb29-547" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`country`</span>: country that produced a show</span>
<span id="cb29-548"><a href="#cb29-548" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`n_shows`</span>: number of shows produced in a particular country.</span>
<span id="cb29-549"><a href="#cb29-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-550"><a href="#cb29-550" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Then, find the top 10 countries in terms of the 10 largest values of <span class="in">`n_shows`</span>.</span>
<span id="cb29-551"><a href="#cb29-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-552"><a href="#cb29-552" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If a show was produced in multiple countries, count it for each of the multiple countries.</span>
<span id="cb29-553"><a href="#cb29-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-554"><a href="#cb29-554" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>For example, <span class="in">`title == "10 Days in Sun City"`</span> is produced in <span class="in">`production_country == "South Africa, Nigeria"`</span>, so that, the values of <span class="in">`n_shows`</span> for <span class="in">`"South Africa"`</span> and <span class="in">`"Nigeria"`</span> should count <span class="in">`"10 Days in Sun City"`</span>.</span>
<span id="cb29-555"><a href="#cb29-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-556"><a href="#cb29-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-557"><a href="#cb29-557" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If a value of country starts with an empty character, <span class="in">`" "`</span>, remove the starting empty character from its value using <span class="in">`str_sub()`</span>, <span class="in">`str_length()`</span>, and <span class="in">`ifelse()`</span>.</span>
<span id="cb29-558"><a href="#cb29-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-561"><a href="#cb29-561" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-562"><a href="#cb29-562" aria-hidden="true" tabindex="-1"></a>q3b <span class="ot">&lt;-</span> q3a <span class="sc">%&gt;%</span> </span>
<span id="cb29-563"><a href="#cb29-563" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"country"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-564"><a href="#cb29-564" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">col =</span> country_1<span class="sc">:</span>country_8,</span>
<span id="cb29-565"><a href="#cb29-565" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"country"</span>,</span>
<span id="cb29-566"><a href="#cb29-566" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"n"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-567"><a href="#cb29-567" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(country)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-568"><a href="#cb29-568" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span> </span>
<span id="cb29-569"><a href="#cb29-569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(country) <span class="sc">%&gt;%</span> </span>
<span id="cb29-570"><a href="#cb29-570" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span>
<span id="cb29-571"><a href="#cb29-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-572"><a href="#cb29-572" aria-hidden="true" tabindex="-1"></a>q3b <span class="ot">&lt;-</span> q3b <span class="sc">%&gt;%</span> </span>
<span id="cb29-573"><a href="#cb29-573" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">country =</span> <span class="fu">ifelse</span>( <span class="fu">str_sub</span>(country, <span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">==</span> <span class="st">" "</span>,</span>
<span id="cb29-574"><a href="#cb29-574" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">str_sub</span>(country, <span class="dv">2</span>, <span class="fu">str_length</span>(country)),</span>
<span id="cb29-575"><a href="#cb29-575" aria-hidden="true" tabindex="-1"></a>                           country) ) <span class="sc">%&gt;%</span> </span>
<span id="cb29-576"><a href="#cb29-576" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span> </span>
<span id="cb29-577"><a href="#cb29-577" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n_shows =</span> <span class="fu">sum</span>(n, <span class="at">na.rm =</span> T) ) <span class="sc">%&gt;%</span> </span>
<span id="cb29-578"><a href="#cb29-578" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-579"><a href="#cb29-579" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n_shows)</span>
<span id="cb29-580"><a href="#cb29-580" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb29-581"><a href="#cb29-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-582"><a href="#cb29-582" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb29-583"><a href="#cb29-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-584"><a href="#cb29-584" aria-hidden="true" tabindex="-1"></a><span class="fu">## Q3c.</span></span>
<span id="cb29-585"><a href="#cb29-585" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Add the following variable to the data.frame <span class="in">`netflix`</span> or the resulting data.frame in Q3a:</span>
<span id="cb29-586"><a href="#cb29-586" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span><span class="in">`year_added`</span>: year a show was added to Netflix</span>
<span id="cb29-587"><a href="#cb29-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-588"><a href="#cb29-588" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Then, provide both (1) one ggplot and (2) a simple comment to describe the yearly trend of the number of the Netflix shows  produced in each of the top 10 countries from Q3b.</span>
<span id="cb29-589"><a href="#cb29-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-592"><a href="#cb29-592" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-593"><a href="#cb29-593" aria-hidden="true" tabindex="-1"></a>q3c <span class="ot">&lt;-</span> q3a <span class="sc">%&gt;%</span> </span>
<span id="cb29-594"><a href="#cb29-594" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(date_added, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"md"</span>, <span class="st">"year_added"</span>),</span>
<span id="cb29-595"><a href="#cb29-595" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">","</span>,</span>
<span id="cb29-596"><a href="#cb29-596" aria-hidden="true" tabindex="-1"></a>           <span class="at">convert =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb29-597"><a href="#cb29-597" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year_added, <span class="fu">starts_with</span>(<span class="st">"country"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-598"><a href="#cb29-598" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year_added)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-599"><a href="#cb29-599" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">col =</span> country_1<span class="sc">:</span>country_8,</span>
<span id="cb29-600"><a href="#cb29-600" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"country"</span>,</span>
<span id="cb29-601"><a href="#cb29-601" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"name"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-602"><a href="#cb29-602" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(country), country <span class="sc">!=</span> <span class="st">""</span>, country <span class="sc">!=</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-603"><a href="#cb29-603" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>name) <span class="sc">%&gt;%</span> </span>
<span id="cb29-604"><a href="#cb29-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(country, year_added) <span class="sc">%&gt;%</span> </span>
<span id="cb29-605"><a href="#cb29-605" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(country, year_added) <span class="sc">%&gt;%</span> </span>
<span id="cb29-606"><a href="#cb29-606" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">country =</span> <span class="fu">ifelse</span>( <span class="fu">str_sub</span>(country, <span class="dv">1</span>, <span class="dv">1</span>) <span class="sc">==</span> <span class="st">" "</span>,</span>
<span id="cb29-607"><a href="#cb29-607" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">str_sub</span>(country, <span class="dv">2</span>, <span class="fu">str_length</span>(country)),</span>
<span id="cb29-608"><a href="#cb29-608" aria-hidden="true" tabindex="-1"></a>                           country) ) <span class="sc">%&gt;%</span> </span>
<span id="cb29-609"><a href="#cb29-609" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country, year_added) <span class="sc">%&gt;%</span> </span>
<span id="cb29-610"><a href="#cb29-610" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(n, <span class="at">na.rm =</span> T) ) <span class="sc">%&gt;%</span> </span>
<span id="cb29-611"><a href="#cb29-611" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">as_vector</span>(q3b[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span>]))</span>
<span id="cb29-612"><a href="#cb29-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-613"><a href="#cb29-613" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q3c,</span>
<span id="cb29-614"><a href="#cb29-614" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> year_added, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb29-615"><a href="#cb29-615" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_added, <span class="at">y =</span> n,</span>
<span id="cb29-616"><a href="#cb29-616" aria-hidden="true" tabindex="-1"></a>                <span class="at">color =</span> <span class="fu">fct_reorder2</span>(country,</span>
<span id="cb29-617"><a href="#cb29-617" aria-hidden="true" tabindex="-1"></a>                                     year_added,</span>
<span id="cb29-618"><a href="#cb29-618" aria-hidden="true" tabindex="-1"></a>                                     n)) ) <span class="sc">+</span></span>
<span id="cb29-619"><a href="#cb29-619" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb29-620"><a href="#cb29-620" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">powered with github, quarto, and rstudio<br>byeong-hak choe, 2023</div>
  </div>
</footer>



</body></html>