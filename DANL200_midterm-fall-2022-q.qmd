---
title: "Fall 2022, DANL 200: Introduction to Data Analytics"
subtitle: "Midterm Exam - Example Answers"
author: "Byeong-Hak Choe"
editor: visual
---

```{r setup, include = FALSE}
library(tidyverse)
library(knitr)
library(kableExtra)
library(ggthemes)
library(ggtech)
library(ggthemr)
library(hrbrthemes)
library(hexbin)
library(ggforce)
library(skimr)

knitr::opts_chunk$set(fig.width=8, fig.height=5)  

theme_set(theme_ipsum() +
          theme(strip.background =element_rect(fill="lightgray")))
```

### Loading R packages

```{r, eval = F, echo = T}
library(tidyverse)
library(skimr)
```

<br><br>

# Question 1

For Question 1, run the following function to read the `county_data.csv` file:

```{r, echo = T, eval = T, warning = F, message = F}
county_data <- read_csv(
  'https://bcdanl.github.io/data/county_data.csv'
)
```

```{r, echo = F, eval = T, warning= F, message= F}
rmarkdown::paged_table(county_data)
```
<br>

You need to provide the absolute path name for the file, `dominick_oj_q1a.csv` to the above `read_csv()` function to read the file.

### Variable Description

- `id`: FIPS State and County code
- `name`: State or County Name
- `state`: State abbreviation
- `census_region`: Census region
 
- `pop_dens`: Population density per square mile, 2014 estimate 
- `pct_aa`: Percent African American population, 2014 estimate
 
- `pop`: Population, 2014 estimate
- `female`: Female persons, percent, 2013
- `caucasian`: Caucasian alone, percent, 2013
- `african_american`: African American alone, percent, 2013
- `travel_time`: Mean travel time to work (minutes), workers age 16+, 2009-2013
- `land_area`: Land area in square miles, 2010
- `hh_income`: Median household income, 2009-2013

- `fips`: FIPS code
- `votes_dem_2016`: Provisional count of Democratic votes in the 2016 Presidential election.
- `votes_gop_2016`: Provisional count of Republican votes in the 2016 Presidential election.
- `total_votes_2016`: Provitional count of votes cast in the 2016 Presidential election.
- `partywinner12`: Winning party, 2012 Presidental Election.



## Q1a. 
Move the column `fips` to the first and remove column `id`.


<br>

## Q1b
Provide both (1) ggplot codes and (2) a simple comment to describe the probability distribution of `african_american`. 

<br>

## Q1c 
Provide both (1) ggplot codes and (2) a simple comment to describe how the probability distribution of `african_american` varies by `census_region`.

<br>

## Q1d
Provide both (1) ggplot codes and (2) a simple comment to describe the relationship between `travel_time` and `hh_income`.

<br>

## Q1e
Provide both (1) ggplot codes and (2) a simple comment to describe how the relationship between `travel_time` and `hh_income` varies by `pop_dens`.

<br>

## Q1f
Provide both (1) ggplot codes and (2) a simple comment to describe how the relationship between `travel_time` and `hh_income` varies by `pop_dens` and `census_region`.



<br><br><br>

# Question 2

For Question 2, run the following R command to read the music data file.

```{r, echo = T, eval = T, warning= F, message= F}
spotify_all <- read_csv('https://bcdanl.github.io/data/spotify_all.csv')
```

```{r, echo = F, eval = T, warning= F, message= F}
rmarkdown::paged_table(spotify_all)
```

## Variable Description

- `pid`: playlist id
- `playlist_name`: the name of the playlist 
- `pos`: the position of the track in the playlist (zero-based)
- `artist_name`: the name of the track's primary artist
- `track_name`: the name of the track
- `duration_ms`: the duration of the track in milliseconds
- `album_name`: the name of the track's album

<br>

## Q2a 
Find the ten most popular song. Who are artists for those ten most popular song?





<br><br>

## Q2b
- Find the five most popular artist. 
- What is the most popular song for each of the five most popular artist?



<br><br>

## Q2c
Provide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between `pos` and the ten most popular artists.




<br><br>

## Q2d
Create the data frame with `pid`-`artist` level of observations with the following four variables:

- `pid`: playlist id
- `playlist_name`: the name of the playlist
- `artist`: the name of the track's primary artist, which appears only once within a playlist
- `n_artist`: the number of occurrences of artist within a playlist

<br><br><br>


# Question 3

## Q3a
- Download the compressed file, `ca_housing.zip`, from the Files section in our Canvas web-site. 

- Extract the file, `ca_housing.zip`, so that you can use the file, `california_housing.csv`. 

- Read the data file, `california_housing.csv`, as the data.frame object with the name, `ca_housing`, using (1) the `read_csv()` function and (2) the absolute path name of the file, `california_housing.csv`, from your local hard disk drive in your laptop.

<br><br>

## Q3b. 
Report the mean, median, minimum, maximum, and standard deviation for the variable, `medianHouseValue`, in the data.frame, `ca_housing`.



<br><br>

## Q3c. 
Calculate the correlation between `housingMedianAge` and `medianHouseValue`.

