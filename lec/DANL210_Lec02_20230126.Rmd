---
title: "DANL 210 Lecture 1"
subtitle: "DANL 210: Data Preparation and Management"
author: "Byeong-Hak Choe"
institute: "SUNY Geneseo"
date: "January 24, 2023"
output:
  xaringan::moon_reader:
    css: 
      - default
      - css/nhsr.css
      - css/nhsr-fonts.css
    lib_dir: libs
    seal: false
    nature:
      highlightStyle: googlecode
      highlightLines: true
      highlightLanguage: ["r"]
      countIncrementalSlides: false
      ratio: "16:9"
    includes:
      after_body: [css/insert-logo.html]
---

```{r setup, include = FALSE}
library(knitr)
library(kableExtra)
library(tidyverse)
library(NHSRtheme)
library(fontawesome)
# set default options
opts_chunk$set(echo = FALSE,
               fig.width = 7.252,
               fig.height = 4,
               comment = "#",
               dpi = 300)

knitr::knit_engines$set("markdown")

xaringanExtra::use_tile_view()
xaringanExtra::use_panelset()
xaringanExtra::use_clipboard()
xaringanExtra::use_webcam()
xaringanExtra::use_broadcast()
xaringanExtra::use_share_again()
xaringanExtra::style_share_again(
  share_buttons = c("twitter", "linkedin", "pocket")
)


xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,         #<<
  mute_unhighlighted_code = TRUE  #<<
)

# uncomment the following lines if you want to use the NHS-R theme colours by default
# scale_fill_continuous <- partial(scale_fill_nhs, discrete = FALSE)
# scale_fill_discrete <- partial(scale_fill_nhs, discrete = TRUE)
# scale_colour_continuous <- partial(scale_colour_nhs, discrete = FALSE)
# scale_colour_discrete <- partial(scale_colour_nhs, discrete = TRUE)
```

class: title-slide, left, bottom

# `r rmarkdown::metadata$title`
----
## **`r rmarkdown::metadata$subtitle`**
### `r rmarkdown::metadata$author`
### `r rmarkdown::metadata$date`


---
class: inverse, center, middle

# Instructor
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>
---

# Instructor
### <p style="color:#00449E"> Current Appointment & Education </p>

- Name: Byeong-Hak Choe.
- Lecturer in Data Analytics at School of Business at SUNY Geneseo.


- Ph.D. in Economics from University of Wyoming.
- M.S. in Economics from Arizona State University.
- M.A. in Economics from SUNY Stony Brook.
- B.A. in Economics & B.S. in Applied Mathematics from Hanyang University at Ansan, South Korea
  - Minor in Business Administration.
  - Concentration in Finance.
  
---

# Instructor
### <p style="color:#00449E"> Data Science and Climate Change </p>

- Choe, B.H., 2021. "Social Media Campaigns, Lobbying and Legislation: Evidence from #climatechange/#globalwarming and Energy Lobbies."

- Question: To what extent do social media campaigns compete with fossil fuel lobbying on climate change legislation?

- Data include:
  - 5.0 million tweets with #climatechange/#globalwarming around the globe;
  - 12.0 million retweets/likes to those tweets;
  - 0.8 million Twitter users who wrote those tweets;
  - 1.4 million Twitter users who retweeted or liked those tweets;
  - 0.3 million US Twitter users with their location at a city level;
  - Firm-level lobbying data (expenses, targeted bills, etc.). 


---
class: inverse, center, middle

# Syllabus
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>
---

# Syllabus

### <p style="color:#00449E">Email, Class & Office Hours</p>

- Email: [bchoe@geneseo.edu](bchoe@geneseo.edu)


- Class Homepage: 
  - [https://canvas.geneseo.edu/](https://canvas.geneseo.edu/)
  - [https://bcdanl.github.io](https://bcdanl.github.io)
  
  
- Office: South Hall 117B.
- Office Hours: 
  - Mondays 3:30 PM-5:30 PM.
  - Wednesdays 1:30 PM-3:30 PM.

---
# Syllabus
### <p style="color:#00449E">Course Prerequisites</p>

- Business & Economics Statistics or Equivalent:
  - Economics 205, Geography 278, Mathematics 242, Mathematics 262, Political Science 251, Psychology 250, or Sociology 211.
  
- Programming for Data Analytics:
  - Data Analytics 100.

---
# Syllabus
### <p style="color:#00449E">Textbooks</p>
  
- **Python for Data Analysis** by Wes McKinney
  - A free online version of this book is available at [https://wesmckinney.com/book/](https://wesmckinney.com/book/).


- **Python Data Science Handbook** by Jake VanderPlas
  - A free online version of this book is available at [https://jakevdp.github.io/PythonDataScienceHandbook/](https://jakevdp.github.io/PythonDataScienceHandbook/)


---
# Syllabus
### <p style="color:#00449E">Reference Materials</p>
  
- **Coding for Economists** by Arthur Turrell
  - A free online version of this book is available at [https://aeturrell.github.io/coding-for-economists/](https://aeturrell.github.io/coding-for-economists/).


- **QuantEcon DataScience - pandas** by Chase Coleman, Spencer Lyon, and Jesse Perla
  - A free online version of this book is available at [ttps://datascience.quantecon.org/pandas/index.html](ttps://datascience.quantecon.org/pandas/index.html)

---



# Syllabus

### <p style="color:#00449E">Course Description</p>

- This course aims to provide overview of how one can collect, manipulate, process, clean, and crunch datasets with hands-on and practical case studies.

- This course will cover topics such as (1) loading, cleaning, transforming, merging, and reshaping data, (2) creating informative visualizations (3) dataset slicing, dicing, and summarizing, and (4) collecting data using web scrapping, API, and SQL. 

- We will cover these topics to solve real-world data analysis problems with thorough, detailed examples. 

- During the course, you will work hands-on with the Python programming language and its associated data analysis libraries.

---

# Syllabus

### <p style="color:#00449E">Course Requirements</p>

- Laptop: You should bring your own laptop (**Mac** or **Windows**) to the classroom. 
  - It is recommended to have 2+ core CPU, 4+ GB RAM, and 500+ GB disk storage in your laptop for this course.
  
  
- Homework: There will be six homework assignments.

- Exams: There will be midterm and final exams. 
  - The final exam is comprehensive.

---
# Syllabus
### <p style="color:#00449E">Course Contents</p>

- There will be tentatively 28 class sessions:
  - 27 lectures;
  - 1 midterm exam.


- There will be no class on February 28, 2023. 


- The midterm exam will be tentatively scheduled on March 9, 2023. 


- The final exam will be tentatively scheduled on May 16, 2023, from noon to 2 P.M. 


---
# Syllabus
### <p style="color:#00449E">Course Contents</p>

- Basics in pandas

```{r, out.width='100%', fig.align='center'}
text_tbl <- data.frame(
  Week = c("1", "2", "3", "4", "4"),
  Contents = c("Syllabus, Python & Pandas Basics",
"Pandas Basics",
"Data Visualization with matplotlib and seaborn",
"Tidy Data",
"Apply Functions"),
  HW = c("1", "1", "1", "2", "2")
  )


kable(text_tbl, format = "html") %>%
  kable_paper(full_width = T) %>%
  column_spec(1, bold = T, border_right = T) %>%
  kable_styling(html_font = 'sans-serif, helvetica, arial',
                bootstrap_options = c("hover", "condensed") )

```



---
# Syllabus
### <p style="color:#00449E">Course Contents</p>

- Data Transformation

```{r, out.width='100%', fig.align='center'}
text_tbl <- data.frame(
  Lecture = c("5", "6--7", "7"),
  Contents = c(
"Relational Data",
"Duplicate Data & Groupby Operations",
"Midterm Exam"),
  HW = c("2", "2", "")
  )


kable(text_tbl, format = "html") %>%
  kable_paper(full_width = T) %>%
  column_spec(1, bold = T, border_right = T) %>%
  kable_styling(html_font = 'sans-serif, helvetica, arial',
                bootstrap_options = c("hover", "condensed") ) 

```

---
# Syllabus
### <p style="color:#00449E">Course Contents</p>
- Data Type

```{r, out.width='100%', fig.align='center'}
text_tbl <- data.frame(
  Lecture = c("8", "8", "9", "9"),
  Contents = c("Missing Data",
               "Data Types",
               "String Data",
               "Dates and Times Data"),
  HW = c("3", "3", "3", "3")
  )


kbl(text_tbl) %>%
  kable_paper(full_width = T) %>%
  column_spec(1, bold = T, border_right = T) %>%
  kable_styling(html_font = 'sans-serif, helvetica, arial', bootstrap_options = c("hover", "condensed"))

```
---
# Syllabus
### <p style="color:#00449E">Course Contents</p>

- Web Scrapping and Databases

```{r, out.width='100%', fig.align='center'}
text_tbl <- data.frame(
  Lecture = c("10--12", "13", "14--15"),
  Contents = c("Web Scrapping with Python selenium",
               "Data Collection with APIs",
               "Databases with SQL and Google BigQuery"),
  HW = c("4--5", "5", "6")
  )


kbl(text_tbl) %>%
  kable_paper(full_width = T) %>%
  column_spec(1, bold = T, border_right = T) %>%
  kable_styling(html_font = 'sans-serif, helvetica, arial', bootstrap_options = c("hover", "condensed"))

```

---
# Syllabus
### <p style="color:#00449E">Attendance</p>
- You are allowed up to 7 absences without penalty. 

- There will be no additional absences available for standard excused reasons (illness, family emergency, transportation problems, etc.).


---
# Syllabus
### <p style="color:#00449E">Grading</p>
- Attendance accounts for 5% of the total percentage grade.

- Project accounts for 10% of the total percentage grade.

- Homework assignments account for 25% of the total percentage grade.

- Exams account for 60% of the total percentage grade.

$$ 
\begin{align}
&\;(\text{Total Percentage Grade})  \notag\\
=&\quad 0.05\times(\text{Attendance Score})  \notag\\
&\,+\, 0.35\times(\text{Total Homework Score}) \,+\, 0.60\times(\text{Total Exam Score}).\notag
\end{align}
$$

---
# Syllabus

### <p style="color:#00449E">Grading</p>

- The lowest homework score will be dropped when calculating the total homework score.

- Each of the four homework accounts for 20% of the total homework score.

---

# Syllabus

### <p style="color:#00449E">Grading</p>

- The total exam score is the maximum between the following two average scores:
  1. the simple average of two exam scores;
  2. the weighted average of them with one-fourth weight on the midterm exam score and three-fourth weight on the final exam score.
  
$$
\begin{align}
&(\text{Total Exam Score}) \notag\\
=\; &\max\,\left\{0.5\times(\text{Midterm Exam Score}) \,+\, 0.5\times(\text{Final Exam Score})\right.,\notag\\ 
&\qquad\;\,\left.0.25\times(\text{Midterm Exam Score}) \,+\, 0.75\times(\text{Final Exam Score})\right\}.\notag
\end{align}
$$

---

# Syllabus

### <p style="color:#00449E">Grading</p>

- Letter grades will be determined by the total percentage grade:
  
$$
\begin{align*}
\! 100\; \geq\; A\;\;\, \geq \;93>\; A- \geq 90;\\
90 >\; B+ \geq 87\; >\; B\;\;\, \geq \;83 >\; B- \geq 80;\\
80 >\; C+ \geq 77\; >\; C\;\;\, \geq \;73 >\; C- \geq 70;\\
70\; >\; D\;\;\, \geq\; 60 >\; E.\qquad\quad\;
\end{align*}
$$


---

# Syllabus

### <p style="color:#00449E">Make-up exams</p>

-  Make-up exams will not be given unless you have either a medically verified excuse or an absence excused by the University.

- If you cannot take exams because of religious obligations, notify me by email at least two weeks in advance so that an alternative exam time may be set.

- A missed exam without an excused absence earns a grade of zero.
  

---

# Syllabus

### <p style="color:#00449E">Academic Integrity and Plagiarism</p>

-  All homework assignments and exams must be the original work by you. 

- Examples of academic dishonesty include:
  - *representing the work, thoughts, and ideas of another person as your own*
  - *allowing others to represent your work, thoughts, or ideas as theirs*, and
  - *being complicit in academic dishonesty by suspecting or knowing of it and not taking action*.


- Geneseo’s Library offers frequent workshops to help you understand how to **paraphrase**, **quote**, and **cite** outside sources properly. 
  - See [https://www.geneseo.edu/library/library-workshops](https://www.geneseo.edu/library/\\library-workshops).
  

---

# Syllabus

### <p style="color:#00449E">Accessibility</p>

-  The Office of Accessibility will coordinate reasonable accommodations for persons with physical, emotional, or cognitive disabilities to ensure equal access to academic programs, activities, and services at Geneseo.

- Please contact me and the Office of Accessibility Services for questions related to access and accommodations.
  


---

# Syllabus

### <p style="color:#00449E">Well-being</p>

- You are strongly encouraged to communicate your needs to faculty and staff and seek support if you are experiencing unmanageable stress or are having difficulties with daily functioning.

- Liz Felski, the School of Business Student Advocate ([felski@geneseo.edu](felski@geneseo.edu), South Hall 303), or the Dean of Students (585-245-5706) can assist and provide direction to appropriate campus resources.

- For more information, see [https://www.geneseo.edu/dean_students](https://www.geneseo.edu/dean_students).
  

---
# Syllabus

### <p style="color:#00449E">Career Design</p>

- To get information about career development, you can visit the Career Development Events Calendar ([https://www.geneseo.edu/career_development/events/calendar](https://www.geneseo.edu/career_development/events/calendar)).

- You can stop by South 112 to get assistance in completing your Handshake Profile [https://app.joinhandshake.com/login](https://app.joinhandshake.com/login).
  - Handshake is ranked #1 by students as the best place to find full-time jobs.
  - 50% of the 2018-2020 graduates received a job or internship offer on Handshake.
  - Handshake is trusted by all 500 of the Fortune 500.
  

---
class: inverse, center, middle

# Installing the Tools
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>

---
# Installing the Tools
### <p style="color:#00449E"> Anaconda </p>

- Anaconda is an all-in-one Python distribution.
  - Anaconda includes Python 3.x and its standard modules such as pip, pandas, matplotlib, etc.
  - Anaconda also includes several software applications of integrated development environment (IDE), which is a software for editing codes.
  - For the Python code, we will use **Spyder** IDE.  
    - Do not use RStudio from Anaconda, because RStudio from Anaconda is out-dated.

  
- To install Anaconda, go to the following download page:
  - [https://www.anaconda.com/products/distribution](https://www.anaconda.com/products/distribution).
  - Click the "Download" button.


---
# Installing the Tools
### <p style="color:#00449E"> Spyder IDE </p>

- If Spyder IDE from Anaconda is lagging, consider installing it additionally.
  
- To install Spyder IDE in addition to Anaconda, go to the following download page:
  - [https://www.spyder-ide.org](https://www.spyder-ide.org).
  - Click the "DOWNLOAD" menu.


---
# Installing the Tools
### <p style="color:#00449E"> Spyder Environment </p>
.pull-left[
```{r, echo=FALSE, out.width = '100%', fig.align='center'}
knitr::include_graphics("../lec_figs/spyder_env.png")
```
]

.pull-right[
- Red box is **Script Editor** where you can create, open and edit files.


]
---
# Installing the Tools
### <p style="color:#00449E"> Spyder Environment </p>
.pull-left[
```{r, echo=FALSE, out.width = '100%', fig.align='center'}
knitr::include_graphics("../lec_figs/spyder_env.png")
```
]

.pull-right[
- Blue box is **Console Pane** that allows you to interact directly with the Python interpreter and type commands where Python will immediately execute them.

]
---
# Installing the Tools
### <p style="color:#00449E"> Spyder Environment </p>
.pull-left[
```{r, echo=FALSE, out.width = '100%', fig.align='center'}
knitr::include_graphics("../lec_figs/spyder_env.png")
```
]

.pull-right[
- Yellow box is **Variable Explorer** where you can see the values of variables, data frames, and other objects that are currently stored in memory.
  - Double-clicking a variable will open a specialized viewer, allowing you to inspect its contents.


]




---
# Coding Workflow
### <p style="color:#00449E"> Code and comment style </p>
- The two main principles for coding and managing data are:
  - Make things easier for your future self.
  - Don't trust your future self.

- The `#` mark is Spyder's comment character.
  - `#` indicates that the rest of the line is to be ignored.
  - Write comments before the line that you want the comment to apply to.

- Consider using block commenting for separating code sections.
  - `# %%` defines a coding block in Spyder.

- Break down long lines and long algebraic expressions.


---
# Coding Workflow
### <p style="color:#00449E"> Shortcuts </p>
.pull-left[
### <p style="color:#00449E"> Mac </p>
- **F9** runs a current line (where the blinking cursor is) or selected lines.
- **command + return** runs a current block.
- **command + 1** is the shortcut for #.
- **command + 4** is the shortcut for block comment.
]

.pull-right[
### <p style="color:#00449E"> Windows </p>
- **F9** runs a current line (where the blinking cursor is) or selected lines.
- **Ctrl + Enter** runs a current block.
- **Ctrl + 1** is the shortcut for #.
- **Ctrl + 4** is the shortcut for block comment.
]


---
class: inverse, center, middle

# Python Basics


---
#  Python Basics
### <p style="color:#00449E"> Values, Variables, and Types </p>

- A **value** is datum (literal) such as a number or text. 

- There are different **types** of values: 352.3 is known as a *float* or *double*, 22 is an *integer*, and “Hello World!” is a *string*. 

- A **variable** is a name that refers to a value.
  - We can think of a **variable** as a box that has a value, or multiple values, packed inside it.


```{python, echo = T, eval = F}
a = 10
print(a)
```

- Sometimes you will hear variables referred to as **objects**.

- Everything that is not a literal value, such as 10, is an *object*. 



---
#  Python Basics
### <p style="color:#00449E"> Assignment </p>

- In Python, we use `=` to assign a value to a variable.

```{python, eval = F, echo = T}
# Here we assign the integer value 5 to the variable x.
x = 5   

# Now we can use the variable x in the next line.
y = x + 12  
y
```

- In math, `=` means *equality* of both sides.
- In programs, `=` means **assignment**: *assign the value on the right side to the variable on the left side*.


---
#  Python Basics
### <p style="color:#00449E"> Assignment </p>


- In programs, everything on the right side needs to have a value.
  - The right side can be a literal value, or a variable that has already been assigned a value, or a combination.
  
- When Python reads `y = x + 12`, it does the following:
  - Sees the `=` in the middle.
  - Knows that this is an assignment.
  - Calculates the right side (gets the value of the object referred to by `x` and adds it to `12`).
  - Assigns the result to the left-side variable, `y`.




---
#  Python Basics
### <p style="color:#00449E"> Variables Are Names, Not Places </p>

- In Python, *variables* are just names.


```{r, echo=FALSE, out.width = '29%', fig.align='center', fig.cap="Names point to objects (variable `a` points to an integer object with value `7`)"}
knitr::include_graphics("../lec_figs/int-py-fig2-3.png")
```

---
#  Python Basics
### <p style="color:#00449E"> Variables Are Names, Not Places </p>

- The most basic built-in data types that you’ll need to know about are: **integers** 10, **floats** 1.23, **strings** like this, **booleans** True, and **nothing** None.

- Python also has a built-in type called a **list** [10, 15, 20] that can *contain* anything, even different **types** 

```{python, eval = F, echo = T}
list_example = [10, 1.23, "like this", True, None]
print(list_example)
type(list_example)
```




---
#  Python Basics
### <p style="color:#00449E"> Types </p>

.pull-left[
```{r, echo=FALSE, out.width = '100%', fig.align='center', fig.cap = "Python’s basic data types"}
knitr::include_graphics("../lec_figs/int-py-tab2-1.png")
```
]

.pull-right[
- The second column (Type) contains the Python name of that type. 

- The third column (Mutable?) indicates whether the value can be changed after creation.
]



---
#  Python Basics
### <p style="color:#00449E"> Brackets </p>

- There are several kinds of brackets in Python, including `[]`, `{}`, and `()`. 


.panelset[

.panel[.panel-name[`[]`]
- `[]` is used to denote a **list** or to signify accessing a *position* using an index.

```{python, echo = T, eval = F}
vector = ['a', 'b']
vector[0]
```


]


.panel[.panel-name[`{}`]
- `{}` is used to denote a **set** or a **dictionary** (with key-value pairs).

```{python, echo = T, eval = F}
{'a', 'b'}
{'first_letter': 'a', 'second_letter': 'b'}
```

]


.panel[.panel-name[`()`]
- `()` is used to denote a **tuple**, or the *arguments* to a *function*, e.g., function(x)  where x is the input passed to the function, or to indicate the order operations are carried out.

```{python, echo = T, eval = F}
num_tup = (1, 2, 3)
sum(num_tup)
```

]

]


---
#  Python Basics
### <p style="color:#00449E"> Lists and Slicing </p>

- Lists are a really useful way to work with lots of data at once. 
  - We can also construct them by appending entries:

```{python, echo = T, eval = F}
list_example = [10, 1.23, "like this", True, None]
list_example.append("one more entry")
print(list_example)
```

- We can access earlier entries using an *index*, which begins at 0 and ends at one less than the length of the list.

```{python, echo = T, eval = F}
print(list_example[0])
print(list_example[-1])
```



---
#  Python Basics
### <p style="color:#00449E"> Lists and Slicing </p>

- Slicing can be even more elaborate than that because we can jump entries using a second colon. 

```{python, echo = T, eval = F}
# range() produces a list of integers from the value to one less than the last
list_of_numbers = list(range(1, 11))
start = 1
stop = -1
step = 2
print(list_of_numbers[ start : stop : step ])
```



---
#  Python Basics
### <p style="color:#00449E"> Operators </p>

- All of the basic operators you see in mathematics are available to use: `+` for addition, `-` for subtraction, `*` for multiplication, `**` for powers, `/` for division, `//` for integer division, and `%` for modulo.

  - These work as you’d expect on numbers. 
  - These operators are sometimes defined for other built-in data types too. 
    - We can ‘sum’ strings (which really concatenates them):

```{python, echo = T, eval = F}
string_one = "This is an example "
string_two = "of string concatenation"
string_full = string_one + string_two
print(string_full)
```


---
#  Python Basics
### <p style="color:#00449E"> Operators </p>

.panel-left[
- It works for lists too:

```{python, echo = T, eval = F}
list_one = ["apples", "oranges"]
list_two = ["pears", "satsumas"]
list_full = list_one + list_two
print(list_full)
```

]

.panel-right[
- We can multiply strings!

```{python, echo = T, eval = F}
string = "apples, "
print(string * 3)
```

]


---
#  Python Basics
### <p style="color:#00449E"> Operators </p>

- We can combine the arithmetic operators with assignment by putting the operator before the `=`.


.panel-left[
- `x += 1` is equivalent to `x = x + 1`.

```{python, echo = T, eval = F}
x = 3
x += 1
```

]

.panel-right[
- `a -= 2` is equivalent to `a = a - 2`.

```{python, echo = T, eval = F}
a = 2
a -= 2
```

]


Q. Using Python operations only, what is

$\frac{2^5}{7 \cdot (4 - 2^3)} $ ?





---
#  Python Basics
### <p style="color:#00449E"> Strings </p>

- From strings, we can access the individual characters via slicing and indexing. 


```{python, echo = T, eval = F}
string = "cheesecake"
print( string[-4:] )
```


- Both lists and strings will allow us to use the `len()` command to get their length:

```{python, echo = T, eval = F}
string = "cheesecake"
print( "String has length:" )
print( len(string) )

list_of_numbers = range(1, 20)
print( "List of numbers has length:" )
print( len(list_of_numbers) )
```




---
#  Python Basics
### <p style="color:#00449E"> f-string </p>

- `f-string` can combine a number and a string (these begin with an `f` for formatting):
```{python, echo = T, eval = F}
value = 20
sqrt_val = 20 ** 0.5
print(f"The square root of {value:d} is {sqrt_val:.2f}")
```

- The formatting command `:d` is an instruction to treat value like an *integer*, while `:.2f` is an instruction to print it like a *float* with 2 decimal places.




---
#  Python Basics
### <p style="color:#00449E"> Booleans and Conditions </p>

- Boolean data have either `True` or `False` value.

- There are two types of operation that are associated with booleans: boolean operations.

  - Existing booleans are combined, and condition operations, which create a boolean when executed.



```{r, out.width='100%', fig.align='center'}
text_tbl <- data.frame(
  Operator = c("x and y", "x or y", "not x"),
  Description = c("Are x and y both True?",
"Is at least one of x and y True?",
"Is x False?")
  )


kable(text_tbl, format = "html") %>%
  kable_paper(full_width = T) %>%
  column_spec(1, bold = T, border_right = T) %>%
  kable_styling(html_font = 'sans-serif, helvetica, arial',
                bootstrap_options = c("hover", "condensed") )

```


---
#  Python Basics
### <p style="color:#00449E"> Importing Modules, Packages, and Libraries </p>


- Python is a general-purpose programming language and is not specialized for numerical or statistical computation.

- The core libraries that enable Python to store and analyze data efficiently are located in Python libraries.

  - NumPy (`numpy`) - provide the basic array block used throughout numerical Python.
  - pandas (`pandas`) - provides DataFrames which are used to store data in an easy-to-use format.
  - matplotlib (`matplotlib`) - graphics. The most important submodule would be `matplotlib.pyplot`.
  - seaborn (`seaborn`) - a general improvement in the default appearance of `matplotlib`-produced plots.


---
# Importing Modules, Packages, and Libraries

- A *module* is basically a bunch of related codes saved in a file with the extension `.py`.

- A *package* is basically a directory of a collection of modules. 

- A *library* is a collection of packages


- We refer to code of other modules/pacakges/libraries by using the Python `import` statement. 
  - This makes the code and variables in the imported module available to our programming codes.
  - We can use the `as` *keyword* when importing the modules using their canonical names.


---
class: inverse, center, middle

# Getting started with `Pandas`

---
#  `Pandas`

```{r, echo=FALSE, out.width = '48%', fig.align='center'}
knitr::include_graphics("../lec_figs/pandas-logo.png")
```

- `pandas` is a Python library including the following features:
  - Data manipulation and analysis;
  - Export and import data from files and web;
  - Handling of missing data.

- `pandas` provides high-performance data structures and data analysis tools.

```{python, echo = T, eval = F}
import pandas as pd
```



---
#  `Pandas`

- To give Python these enhanced features, Pandas introduces two new data types to Python: `Series` and `DataFrame`. 

  - The `DataFrame` will represent your entire spreadsheet or rectangular data.
  - The `Series` is like a single column of the `DataFrame`. 


---
#  `Pandas`
### <p style="color:#00449E"> Learning Objectives </p>
- Use Pandas functions to load a simple delimited data file

- Calculate how many rows and columns were loaded

- Identify the type of data that were loaded

- Name differences between functions, methods, and attributes

- Use methods and attributes to subset rows and columns

- Calculate basic grouped and aggregated statistics from data

- Use methods and attributes to create a simple figure from data




---
#  `Pandas`
### <p style="color:#00449E">  Load Your First Data Set </p>


- When given a data set, we first load it and begin looking at its structure and contents. 

- The simplest way of looking at a data set is to look at and subset specific rows and columns. 

- We can see what type of information is stored in each column, and can start looking for patterns by aggregating descriptive statistics.

- Since Pandas is not part of the Python standard library, we have to first tell Python to load (i.e., `import`) the library. 


```{python, echo = T, eval = F}
import pandas as pd
```




---
#  `Pandas`
### <p style="color:#00449E">  Load Your First Data Set </p>

- With the library loaded we can use the `read_csv()` function to load a CSV data file.

- In order to access the `read_csv()` function from pandas, we use something called "dot" notation.

  - We write `pd.read_csv()` to say: within the pandas library we just loaded, look inside for the `read_csv()` function.

```{python, echo = T, eval = F}
# *.tsv is a file of tab-separated values.
# we can use the sep parameter and indicate a tab with \t
df  = pd.read_csv('https://bcdanl.github.io/data/gapminder.tsv', sep='\t')
print(df)    # print out the data
```



---
#  `Pandas` - Load Your First Data Set

.panelset[

.panel[.panel-name[type()]

- We can check to see if we are working with a Pandas `Dataframe` by using the built-in `type()` function (i.e., it comes directly from Python, not a separate library such as Pandas).

```{python, echo = T, eval = F}
type(df)
```

- The `type()` function is handy when we begin working with many different types of Python objects and need to know what object we are currently working on.

]

.panel[.panel-name[.shape]

- Every DataFrame object has a `.shape` attribute that will give us the number of rows and columns of the `DataFrame`.


```{python, echo = T, eval = F}
df.shape
#  It’s written as df.shape and not df.shape()
```

-  Since `.shape` is an **attribute** of the `DataFrame` object, and not a **function** or **method** of the `DataFrame` object, it does not have round parentheses after the period.

]

.panel[.panel-name[.columns]

- To get a gist of what information the data set contains, we look at the column names. 

- The column names are given using the `.column` attribute of the `DataFrame` object.


```{python, echo = T, eval = F}
df.columns
```

- Q. What is the `type` of the column names?

]


.panel[.panel-name[.dtypes]

-  Each column (i.e., `Series`) has to be the same type, whereas each row can contain mixed types.

- We can use the `.dtypes` attribute or the `.info()` method to see the type of each column in `DataFrame`.

```{python, echo = T, eval = F}
df.dtypes
df.info()
```


]

]




---
# Look at Columns, Rows, and Cells


.panelset[

.panel[.panel-name[head()]

- We can use the `.head()` method of a `DataFrame` to look at the first 5 rows of our data.
  - This is useful to see if our data loaded properly, and to get a better sense of the columns and contents.

```{python, echo = T, eval = F}
df.head()
```

]


.panel[.panel-name[`[ ]`]

- If we want only a specific column from our data, we can access the data using square brackets, `[ ]`.

```{python, echo = T, eval = F}
# just get the country column and save it to its own variable
country_df = df['country']
# show the first 5 observations
print(country_df.head())
```

]


]
