---
title: "DANL 310 Lecture 1"
subtitle: "DANL 310: Data Visualization and Presentation"
author: "Byeong-Hak Choe"
institute: "SUNY Geneseo"
date: "January 24, 2023"
output:
  xaringan::moon_reader:
    css: 
      - default
      - css/nhsr.css
      - css/nhsr-fonts.css
    lib_dir: libs
    seal: false
    nature:
      highlightStyle: googlecode
      highlightLines: true
      highlightLanguage: ["r"]
      countIncrementalSlides: false
      ratio: "16:9"
    includes:
      after_body: [css/insert-logo.html]
---

```{r setup, include = FALSE}
library(knitr)
library(kableExtra)
library(tidyverse)
library(NHSRtheme)
library(fontawesome)
# set default options
opts_chunk$set(echo = FALSE,
               fig.width = 7.252,
               fig.height = 4,
               comment = "#",
               dpi = 300)

knitr::knit_engines$set("markdown")

xaringanExtra::use_tile_view()
xaringanExtra::use_panelset()
xaringanExtra::use_clipboard()
xaringanExtra::use_webcam()
xaringanExtra::use_broadcast()
xaringanExtra::use_share_again()
xaringanExtra::style_share_again(
  share_buttons = c("twitter", "linkedin", "pocket")
)


xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,         #<<
  mute_unhighlighted_code = TRUE  #<<
)

# uncomment the following lines if you want to use the NHS-R theme colours by default
# scale_fill_continuous <- partial(scale_fill_nhs, discrete = FALSE)
# scale_fill_discrete <- partial(scale_fill_nhs, discrete = TRUE)
# scale_colour_continuous <- partial(scale_colour_nhs, discrete = FALSE)
# scale_colour_discrete <- partial(scale_colour_nhs, discrete = TRUE)
```

class: title-slide, left, bottom

# `r rmarkdown::metadata$title`
----
## **`r rmarkdown::metadata$subtitle`**
### `r rmarkdown::metadata$author`
### `r rmarkdown::metadata$date`


---
class: inverse, center, middle

# Instructor
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>
---

# Instructor
### <p style="color:#00449E"> Current Appointment & Education </p>

- Name: Byeong-Hak Choe.
- Lecturer in Data Analytics at School of Business at SUNY Geneseo.


- Ph.D. in Economics from University of Wyoming.
- M.S. in Economics from Arizona State University.
- M.A. in Economics from SUNY Stony Brook.
- B.A. in Economics & B.S. in Applied Mathematics from Hanyang University at Ansan, South Korea
  - Minor in Business Administration.
  - Concentration in Finance.
  
---

# Instructor
### <p style="color:#00449E"> Data Science and Climate Change </p>

- Choe, B.H., 2021. "Social Media Campaigns, Lobbying and Legislation: Evidence from #climatechange/#globalwarming and Energy Lobbies."

- Question: To what extent do social media campaigns compete with fossil fuel lobbying on climate change legislation?

- Data include:
  - 5.0 million tweets with #climatechange/#globalwarming around the globe;
  - 12.0 million retweets/likes to those tweets;
  - 0.8 million Twitter users who wrote those tweets;
  - 1.4 million Twitter users who retweeted or liked those tweets;
  - 0.3 million US Twitter users with their location at a city level;
  - Firm-level lobbying data (expenses, targeted bills, etc.). 


---
class: inverse, center, middle

# Syllabus
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>
---

# Syllabus

### <p style="color:#00449E">Email, Class & Office Hours</p>

- Email: [bchoe@geneseo.edu](bchoe@geneseo.edu)


- Class Homepage: 
  - [https://canvas.geneseo.edu/](https://canvas.geneseo.edu/)
  - [https://bcdanl.github.io](https://bcdanl.github.io)
  
  
- Office: South Hall 117B.
- Office Hours: 
  - Mondays 3:30 PM-5:30 PM.
  - Wednesdays 1:30 PM-3:30 PM.

---
# Syllabus
### <p style="color:#00449E">Course Prerequisites</p>

- Data Analytics 200: Introduction to Data Analytics
  
- Data Analytics 210: Data Preparation and Management

---
# Syllabus
### <p style="color:#00449E">Textbooks</p>
  
- **Data Visualization: A Practical Introduction** by Kieran Healy
  - A free online version of this book is available at [https://socviz.co/](https://socviz.co/).


- **R Markdown: The Definitive Guide** by Yihui Xie, J. J. Allaire, and Garrett Grolemund
  - A free online version of this book is available at [https://bookdown.org/yihui/rmarkdown/](https://bookdown.org/yihui/rmarkdown/)


---
# Syllabus
### <p style="color:#00449E">Course Description</p>

- This course covers tools and methodologies that visually represent data using well-presented and visually appealing graphics in order to understand data better and perform useful data analytics tasks. 


---
# Syllabus

### <p style="color:#00449E">Course Description</p>
- Topics covered in this course include 
  1. Visualizing many forms of graphs such as line graphs, scatter plots, bar charts, and more
  2. Tidying data from various sources for data visualization
  3. Customizing graphics using various formats and styles including colors, fonts, lines, and more
  4. Visualizing geographical data with maps
  5. Showing an overview and telling a story using dashboard. 


- During the course, you will work hands-on with R, R Markdown, Git, and GitHub.

---
# Syllabus
### <p style="color:#00449E">Course Requirements</p>

- Laptop: You should bring your own laptop (**Mac** or **Windows**) to the classroom. 
  - It is recommended to have 2+ core CPU, 4+ GB RAM, and 500+ GB disk storage in your laptop for this course.
  
  
- Homework: There will be six homework assignments.


- Exam: There will a midterm exam.


- Team Project: There will be a team project



---
# Syllabus
### <p style="color:#00449E">Course Requirements - Team Project</p>
- Each team consists of one or two student(s). 


- Each team must select data for the team project. 


- The data for the team project must be approved by Byeong-Hak Choe. 


- The write-up for the team project must include 
  - (1) exploratory data analysis through summary statistics, several visualizations, and a dashboard 
  - (2) machine learning analysis (e.g., linear regression, clustering). 


- The document for the team project must be published in each member's website. 




---
# Syllabus
### <p style="color:#00449E">Course Requirements - Team Project</p>

- Team projects will be evaluated based on 

  - (1) the quality of exploratory data analysis using ggplot and dashboards; 
  
  - (2) the quality of applying machine learning methods;
  
  - (3) the quality of the midterm and final presentations; 
  
  - (4) peer evaluation on other students' presentations and web-pages. 
  

- Changing a team member or a project topic must be approved by Byeong-Hak Choe.


---
# Syllabus
### <p style="color:#00449E">Course Schedule</p>

- There will be tentatively twenty-eight class sessions:

  - (1) twenty-four class sessions for the twenty-four lectures (one class session for one lecture);
  
  - (2) one class session for the midterm exam;
  
  - (3) one class session for the midterm presentation for the team project;
  
  - (4) two class sessions for the final presentation for the team project. 



- There will be no class on February 28, 2023. 


- The midterm exam will be tentatively scheduled on March 9, 2023. 


- The final exam will be tentatively scheduled on May 16, 2023, from noon to 2 P.M. 


---
# Syllabus
### <p style="color:#00449E">Course Contents</p>

```{r, out.width='100%', fig.align='center'}
text_tbl <- data.frame(
  Week = c("1", "1--4", "1--4", "5", "6"),
  Contents = c("Syllabus, Ch 1. Look at Data",
"Ch 2. Get Started with R Markdown",
"Git and GitHub websites with R Markdown, HTML and CSS",
"Ch 3. Make a Plot",
"Ch 4. Show the Right Numbers"),
  HW = c("1", "1", "1", "1", "1")
  )


kable(text_tbl, format = "html") %>%
  kable_paper(full_width = T) %>%
  column_spec(1, bold = T, border_right = T) %>%
  kable_styling(html_font = 'sans-serif, helvetica, arial',
                bootstrap_options = c("hover", "condensed") )

```



---
# Syllabus
### <p style="color:#00449E">Course Contents</p>

- Data Transformation

```{r, out.width='100%', fig.align='center'}
text_tbl <- data.frame(
  Lecture = c("7--8", "9--10", "11--12", "13", "14"),
  Contents = c(
"Ch 5. Graph Tables, Add Labels, Make Notes",
"Ch 6. Work with Models ",
"Ch 8. Refine Your Plots", 
"Midterm Exam",
"Midterm Presentations for Team Projects"),
  HW = c("2", "2", "2", "", "")
  )


kable(text_tbl, format = "html") %>%
  kable_paper(full_width = T) %>%
  column_spec(1, bold = T, border_right = T) %>%
  kable_styling(html_font = 'sans-serif, helvetica, arial',
                bootstrap_options = c("hover", "condensed") ) 

```

---
# Syllabus
### <p style="color:#00449E">Course Contents</p>

```{r, out.width='100%', fig.align='center'}
text_tbl <- data.frame(
  Lecture = c("15--17", "18--20", "21--22", "23--26", "27--28"),
  Contents = c("Interactive and Animation Plots",
               "Maps with Geographic Data",
               "R Markdown HTML Documents (Tables, R with Python, R\'esume, Etc.)",
               "Dashboards",
               "Final Presentations for Team Projects"),
  HW = c("3", "4", "5", "6", "")
  )


kbl(text_tbl) %>%
  kable_paper(full_width = T) %>%
  column_spec(1, bold = T, border_right = T) %>%
  kable_styling(html_font = 'sans-serif, helvetica, arial', bootstrap_options = c("hover", "condensed"))

```


---
# Syllabus
### <p style="color:#00449E">Attendance</p>
- You are allowed up to 7 absences without penalty. 

- There will be no additional absences available for standard excused reasons (illness, family emergency, transportation problems, etc.).


---
# Syllabus
### <p style="color:#00449E">Grading</p>
- Attendance accounts for 5% of the total percentage grade.

- Homework assignments account for 35% of the total percentage grade.

- An exam and a team project account for 60% of the total percentage grade.

$$ 
\begin{align}
&\;(\text{Total Percentage Grade})  \notag\\
=&\quad 0.05\times(\text{Attendance Score})  \notag\\
&\,+\, 0.35\times(\text{Total Homework Score}) \,+\, 0.60\times(\text{Total Exam Score}).\notag
\end{align}
$$

---
# Syllabus

### <p style="color:#00449E">Grading</p>

- The lowest homework score will be dropped when calculating the total homework score.

- Each of the four homework accounts for 20% of the total homework score.

---

# Syllabus

### <p style="color:#00449E">Grading</p>

- The total exam score is the maximum between the following two average scores:
  1. the simple average of two exam scores;
  2. the weighted average of them with one-fourth weight on the midterm exam score and three-fourth weight on the final exam score.
  
$$
\begin{align}
&(\text{Total Exam Score}) \notag\\
=\; &\max\,\left\{0.5\times(\text{Midterm Exam Score}) \,+\, 0.5\times(\text{Team Project Score})\right.,\notag\\ 
&\qquad\;\,\left.0.25\times(\text{Midterm Exam Score}) \,+\, 0.75\times(\text{Team Project Score})\right\}.\notag
\end{align}
$$

---

# Syllabus

### <p style="color:#00449E">Grading</p>

- Letter grades will be determined by the total percentage grade:
  
$$
\begin{align*}
\! 100\; \geq\; A\;\;\, \geq \;93>\; A- \geq 90;\\
90 >\; B+ \geq 87\; >\; B\;\;\, \geq \;83 >\; B- \geq 80;\\
80 >\; C+ \geq 77\; >\; C\;\;\, \geq \;73 >\; C- \geq 70;\\
70\; >\; D\;\;\, \geq\; 60 >\; E.\qquad\quad\;
\end{align*}
$$


---

# Syllabus

### <p style="color:#00449E">Make-up exams</p>

-  Make-up exams will not be given unless you have either a medically verified excuse or an absence excused by the University.

- If you cannot take exams because of religious obligations, notify me by email at least two weeks in advance so that an alternative exam time may be set.

- A missed exam without an excused absence earns a grade of zero.
  

---

# Syllabus

### <p style="color:#00449E">Academic Integrity and Plagiarism</p>

-  All homework assignments and exams must be the original work by you. 

- Examples of academic dishonesty include:
  - *representing the work, thoughts, and ideas of another person as your own*
  - *allowing others to represent your work, thoughts, or ideas as theirs*, and
  - *being complicit in academic dishonesty by suspecting or knowing of it and not taking action*.


- Geneseo’s Library offers frequent workshops to help you understand how to **paraphrase**, **quote**, and **cite** outside sources properly. 
  - See [https://www.geneseo.edu/library/library-workshops](https://www.geneseo.edu/library/\\library-workshops).
  

---

# Syllabus

### <p style="color:#00449E">Accessibility</p>

-  The Office of Accessibility will coordinate reasonable accommodations for persons with physical, emotional, or cognitive disabilities to ensure equal access to academic programs, activities, and services at Geneseo.

- Please contact me and the Office of Accessibility Services for questions related to access and accommodations.
  


---

# Syllabus

### <p style="color:#00449E">Well-being</p>

- You are strongly encouraged to communicate your needs to faculty and staff and seek support if you are experiencing unmanageable stress or are having difficulties with daily functioning.

- Liz Felski, the School of Business Student Advocate ([felski@geneseo.edu](felski@geneseo.edu), South Hall 303), or the Dean of Students (585-245-5706) can assist and provide direction to appropriate campus resources.

- For more information, see [https://www.geneseo.edu/dean_students](https://www.geneseo.edu/dean_students).
  

---
# Syllabus

### <p style="color:#00449E">Career Design</p>

- To get information about career development, you can visit the Career Development Events Calendar ([https://www.geneseo.edu/career_development/events/calendar](https://www.geneseo.edu/career_development/events/calendar)).

- You can stop by South 112 to get assistance in completing your Handshake Profile [https://app.joinhandshake.com/login](https://app.joinhandshake.com/login).
  - Handshake is ranked #1 by students as the best place to find full-time jobs.
  - 50% of the 2018-2020 graduates received a job or internship offer on Handshake.
  - Handshake is trusted by all 500 of the Fortune 500.
  

---
class: inverse, center, middle

# Installing the Tools
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>



---
# Installing the Tools
### <p style="color:#00449E"> R programming </p>

The R language is available as a free download from the R Project website at:

- Windows: [https://cran.r-project.org/bin/windows/base/](https://cran.r-project.org/bin/windows/base/)
- Mac: [https://cran.r-project.org/bin/macosx/](https://cran.r-project.org/bin/macosx/)
  -  Download the file of R that corresponds to your Mac OS (Big Sur, Apple silicon arm64, High Sierra, El Capitan, Mavericks, etc.)

---
# Installing the Tools
### <p style="color:#00449E"> RStudio </p>

- **RStudio** offers a graphical interface to assist in creating R code:

  - The RStudio Desktop is available as a free download from the following webpage:
    - [https://www.rstudio.com/products/rstudio/download/#download](https://www.rstudio.com/products/rstudio/download/#download)



---
# Installing the Tools
### <p style="color:#00449E"> R Packages </p>


```{r, echo = T, eval = F}
update.packages(ask = FALSE, checkBuilt = TRUE)

pkgs <- c("tidyverse", "nycflights13", "gapminder", "skimr")
install.packages(pkgs,
	dependencies = c("Depends", "Imports", "LinkingTo"))

```


- While running the above codes, I recommend you to answer "no" to the following question:

.pull-left[

   **Mac**: *"Do you want to install from sources the packages which need compilation?"* from Console Pane.
]

.pull-right[

   **Windows**: *"Would you like to use a personal library instead?"* from Pop-up message.
]



---
# Installing the Tools
### <p style="color:#00449E"> R Packages </p>

- Check whether `tidyverse` is installed well:

```{r, echo = T, eval = F}
library(tidyverse)   # loading the package tidyverse
mpg  # data.frame provided by the package ggplot2
     # ggplot2 is included in tidyverse
```

- Let me know if you have an error from the above code.


---
# Installing the Tools
### <p style="color:#00449E"> RStudio Options Setting </p>
.pull-left[
```{r, echo=FALSE, out.width = '100%', fig.align='center'}
knitr::include_graphics("../lec_figs/RStudio_options.png")
```
]

.pull-right[
- This option menu is found by menus as follows:
  - *Mac*: RStudio $>$ Preferences 
  - *Windows*: Tools $>$ Global Options
]


---
# Installing the Tools
### <p style="color:#00449E"> GitHub </p>

- Create the GitHub account with your school email.

1. Go to [GitHub](https://github.com).
2. Click "Sign up for GitHub".


---
# Installing the Tools
### <p style="color:#00449E"> Git </p>

- Install `git`

.pull-left[
- Mac
  - Go to [http://git-scm.com/downloads](http://git-scm.com/downloads), and download the file.
  - Run the downloaded file.
]

.pull-right[
- Windows
  - Go to [https://gitforwindows.org](https://gitforwindows.org), and download the file.
  - Run the downloaded file.
]

- In terminal for Mac users or GitBash for Windows users, run the following lines:
```{base, echo = T, eval = F}
git config --list
git config --global user.email "YOUR_GITHUB_EMAIL_ADDRESS"
git config --global user.name "YOUR_GITHUB_USERNAME"
```


---
# Installing the Tools
### <p style="color:#00449E"> Python </p>
  
- To install Python, go to the following download page:
  - [https://www.python.org/downloads/](https://www.python.org/downloads/).
  - Click the "Download" button.

- To install Python libraries, install the `pip` installer first:

  - Follow the steps in the following webpage:
  - [https://packaging.python.org/en/latest/tutorials/installing-packages/](https://packaging.python.org/en/latest/tutorials/installing-packages/)
  
.pull-left[
- Mac
```{bash, echo = T, eval = F}
python3 -m pip --version
python3 -m ensurepip --default-pip
```
]

.pull-right[
- Windows
```{bash, echo = T, eval = F}
py -m pip --version
py -m ensurepip --default-pip
```
]

---
# Installing the Tools
### <p style="color:#00449E"> Python </p>

- To install Python libraries, use the following commands:

.pull-left[
- Mac
```{bash, echo = T, eval = F}
python3 -m pip install "SomeLibrary"
```
]

.pull-right[
- Windows
```{bash, echo = T, eval = F}
py -m pip install "SomeLibrary"
```
]

- Make sure you have `numpy`, `pandas`, `matplotlib`, `seaborn`, and `scikit-learn` installed.


---
# Installing the Tools
### <p style="color:#00449E"> Creating a Personal Website </p>

Step 1.1 Obtain a personal access token (PAT) for GitHub. 

  - In RStudio Console, run the followings:
```{r, echo = T, eval = F}
install.packages("usethis")
usethis::create_github_token()
```
  - Then, click “Generate token” in the pop-upped web browser. 
  - Then, copy the generated PAT to your clipboard.



---
# Installing the Tools
### <p style="color:#00449E"> Creating a Personal Website </p>


Step 1.2. Set the GitHub credential using the PAT. 

  - In RStudio Console, run the followings:
```{r, echo = T, eval = F}
install.packages("gitcreds")
gitcreds::gitcreds_set()
```
  - Then, paste your PAT to the RStudio Console
  
  

---
# Installing the Tools
### <p style="color:#00449E"> Creating a Personal Website </p>

Step 2.1. Login to your GitHib and make the repository.

  - From [https://github.com](https://github.com), click the plus (+) icon in the upper right corner and select "New repository".

  - Name this repo `YOUR_GITHUB_NAME.github.io`, which will be the domain for your website.

  - Then, copy the web address of your GitHub repo.



---
# Installing the Tools
### <p style="color:#00449E"> Creating a Personal Website </p>


Step 2.2. 
  - Find the path name of the folder where you want to keep the files for your website on your laptop.
  
  - Make a folder with the name `tmp` in the parent folder.
  
  - In terminal or GitBash, run the following line:
```{bash, echo = T, eval = F}
cd "PATH_NAME_OF_THE_PARENT_FOLDER_FOR_THE_WEBSITE_FOLDER"
```


---
# Installing the Tools
### <p style="color:#00449E"> Creating a Personal Website </p>

Step 3.1. Follow the steps in the following webpage:
  - [https://pages.github.com](https://pages.github.com)
  - If you have an error with the line `git push -u origin main`, try `git push -u origin master`.
  - After following all the steps, close terminal or GitBash.
  
Step 3.2. 
  - Change the folder name, `YOUR_GITHUB_USERNAME.github.io` to `tmp2`.
  

  
---
# Installing the Tools
### <p style="color:#00449E"> Creating a Personal Website </p>

Step 4. Create the RStudio project with the name, `YOUR_GITHUB_NAME.github.io`:
  - Open R Studio. Then select "New Project" under the "File" menu.
  - Click "Version Control". Then click "Git".
  - Paste the web address of your GitHub repo in the "Repository URL" dialogue box.
    - `https://github.com/YOUR_GITHUB_NAME/YOUR_GITHUB_NAME.github.io`
  - Select a location of the parent folder for your personal website in your laptop, and copy its path name to "Create project as subdirectory of:"
  - Click "Create Project".

---
# Installing the Tools
### <p style="color:#00449E"> Creating a Personal Website </p>

Step 5. Update our `rmarkdown` package to make sure we actually have the version that supports R Markdown websites.

```{r, echo = T, eval = F}
install.packages("rmarkdown", type = "source")
```

Step 6. From our Canvas, download the website files---(1) `index.Rmd`, (2) `about.Rmd`, (3) `_site.yml`, and (4) `style.css`---and save them inside your repository folder, `YOUR_GITHUB_NAME.github.io`, in your laptop.



---
# Installing the Tools
### <p style="color:#00449E"> Creating a Personal Website </p>

Step 7. Rune the following line in RStudio:
```{r, echo = T, eval = F}
rmarkdown::render_site()
```

  - If everything has gone according to plan, you should get a bunch of output followed by the message : `Output created: index.html`.
  - Open the repository folder with Finder (Mac) or File Explorer (Windows) in your laptop.
  - Open the file, `index.html`.

