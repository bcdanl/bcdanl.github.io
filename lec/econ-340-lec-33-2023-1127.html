<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>ECON 340 Lecture 33</title>
    <meta charset="utf-8" />
    <meta name="author" content="Byeong-Hak Choe" />
    <meta name="date" content="2023-11-27" />
    <script src="libs/header-attrs-2.25/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <link href="libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="libs/panelset-0.2.6/panelset.js"></script>
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <script src="libs/xaringanExtra-webcam-0.0.1/webcam.js"></script>
    <script id="xaringanExtra-webcam-options" type="application/json">{"width":"200","height":"200","margin":"1em"}</script>
    <script src="libs/js-cookie-3.0.0/js.cookie.js"></script>
    <script src="libs/peerjs-1.3.1/peerjs.min.js"></script>
    <script src="libs/tiny.toast-1.0.0/toast.min.js"></script>
    <link href="libs/xaringanExtra-broadcast-0.2.6/broadcast.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-broadcast-0.2.6/broadcast.js"></script>
    <link href="libs/shareon-1.4.1/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon-1.4.1/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain-0.2.6/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain-0.2.6/shareagain.js"></script>
    <link href="libs/xaringanExtra-extra-styles-0.2.6/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/nhsr.css" type="text/css" />
    <link rel="stylesheet" href="css/nhsr-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: title-slide, left, bottom

# ECON 340 Lecture 33
----
## **ECON 340: Environmental Economics**
### Byeong-Hak Choe
### November 27, 2023


---
# Announcement
### &lt;p style="color:#00449E"&gt; Class Schedule &lt;/p&gt;

- 11/27: Class 1 - Incentive-Based Regulation: Theory
- 11/29: Class 2 - Incentive-Based Regulation: Theory
- 12/1: Class 3 - The Case of Climate Change
- 12/4: Class 4 - The Case of Climate Change
- 12/6: Presentations for Term Papers
- 12/8: Presentations for Term Papers
- 12/11: Homework Assignment 5 Due / Class 5 - Summary
- 12/14: Final Exam (3:30 P.M.-5:30 P.M.)
- 12/17: Term Paper (by 11:59 P.M.)


---
class: inverse, center, middle

# Command-and-Control Regulation
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;


---
# Command-and-Control Regulation
### &lt;p style="color:#00449E"&gt; &lt;/p&gt;


- Most regulatory approaches are command-and-control (CAC), which involves two parts
  - Uniform emission standards (command)
  - Control over the technology, technology-based regulation (control)


--


- Both parts of CAC discourage cost-effective outcomes in the short run and innovation in new technology in the long run.


--


- Types of CAC regulations:
  - Clean Air Act
  - Resource Conservation and Recovery Act (RCRA), which regulates land disposal of hazardous waste.



---
# Hazardous Waste Disposal on Land
### &lt;p style="color:#00449E"&gt; Love Canal &lt;/p&gt;


- Love Canal, formerly a suburb of Niagara Falls, New York, is the best-known example of a hazardous waste dump.

&lt;img src="lec_figs/love-canal.png" width="57.5%" style="display: block; margin: auto;" /&gt;



---
# Hazardous Waste Disposal on Land
### &lt;p style="color:#00449E"&gt; Love Canal &lt;/p&gt;

- From 1942 to 1953, the Hooker Chemical and Plastics company (now Occidental Chemical) buried millions of pounds of chemical wastes in the abandoned canal. 


- Hooker then sold the site to the city for $1 as a possible location for an elementary school.


- A suburban housing development grew up around the area. 
  - Liquid waste began to pool on the surface and seep into people’s basements


---
# Hazardous Waste Disposal on Land
### &lt;p style="color:#00449E"&gt; Love Canal &lt;/p&gt;

- In 1978, the state of New York ordered the area immediately around the dump evacuated.


- In spite of the contamination, and many reported cases of illness, it has been hard to show definitive impacts of Love Canal exposure to residents. 


--


- Several studies did find:
  - Roughly double the expected rate of low-birthweight babies in an area adjacent to the dump during the period of active dumping
  - A statistically significant increase in babies born with birth defects after the chemicals were dumped
  - Children who had lived in the canal area were shorter and weighed less.



---
# Waste Disposal Under RCRA
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- The goal of RCRA is to prevent future Love Canals.


--


- The EPA designates which substances are hazardous
  - The EPA develops a RCRA list of several hundred hazardous wastes
  

- The EPA requires cradle-to-grave tracking of such wastes



- Facilities that treat, store, or dispose of hazardous waste are to be regulated under a safety standard

--

- Between 1986 and 1995 regulations reduced the flow of hazardous waste into landfills by 50%; and another 23% by 2005.

---
class: inverse, center, middle

# Incentive-Based Regulation
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;



---
# Introduction
### &lt;p style="color:#00449E"&gt; Incentive-Based Regulation &lt;/p&gt;


&lt;!-- - In the early 1970s, the U.S. government opted for CAC approach to environmental regulation --&gt;


&lt;!-- - The mid-1990s saw the first wide-scale test of IB type of regulation in air pollution control --&gt;


- Basic Ideas:  
  - Make polluting an expensive activity
  - Lower the costs of pollution control by leaving decisions about how to reduce pollution up to firms and individuals


--


- Types of incentive-based (IB) regulations:
  - Pollution taxes (Pigovian taxes, emission or effluent fees)
  - Cap-and-Trade system (marketable or tradable permit system)




---
# Advantages of IB over CAC
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- Promotes more cost-effective regulation in the short run 
  - Cost-effective = achieving a particular goal at the lowest possible cost.


- Provides better incentives for firms to seek out new technologies to lower pollution control costs in the long run


--


- Potential problems: 
  - Monitoring and enforcement
  - Hot spots
  - Others to be discussed


---
# The Cost-Effectiveness Rule
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

&gt; “Cost-effectiveness is achieved if and only if the marginal cost of reduction is equal for each pollution source” 


- Why? 

--

- Whenever the marginal cost of pollution reduction at one source is greater than that at another, overall costs can be reduced without changing the pollution level by decreasing pollution at the low-cost site and increasing it at the high-cost site



---
# IB Solutions in Grimeville

- Consider a town called Grimeville, which hosts an oil refinery, A, and a coal plant, B. 

- The Grimeville City Council wants to control total emissions of harmful gunk at 20 tons per day and is considering &lt;u&gt;a uniform standard of 10 tons per day for each plant&lt;/u&gt;. 

- Let `\(x_{A}\)` and `\(x_{B}\)` denote the respective levels of pollution. The marginal cost of reducing pollution for each plant is:

$$
`\begin{align}
MC_{A} &amp;= 21 - x_{A}\\
MC_{B} &amp;= 22 - 2x_{B}
\end{align}`
$$

--


- **Q**. If the Grimeville City Council imposes a uniform, 10-ton-per-plant standard, will it be achieving its pollution target cost-effectively?


---
# IB Solutions in Grimeville
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- The more pollution emissions, the cheaper the marginal cost of pollution reduction.

&lt;img src="lec_figs/gp-tab15-1.png" width="50%" style="display: block; margin: auto;" /&gt;


---
# IB Solutions in Grimeville
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- **Q**. If the Grimeville City Council imposes a uniform, 10-ton-per-plant standard, will it be achieving its pollution target cost-effectively?


- Suppose that each plant emits 10 tons of pollution.


--

  
- If Plant A increases its emission by 1 ton, and plant B reduces its emission by 1 ton:
  - Plant A costs $10 less.
  - Plant B costs $2 more.
  
--


  - In total, while reducing 20 tons of emissions, $8 is saved!



---
# Cost-effective Reduction for a 20 ton Cap
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- The direction of the horizontal axis now shows increasing pollution rather than pollution reduction.
  - It makes the MC curve of pollution reduction downward sloping.

&lt;img src="lec_figs/gp-tab15-2.png" width="75%" style="display: block; margin: auto;" /&gt;


---
# IB Systems are Cost-Effective
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- **Q**. What is the exact cost-effective allocation of pollution across the two plants that achieves a cleanup back to 20 tons?

--


- We have three equations and two unknowns:
  - `\(MC_{A} = 21 - x_{A}\)`
  - `\(MC_{B} = 22 - x_{B}\)`
  - `\(x_{A} + x_{B} = 20\)`


--

- The Cost-Effectiveness Rule is:
&gt; “Cost-effectiveness is achieved if and only if the marginal cost of reduction is equal for each pollution source” 




---
# IB Systems are Cost-Effective
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;


&lt;img src="lec_figs/gp-fig15-1.png" width="75%" style="display: block; margin: auto;" /&gt;



---
# IB Systems are Cost-Effective
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- The Cost-effectiveness rule is equivalent to solving the following cost minimization problem by allocating pollution emissions:

$$
`\begin{align}
\min_{x_{A}, x_{B}}\; TC &amp;= \underbrace{\left(21x_{A} - \frac{1}{2}x_{A}^{2}\right)}_{\text{total cost of pollution reduction at plant A}} + \underbrace{\left(22x_{B} - x_{B}^{2}\right)}_{\text{total cost of pollution reduction at plant B}}\\
\text{subject to}\quad 20 &amp;= x_{A} + x_{B}
\end{align}`
$$

- The associated Lagrangian is

$$
`\begin{align}
\mathcal{L} = {\left(21x_{A} - \frac{1}{2}x_{A}^{2}\right)} + {\left(22x_{B} - x_{B}^{2}\right)} + \lambda\,(20 - x_{A} - x_{B})
\end{align}`
$$
- Minimization and maximization is the same type of optimization problem.



---
# IB Regulation and Cost-Effectiveness
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- In general, CAC systems that require uniform standards do not achieve cost-effectiveness. 

- Because both high- and low-cost plants must meet the same standard, in our example 10 tons per day, opportunities for reducing overall costs are ignored.


--

- Why are uniform standards set in the first place?

- Couldn’t the Grimeville City Council achieve a cost-effective solution by going through the earlier exercise and choosing (13, 7) in the first place?


&lt;!-- - In the real world, the council might well founder on a lack of information—what economists refer to as imperfect information. --&gt;


---
# IB Regulation and Cost-Effectiveness
### &lt;p style="color:#00449E"&gt; Imperfect Information &lt;/p&gt;

- Both tax systems and marketable permit systems will achieve cost-effective pollution control automatically, at least in principle.


  - Under command-and-control, government regulators could only achieve cost effectiveness by  knowing  the control costs at many different sources, and setting firm-specific regulatory targets. 
  
  
  - This info is usually not available, and it is not needed under IB regulation to achieve cost-effectiveness. 



---
# Pollution taxes and cap-and-trade with auction are equivalent: 
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- If permits are auctioned by the government, then Cap &amp; Trade= Pollution Taxes

  - Selling 20 permits at $7 is the same as taxing 20 units of emissions at $7


---
# Cap-and-trade: Give-aways versus auctions
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- If permits are given away to firms free of charge (permit-give-away), then Cap &amp; Trade costs much less for firms than if the permits are auctioned (just like Pollution Taxes)—

  - Under Pollution Taxes or Cap &amp; Trade auction firms pay tax revenues plus clean-up costs
  
  - Under Cap &amp; Trade with a give-away, firms pay only clean-up costs plus the costs of any additional permits. 
  
  - And… with permit give-aways some firms MAKE MONEY!!! 


---
# How do firms profit from permit give-aways?
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

1. By selling excess permits

2. From higher product prices.  Prices rise the same amount regardless of whether permits are given away or auctioned– 
  - Firms without permits wind up paying the same price in either case, so market prices have to rise to cover that cost. 
  - Firms with low clean-up costs profit from higher energy prices!


---
# Windfall Profits from Rising Prices
### &lt;p style="color:#00449E"&gt; Permit Prices Are Passed on to Consumers in Competitive Markets &lt;/p&gt;


&lt;img src="lec_figs/gp-fig15-4.png" width="70%" style="display: block; margin: auto;" /&gt;


---
# Using tax or auction revenues: Ideas
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

.panelset[
.panel[.panel-name[*1*. Double Dividend]

-  Substituting Pollution Taxes or Cap &amp; Trade auction revenues for a tax on labor (or capital) would discourage pollution and encourage work (or investment)! 

]
.panel[.panel-name[*2*. Cap &amp; Dividend]

- Rebate the revenues directly back on an equal basis to all citizens
  - Similar to the Alaska Permanent Fund
  - No “double-dividend” since you aren’t cutting taxes on labor.


- In general, rebating auction or tax revenue leads to net benefits for the majority of people (a “progressive” policy)


]


]


---
# Conclusion on giveaways versus auctions
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- Firms hate pollution taxes and/or Auctioned Cap &amp; Trade. They much prefer permit-give-aways under Cap &amp; Trade.  (CAC is much less expensive to firms as well.)

- Both for “double-dividend” reasons, and to insure that incentive-based approaches are not regressive, economists increasingly favor Cap &amp; Trade auctions (or Pollution taxes) over permit-giveaways. 




---
# Relation between pollution taxes and cap-and-trade:
### &lt;p style="color:#00449E"&gt; Price vs. Quantity &lt;/p&gt;

- With Cap &amp; Trade, directly control the quantity of pollution emitted. 
  - Cap &amp; Trade is a “quantity instrument”


- With Pollution Taxes, regulators only indirectly control the quantity of pollution, by guessing at industry response to a tax of a certain level. 
  - Pollution Taxes is a “price instrument”




---
# Price vs. Quantity
### &lt;p style="color:#00449E"&gt; Imperfect Regulation in an Uncertain World &lt;/p&gt;

- The theory in IB systems is based upon the assumption of perfect information

  - Regulators were assumed to know everything about both the benefits and costs of pollution control
  
  - In the real world practice of regulation this assumption is far from the truth




---
# Price vs. Quantity
### &lt;p style="color:#00449E"&gt; IB Regulation, Two Special Cases &lt;/p&gt;


&lt;img src="lec_figs/gp-fig15a-1.png" width="75%" style="display: block; margin: auto;" /&gt;


---
# Price vs. Quantity
### &lt;p style="color:#00449E"&gt; Regulation with Imperfect Information &lt;/p&gt;

- When the marginal benefit benefit curve is steep, regulators will want to keep tight control over the actual quantity of pollutant released to ensure the threshold is not far exceeded

- Under these circumstances, a marketable permit system is preferred to a pollution tax because of the costs of being wrong


---
# Price vs. Quantity
### &lt;p style="color:#00449E"&gt; Case 1: Permits Preferred &lt;/p&gt;


&lt;img src="lec_figs/gp-fig15a-2.png" width="70%" style="display: block; margin: auto;" /&gt;


---
# Price vs. Quantity
### &lt;p style="color:#00449E"&gt; Minimizing the Costs Of Being Wrong &lt;/p&gt;

- The previous slide illustrates a pollutant with a safety threshold 
  - Cleanup need not be pursued beyond C’ since the additional benefits are low
For cleanup levels below C’, damages from additional pollution begin to mount steeply


- The next slide illustrates a situation where costs are quite sensitive to the level of cleanup
  - Pollution reduction to a level of C’’ can be pursued relatively cheaply
Beyond C’’, costs mount rapidly


---
# Price vs. Quantity
### &lt;p style="color:#00449E"&gt; Case 2: Taxes Preferred &lt;/p&gt;


&lt;img src="lec_figs/gp-fig15a-3.png" width="70%" style="display: block; margin: auto;" /&gt;


---
# Price vs. Quantity
### &lt;p style="color:#00449E"&gt; Regulation with Imperfect Information &lt;/p&gt;

- When the social costs of being wrong arise more from increased compliance costs and less from the benefits of reduction, a tax policy will be preferred

- For the case of climate change, which one is more favorable to the other?


---
# Final theory point: Coase Theorem Corollary
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

If there is a well-functioning permit market, a cost-effective outcome will be achieved by a marketable permit system regardless of the initial ownership of the permits


---
# Taxes and Permits Compared
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;



&lt;img src="lec_figs/gp-tab15-3.png" width="90%" style="display: block; margin: auto;" /&gt;


---
# IB Regulation and Technological Progress
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- Taxes and permits generate better incentives for long-run technological progress in pollution control than CAC 
  - Taxes: less pollution means lower taxes
  - Permits: pollution bears an opportunity costs since less pollution frees up permits for sale


- In both cases, since pollution is now costly to firms, they have a motivation to continuously seek out new ways of reducing pollution


---
# Incentives for New Technology Under IB and CAC
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;



&lt;img src="lec_figs/gp-fig15-2.png" width="60%" style="display: block; margin: auto;" /&gt;


---
# Potential Problems with IB Regulation
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- Two Problems w/ both Pollution Taxes and Cap &amp; Trade:
  - Need for direct monitoring of emissions and enforcement of violations
  - Hot-spots: high local concentrations of pollutants


- Monitoring 
  - Emissions monitoring is a GOOD thing, but it has to be built into the system up front. IB regulations cannot work without direct monitoring of emissions.  


---
# Hot Spots
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- **Uniformly mixed pollutant**
  - Emissions concentrations are spread evenly over multiple areas


- **Concentrated pollutant**
  - All the damage done by emissions of a plant occur in the plant’s area

- **Nonuniformly mixed pollutant**
  - The bulk of the damage is done locally, but effects do drift into other areas


- IB systems create **hot-spots** for concentrated and nonuniformly mixed pollutants



---
# Nonuniformly mixed Pollutants in Grimeville
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;


&lt;img src="lec_figs/gp-fig15-3.png" width="65%" style="display: block; margin: auto;" /&gt;

-  Taxes would have to be higher (or the emissions value of a permit lower) in already polluted areas


---
# Problems with Permit Systems
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;

- Thin markets--markets with only a few buyers and sellers


- Price Volatility! (e.g., RECLAIM, ETS)


- Potential for market power:
  - Most likely if new firms are forced to buy permits from direct competitors


- Permit life
  - Short permit lives quickly lose value and are not worth trading
  - Firms must be able to bank their permits--if a reduction is made in one year, the permit can be saved for trade in a later year





---
# Problems with Pollution Taxes
### &lt;p style="color:#00449E"&gt;  &lt;/p&gt;


- With taxes, regulators do not know in advance the actual level of pollution that will emerge. Tax must be raised if not enough pollution is reduced. 

- Taxes must be continually adjusted upward to hold pollution constant in the face of both economic growth and inflation. 



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "googlecode",
"highlightLines": true,
"highlightLanguage": "r",
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<!--Hat-tip: https://www.garrickadenbuie.com/blog/xaringan-tip-logo-all-slides/-->
<style>
.logo {
  background-image: url(img/logo-blue.png);
  background-size: contain;
  background-repeat: no-repeat;
  position: absolute;
  top: 1em;
  right: 1em;
  width: 55px;
  height: 66px;
  z-index: 0;
}
</style>

<script>
document
  .querySelectorAll(
    '.remark-slide-content' +
    ':not(.title-slide)' +
    // add additional classes to exclude here, e.g.
    ':not(.inverse)' +
    ':not(.hide-logo)'
  )
  .forEach(el => {
    el.innerHTML += '<div class="logo"></div>';
  });
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
