<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Byeong-Hak Choe">

<title>B.H. CHOE - Linear Regression</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">B.H. CHOE</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./cv.html">
 <span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl200-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl200-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl200-lec">    
        <li>
    <a class="dropdown-item" href="./DANL200_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - r basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - r basic, ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - ggplot, visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - visualization, filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - filter, arrange, select</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - select, mutate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_Lec14_20230321.html">
 <span class="dropdown-text">lecture 14 - summarize, group operation</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl200-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl200-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl200-lab">    
        <li>
    <a class="dropdown-item" href="./DANL200_hw1q.html">
 <span class="dropdown-text">hw1-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw1a.html">
 <span class="dropdown-text">hw1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab1q.html">
 <span class="dropdown-text">lab1-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_lab1a.html">
 <span class="dropdown-text">lab1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL200_hw2q.html">
 <span class="dropdown-text">hw2-q</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl210-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl210-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl210-lec">    
        <li>
    <a class="dropdown-item" href="./DANL210_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - python basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - python basic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - python basic, pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - pandas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - eda</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - seaborn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - seaborn, agg</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - agg, transform, filter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_Lec14_20230321.html">
 <span class="dropdown-text">lecture 13 - agg, transform, filter, tidy</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl210-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl210-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl210-lab">    
        <li>
    <a class="dropdown-item" href="./DANL210_hw1q.html">
 <span class="dropdown-text">hw1-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw1a.html">
 <span class="dropdown-text">hw1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab1q_v3.html">
 <span class="dropdown-text">lab1-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab1a.html">
 <span class="dropdown-text">lab1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab2q.html">
 <span class="dropdown-text">lab2-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_lab2a.html">
 <span class="dropdown-text">lab2-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL210_hw2q.html">
 <span class="dropdown-text">hw2-q</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl310-lec" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl310-lec</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl310-lec">    
        <li>
    <a class="dropdown-item" href="./DANL310_Lec01_20230124.html">
 <span class="dropdown-text">lecture 01 - syllabus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec02_20230126.html">
 <span class="dropdown-text">lecture 02 - github website, rmarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec03_20230131.html">
 <span class="dropdown-text">lecture 03 - rmarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec04_20230202.html">
 <span class="dropdown-text">lecture 04 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec05_20230207.html">
 <span class="dropdown-text">lecture 05 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec06_20230209.html">
 <span class="dropdown-text">lecture 06 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec07_20230214.html">
 <span class="dropdown-text">lecture 07 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec08_20230216.html">
 <span class="dropdown-text">lecture 08 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec09_20230221.html">
 <span class="dropdown-text">lecture 09 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec10_20230223.html">
 <span class="dropdown-text">lecture 10 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec11_20230302.html">
 <span class="dropdown-text">lecture 11 - ggplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec12_20230307.html">
 <span class="dropdown-text">lecture 12 - work with model</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec13_20230309.html">
 <span class="dropdown-text">lecture 13 - color, theme</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_Lec14_20230321.html">
 <span class="dropdown-text">lecture 14 - map</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-danl310-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">danl310-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-danl310-lab">    
        <li>
    <a class="dropdown-item" href="./DANL310_hw1q.html">
 <span class="dropdown-text">hw1-q</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw1a.html">
 <span class="dropdown-text">hw1-a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./DANL310_hw2q.html">
 <span class="dropdown-text">hw2-q</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ml-lab" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ml-lab</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-ml-lab">    
        <li>
    <a class="dropdown-item" href="./mba-ch1-lm.html">
 <span class="dropdown-text">linear regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch1-logit.html">
 <span class="dropdown-text">logistic regression</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./mba-ch3-regularization.html">
 <span class="dropdown-text">regularization</span></a>
  </li>  
        <li class="dropdown-header">model selection</li>
        <li class="dropdown-header">double ml</li>
        <li class="dropdown-header">trees and forests</li>
        <li class="dropdown-header">classification</li>
        <li class="dropdown-header">clustering</li>
        <li class="dropdown-header">principal component analysis</li>
    </ul>
  </li>
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#loading-packages-and-data" id="toc-loading-packages-and-data" class="nav-link active" data-scroll-target="#loading-packages-and-data">Loading Packages and Data</a></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis</a>
  <ul class="collapse">
  <li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics">Descriptive Statistics</a></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization">Data Visualization</a></li>
  </ul></li>
  <li><a href="#linear-regression-model" id="toc-linear-regression-model" class="nav-link" data-scroll-target="#linear-regression-model">Linear Regression Model</a>
  <ul class="collapse">
  <li><a href="#fitted-line-and-beta-estimates" id="toc-fitted-line-and-beta-estimates" class="nav-link" data-scroll-target="#fitted-line-and-beta-estimates">Fitted Line and Beta Estimates</a></li>
  <li><a href="#connection-to-covariance-and-correlation" id="toc-connection-to-covariance-and-correlation" class="nav-link" data-scroll-target="#connection-to-covariance-and-correlation">Connection to covariance and correlation</a></li>
  <li><a href="#inference-with-ols" id="toc-inference-with-ols" class="nav-link" data-scroll-target="#inference-with-ols">Inference with OLS</a></li>
  <li><a href="#r-squared" id="toc-r-squared" class="nav-link" data-scroll-target="#r-squared">R-squared</a></li>
  <li><a href="#mean-squared-errors" id="toc-mean-squared-errors" class="nav-link" data-scroll-target="#mean-squared-errors">Mean Squared Errors</a></li>
  <li><a href="#the-goals-of-linear-regression" id="toc-the-goals-of-linear-regression" class="nav-link" data-scroll-target="#the-goals-of-linear-regression">The Goals of Linear Regression</a></li>
  </ul></li>
  <li><a href="#linear-regression-and-controls" id="toc-linear-regression-and-controls" class="nav-link" data-scroll-target="#linear-regression-and-controls">Linear Regression and Controls</a>
  <ul class="collapse">
  <li><a href="#simple-linear-regression" id="toc-simple-linear-regression" class="nav-link" data-scroll-target="#simple-linear-regression">Simple Linear Regression</a></li>
  <li><a href="#controls-in-linear-regression" id="toc-controls-in-linear-regression" class="nav-link" data-scroll-target="#controls-in-linear-regression">Controls in Linear Regression</a></li>
  <li><a href="#residual-plot-qq-plot-and-residual-vs-leverage-plot" id="toc-residual-plot-qq-plot-and-residual-vs-leverage-plot" class="nav-link" data-scroll-target="#residual-plot-qq-plot-and-residual-vs-leverage-plot">Residual plot, QQ plot, and Residual vs Leverage plot</a></li>
  </ul></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Linear Regression</h1>
<p class="subtitle lead">Machine Learning Lab</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Byeong-Hak Choe </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="loading-packages-and-data" class="level2">
<h2 class="anchored" data-anchor-id="loading-packages-and-data">Loading Packages and Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr) </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggfortify) <span class="co"># to create regression-related plots</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot) <span class="co"># to create correlation heatmaps</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fastDummies) <span class="co"># to create dummy variables</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer) <span class="co"># to create regression tables</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>oj <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'https://bcdanl.github.io/data/dominick_oj.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br><br></p>
</section>
<section id="exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h2>
<section id="descriptive-statistics" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics">Descriptive Statistics</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(oj)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">oj</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">28947</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">brand</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sales</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">17312.21</td>
<td style="text-align: right;">27477.66</td>
<td style="text-align: right;">64.00</td>
<td style="text-align: right;">4864.00</td>
<td style="text-align: right;">8384.00</td>
<td style="text-align: right;">17408.00</td>
<td style="text-align: right;">716416.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">price</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.28</td>
<td style="text-align: right;">0.65</td>
<td style="text-align: right;">0.52</td>
<td style="text-align: right;">1.79</td>
<td style="text-align: right;">2.17</td>
<td style="text-align: right;">2.73</td>
<td style="text-align: right;">3.87</td>
<td style="text-align: left;">▁▆▇▅▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ad</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.24</td>
<td style="text-align: right;">0.43</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>oj <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(brand) <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">skim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">Piped data</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">28947</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">brand</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: left;">brand</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">dominicks</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">19834.56</td>
<td style="text-align: right;">32245.47</td>
<td style="text-align: right;">64.00</td>
<td style="text-align: right;">4416.00</td>
<td style="text-align: right;">9152.00</td>
<td style="text-align: right;">21056.00</td>
<td style="text-align: right;">716416.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">minute.maid</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">18238.46</td>
<td style="text-align: right;">29992.21</td>
<td style="text-align: right;">320.00</td>
<td style="text-align: right;">4800.00</td>
<td style="text-align: right;">8320.00</td>
<td style="text-align: right;">18560.00</td>
<td style="text-align: right;">591360.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">tropicana</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">13863.62</td>
<td style="text-align: right;">17515.82</td>
<td style="text-align: right;">192.00</td>
<td style="text-align: right;">5248.00</td>
<td style="text-align: right;">8000.00</td>
<td style="text-align: right;">13824.00</td>
<td style="text-align: right;">288384.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">price</td>
<td style="text-align: left;">dominicks</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.74</td>
<td style="text-align: right;">0.39</td>
<td style="text-align: right;">0.52</td>
<td style="text-align: right;">1.58</td>
<td style="text-align: right;">1.59</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">2.69</td>
<td style="text-align: left;">▁▂▇▃▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: left;">minute.maid</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.24</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">0.88</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">2.17</td>
<td style="text-align: right;">2.49</td>
<td style="text-align: right;">3.17</td>
<td style="text-align: left;">▁▂▇▆▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">price</td>
<td style="text-align: left;">tropicana</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.87</td>
<td style="text-align: right;">0.55</td>
<td style="text-align: right;">1.29</td>
<td style="text-align: right;">2.49</td>
<td style="text-align: right;">2.99</td>
<td style="text-align: right;">3.19</td>
<td style="text-align: right;">3.87</td>
<td style="text-align: left;">▁▃▅▇▅</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ad</td>
<td style="text-align: left;">dominicks</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.26</td>
<td style="text-align: right;">0.44</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▃</td>
</tr>
<tr class="even">
<td style="text-align: left;">ad</td>
<td style="text-align: left;">minute.maid</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ad</td>
<td style="text-align: left;">tropicana</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.37</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>oj <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(brand, ad) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">skim</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">Piped data</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">28947</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">brand, ad</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 11%">
<col style="width: 9%">
<col style="width: 2%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: left;">brand</th>
<th style="text-align: right;">ad</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">dominicks</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11733.91</td>
<td style="text-align: right;">15718.77</td>
<td style="text-align: right;">64.00</td>
<td style="text-align: right;">3584.00</td>
<td style="text-align: right;">7040.00</td>
<td style="text-align: right;">13312.00</td>
<td style="text-align: right;">248000.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">dominicks</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">43251.33</td>
<td style="text-align: right;">50930.45</td>
<td style="text-align: right;">64.00</td>
<td style="text-align: right;">11888.00</td>
<td style="text-align: right;">27744.00</td>
<td style="text-align: right;">54160.00</td>
<td style="text-align: right;">716416.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">minute.maid</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8372.65</td>
<td style="text-align: right;">7701.69</td>
<td style="text-align: right;">320.00</td>
<td style="text-align: right;">4160.00</td>
<td style="text-align: right;">6272.00</td>
<td style="text-align: right;">9984.00</td>
<td style="text-align: right;">231808.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">minute.maid</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">42566.32</td>
<td style="text-align: right;">46260.27</td>
<td style="text-align: right;">1728.00</td>
<td style="text-align: right;">16576.00</td>
<td style="text-align: right;">29440.00</td>
<td style="text-align: right;">49808.00</td>
<td style="text-align: right;">591360.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">tropicana</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10038.86</td>
<td style="text-align: right;">10246.02</td>
<td style="text-align: right;">192.00</td>
<td style="text-align: right;">4864.00</td>
<td style="text-align: right;">7168.00</td>
<td style="text-align: right;">11008.00</td>
<td style="text-align: right;">175872.00</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">sales</td>
<td style="text-align: left;">tropicana</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">33047.02</td>
<td style="text-align: right;">29632.94</td>
<td style="text-align: right;">1408.00</td>
<td style="text-align: right;">10816.00</td>
<td style="text-align: right;">23808.00</td>
<td style="text-align: right;">46896.00</td>
<td style="text-align: right;">288384.00</td>
<td style="text-align: left;">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: left;">dominicks</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.80</td>
<td style="text-align: right;">0.38</td>
<td style="text-align: right;">0.52</td>
<td style="text-align: right;">1.58</td>
<td style="text-align: right;">1.69</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">2.69</td>
<td style="text-align: left;">▁▂▇▅▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">price</td>
<td style="text-align: left;">dominicks</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.56</td>
<td style="text-align: right;">0.34</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">1.39</td>
<td style="text-align: right;">1.58</td>
<td style="text-align: right;">1.59</td>
<td style="text-align: right;">2.69</td>
<td style="text-align: left;">▂▇▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: left;">minute.maid</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.33</td>
<td style="text-align: right;">0.41</td>
<td style="text-align: right;">0.88</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">2.26</td>
<td style="text-align: right;">2.62</td>
<td style="text-align: right;">3.17</td>
<td style="text-align: left;">▁▂▇▇▃</td>
</tr>
<tr class="even">
<td style="text-align: left;">price</td>
<td style="text-align: left;">minute.maid</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.02</td>
<td style="text-align: right;">0.30</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">2.19</td>
<td style="text-align: right;">2.81</td>
<td style="text-align: left;">▁▂▇▂▂</td>
</tr>
<tr class="odd">
<td style="text-align: left;">price</td>
<td style="text-align: left;">tropicana</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.97</td>
<td style="text-align: right;">0.51</td>
<td style="text-align: right;">1.32</td>
<td style="text-align: right;">2.59</td>
<td style="text-align: right;">2.99</td>
<td style="text-align: right;">3.39</td>
<td style="text-align: right;">3.87</td>
<td style="text-align: left;">▁▂▃▇▅</td>
</tr>
<tr class="even">
<td style="text-align: left;">price</td>
<td style="text-align: left;">tropicana</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.39</td>
<td style="text-align: right;">0.46</td>
<td style="text-align: right;">1.29</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">2.39</td>
<td style="text-align: right;">2.79</td>
<td style="text-align: right;">3.59</td>
<td style="text-align: left;">▁▇▆▅▂</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
</section>
<section id="data-visualization" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization">Data Visualization</h3>
<ul>
<li>Correlation heatmap is a great tool to start identifying which input variables are strongly correlated with an outcome variable.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to convert a factor variable into indicators</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>oj_dummies <span class="ot">&lt;-</span> <span class="fu">dummy_cols</span>(oj, <span class="at">select_columns =</span> <span class="st">'brand'</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>brand)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># the matrix of the correlation test p-values</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>p.mat <span class="ot">&lt;-</span> <span class="fu">cor_pmat</span>(oj_dummies) </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># correlation heatmap with correlation values</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcorrplot</span>( <span class="fu">cor</span>(oj_dummies), <span class="at">lab =</span> T,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">'lower'</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"#2E74C0"</span>, <span class="st">"white"</span>, <span class="st">"#CB454A"</span>),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">p.mat =</span> p.mat) <span class="co"># p.values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="mba-ch1-lm_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variation in log price</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(oj, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(price), <span class="at">fill =</span> brand )) <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(brand <span class="sc">~</span>., <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="mba-ch1-lm_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># variation in log sales</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(oj, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(sales), <span class="at">fill =</span> brand )) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(brand <span class="sc">~</span>., <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="mba-ch1-lm_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># law of demand</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(oj, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(sales), <span class="at">y =</span> <span class="fu">log</span>(price),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">color =</span> brand ))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">geom_point</span>( <span class="at">alpha =</span> .<span class="dv">025</span> ) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="mba-ch1-lm_files/figure-html/unnamed-chunk-3-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mosaic plot</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> oj) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(ad), <span class="at">y =</span> <span class="fu">after_stat</span>(prop),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">group =</span> brand, <span class="at">fill =</span> brand), </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">'ad'</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">25</span>),</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)),</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="fl">1.5</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="mba-ch1-lm_files/figure-html/unnamed-chunk-3-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br><br></p>
</section>
</section>
<section id="linear-regression-model" class="level2">
<h2 class="anchored" data-anchor-id="linear-regression-model">Linear Regression Model</h2>
<ul>
<li><p>A basic but powerful regression strategy is to deal in <strong>averages</strong> and lines.</p>
<ul>
<li>We model the conditional mean for <span class="math inline">\(y\)</span> given <span class="math inline">\(x\)</span> as</li>
</ul></li>
</ul>
<p><span class="math display">\[
\begin{align}
\mathbb{E}[\, y \,|\, \mathbf{X} \,] &amp;= \beta_{0} \,+\, \beta_{1}\,x_{1} \,+\, \cdots \,+\, \beta_{p}\,x_{p}\\
{ }\\
y_{i} &amp;=   \beta_{0} \,+\, \beta_{1}\,x_{1, i} \,+\, \cdots \,+\, \beta_{p}\,x_{p, i} + \epsilon_{i} \quad \text{for } i = 1, 2, ..., n
\end{align}
\]</span> - Linear regression is used to model linear relationship between an <strong>outcome</strong> variable, <span class="math inline">\(y\)</span>, and a set of <strong>predictor</strong> variables <span class="math inline">\(x_{1}, \,\cdots\,, x_{p}\)</span>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">'lec_figs/mba-1-2.png'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="lec_figs/mba-1-2.png" class="img-fluid figure-img" width="264"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><span class="math inline">\(\beta_{0}\)</span> is an intercept when <span class="math inline">\(\mathbf{X} = \mathbf{0}\)</span>.</li>
<li><span class="math inline">\(\beta_{1}\)</span> is a slope that describes a change in average value for <span class="math inline">\(y\)</span> for each one-unit increase in <span class="math inline">\(x_{1}\)</span>.</li>
<li><span class="math inline">\(\epsilon_{i}\)</span> is the random noise.
<ul>
<li>For inference, we need to assume that <span class="math inline">\(\epsilon_{i}\)</span> is <strong>independent, identically distributed</strong> (<em>iid</em>) from Normal distribution.</li>
</ul></li>
</ul>
<p><span class="math display">\[
\epsilon_i \overset{iid}{\sim}N(0, \sigma^2) \quad \text{ with constant variance } \sigma^2
\]</span></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">'lec_figs/mba-1-3.png'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="lec_figs/mba-1-3.png" class="img-fluid figure-img" width="386"></p>
</figure>
</div>
</div>
</div>
<p><br></p>
<section id="fitted-line-and-beta-estimates" class="level3">
<h3 class="anchored" data-anchor-id="fitted-line-and-beta-estimates">Fitted Line and Beta Estimates</h3>
<ul>
<li>We estimatede the best fitting line by ordinary least squares (<strong>OLS</strong>) - by minimizing the sum of squared errors (<strong>SSE</strong>)</li>
</ul>
<p><span class="math display">\[
S S E\left(\beta_{0}, \beta_{1}\right)=\sum_{i=1}^{n}\left[Y_{i}-\left({\beta}_{0}+{\beta}_{1} X_{i}\right)\right]^{2}
\]</span></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">'lec_figs/mba-1-9.png'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="lec_figs/mba-1-9.png" class="img-fluid figure-img" width="438"></p>
</figure>
</div>
</div>
</div>
<p>Therefore, the beta estimate has the following solution:</p>
<p><span class="math display">\[
\widehat{\beta}_{1}=\frac{\sum_{i=1}^{n}\left(X_{i}-\bar{X}\right)\left(Y_{i}-\bar{Y}\right)}{\sum_{i=1}^{n}\left(X_{i}-\bar{X}\right)^{2}} \quad \text{ and } \quad \widehat{\beta}_{0}=\bar{Y}-\widehat{\beta}_{1} \bar{X}
\]</span></p>
<p>where <span class="math inline">\(\bar{X} = \frac{1}{n}\sum_{i=1}^n X_i\)</span> and <span class="math inline">\(\bar{Y} = \frac{1}{n}\sum_{i=1}^n Y_i\)</span></p>
<p><br></p>
</section>
<section id="connection-to-covariance-and-correlation" class="level3">
<h3 class="anchored" data-anchor-id="connection-to-covariance-and-correlation">Connection to covariance and correlation</h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Covariance"><strong>Covariance</strong></a> describes the <strong>joint variability of two variables</strong></li>
</ul>
<p><span class="math display">\[
\text{Cov}(X, Y) = \sigma_{X,Y} = \mathbb{E}[(X-\mathbb{E}[X])(Y-\mathbb{E}[Y])]
\]</span></p>
<ul>
<li><strong>Correlation</strong> is a <em>normalized</em> form of covariance, ranges from -1 to 1</li>
</ul>
<p><span class="math display">\[
\rho_{X,Y} = \frac{\text{Cov}(X,Y)}{\sigma_X \cdot \sigma_Y}
\]</span> - So, the beta coefficent can be represented by:</p>
<p>$$ <span class="math display">\[\begin{align}
\widehat{\beta}_{1} &amp;= \, \frac{\widehat{\text{Cov}}(X,Y)}{\widehat{\text{Var}}(X)} \,=\,  \hat{\rho}_{x,y} \cdot \frac{\hat{\sigma}_{Y}}{\hat{\sigma}_{X}}

\end{align}\]</span> $$</p>
<p><br></p>
</section>
<section id="inference-with-ols" class="level3">
<h3 class="anchored" data-anchor-id="inference-with-ols">Inference with OLS</h3>
<ul>
<li><p><span class="math inline">\(t\)</span>-statistics are coefficients <code>Estimates</code> / <code>Std. Error</code>, i.e., number of standard deviations from 0</p>
<ul>
<li><p><em>p-values</em> (i.e., <code>Pr(&gt;|t|)</code>): estimated probability observing value as extreme as |<code>t value</code>| <strong>given the null hypothesis</strong> <span class="math inline">\(\beta = 0\)</span></p></li>
<li><p>p-value <span class="math inline">\(&lt;\)</span> conventional threshold of <span class="math inline">\(\alpha = 0.05\)</span>, <strong>sufficient evidence to reject the null hypothesis that the coefficient is zero</strong>,</p></li>
<li><p>Typically |<code>t values</code>| <span class="math inline">\(&gt; 2\)</span> indicate <strong>significant</strong> relationship at <span class="math inline">\(\alpha = 0.05\)</span></p></li>
<li><p>i.e., there is a <strong>significant</strong> association between <code>log(sales)</code> and <code>log(price)</code></p></li>
</ul></li>
<li><p>Controlling the Type 1 error rate at <span class="math inline">\(\alpha = 0.05\)</span>, i.e., the probability of a <strong>false positive</strong> mistake:</p>
<ul>
<li>5% chance that you’ll conclude there’s a significant association between <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> <strong>even when there is none</strong></li>
</ul></li>
</ul>
<p><br></p>
</section>
<section id="r-squared" class="level3">
<h3 class="anchored" data-anchor-id="r-squared">R-squared</h3>
<ul>
<li><span class="math inline">\(R^2\)</span> estimates the <strong>proportion of the variance</strong> of <span class="math inline">\(Y\)</span> explained by <span class="math inline">\(X\)</span>.</li>
</ul>
<p><br></p>
</section>
<section id="mean-squared-errors" class="level3">
<h3 class="anchored" data-anchor-id="mean-squared-errors">Mean Squared Errors</h3>
<ul>
<li><strong>Mean squared error</strong> (MSE) is a commonly used metric to evaluate the performance of a regression model.
<ul>
<li>It measures the average squared difference between the predicted values and the actual values in the dataset.</li>
</ul></li>
</ul>
<p><span class="math display">\[
M S E \,=\, \frac{\sum_{i = 1}^{ n}\,(\, y_{i} - \hat{y}_{i} \,)^2}{n}
\]</span> - <strong>Root mean squared error</strong> (RMSE) is the square root of the mean squared error (MSE).</p>
<p><span class="math display">\[
R M S E \,=\, \sqrt{M S E}
\]</span> - RMSE shows how far predictions fall from true values.</p>
<p><br><br></p>
</section>
<section id="the-goals-of-linear-regression" class="level3">
<h3 class="anchored" data-anchor-id="the-goals-of-linear-regression">The Goals of Linear Regression</h3>
<ol type="1">
<li>Modeling for <strong>prediction</strong> (<span class="math inline">\(\hat{y}\)</span>): When we want to predict an outcome variable <span class="math inline">\(y\)</span> based on the information contained in a set of predictor variables <span class="math inline">\(\mathbf{X}\)</span>.</li>
</ol>
<ul>
<li>We are estimating the conditional expection (mean) for <span class="math inline">\(y\)</span>: <span class="math display">\[
\mathbb{E}[\, y \,|\, \mathbf{X} \,] = \beta_{0} \,+\, \beta_{1}\,x_{1} \,+\, \cdots \,+\, \beta_{p}\,x_{p}.
\]</span></li>
<li>which is the average value for <span class="math inline">\(y\)</span> given the value for <span class="math inline">\(X\)</span>.</li>
</ul>
<p><br></p>
<ol start="2" type="1">
<li>Modeling for <strong>explanation</strong> (<span class="math inline">\(\hat{\beta}\)</span>): When we want to explicitly describe and quantify the relationship between the outcome variable <span class="math inline">\(y\)</span> and a set of <strong>explanatory variables</strong> <span class="math inline">\(\mathbf{X}\)</span>.</li>
</ol>
<ul>
<li><strong>Correlation</strong> does not imply <strong>causation</strong>.</li>
<li>Without proper identification strategies, <span class="math inline">\(\beta_{1}\)</span> just means a correlation between <span class="math inline">\(x_{1}\)</span> and <span class="math inline">\(y\)</span>.</li>
<li>However, we can possibly identify a <em>causal</em> relationship between the explanatory variable and the outcome variable.</li>
</ul>
<p><br><br></p>
</section>
</section>
<section id="linear-regression-and-controls" class="level2">
<h2 class="anchored" data-anchor-id="linear-regression-and-controls">Linear Regression and Controls</h2>
<section id="simple-linear-regression" class="level3">
<h3 class="anchored" data-anchor-id="simple-linear-regression">Simple Linear Regression</h3>
<p>To start, we can fit a simple model that regresses log price on log sales.</p>
<p><span class="math display">\[
\mathbb{E}[\, \log(\, \texttt{sales} \,) \,|\, \texttt{price}\,] = \alpha \,+\, \beta\, \log(\,\texttt{price}\,)
\]</span> - The following model incorporates both <code>brand</code> and <code>price</code>:</p>
<p><span class="math display">\[
\mathbb{E}[\, \log(\, \texttt{sales} \,) \,|\, \texttt{price}\,] = \alpha_{\texttt{brand}} \,+\, \beta\, \log(\,\texttt{price}\,)
\]</span></p>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>formula_0 <span class="ot">&lt;-</span> <span class="fu">log</span>(sales) <span class="sc">~</span> <span class="fu">log</span>(price)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>formula_1 <span class="ot">&lt;-</span> <span class="fu">log</span>(sales) <span class="sc">~</span> brand <span class="sc">+</span> <span class="fu">log</span>(price)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>fit_0 <span class="ot">&lt;-</span> <span class="fu">lm</span>( formula_0, <span class="at">data =</span> oj )</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>fit_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>( formula_1, <span class="at">data =</span> oj )</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(fit_0, fit_1, <span class="at">type =</span> <span class="st">"html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
log(sales)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
brandminute.maid
</td>
<td>
</td>
<td>
0.870<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.013)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
brandtropicana
</td>
<td>
</td>
<td>
1.530<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.016)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
log(price)
</td>
<td>
-1.601<sup>***</sup>
</td>
<td>
-3.139<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.018)
</td>
<td>
(0.023)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
10.423<sup>***</sup>
</td>
<td>
10.829<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.015)
</td>
<td>
(0.015)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
28,947
</td>
<td>
28,947
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.208
</td>
<td>
0.394
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.208
</td>
<td>
0.394
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
0.907 (df = 28945)
</td>
<td>
0.794 (df = 28943)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
7,608.212<sup>***</sup> (df = 1; 28945)
</td>
<td>
6,275.074<sup>***</sup> (df = 3; 28943)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>

</tbody></table>
<ul>
<li><p>We know that there are different brands of OJ here and some are more valuable than others.</p>
<ul>
<li>When we control for brand effect, the elasticity estimate nearly doubles to −3.14.</li>
</ul></li>
<li><p>The premium brands, Minute Maid and Tropicana, had equivalent sales to Dominick’s at higher price points.</p></li>
<li><p>So if we don’t control for brand, it looks as though prices can rise without affecting sales for those observations.</p>
<ul>
<li>This dampens the observable relationship between prices and sales and results in the (artificially) low elasticity estimate of −1.6.</li>
</ul></li>
<li><p>More mechanically, how does this happen in regression?</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>price_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(price) <span class="sc">~</span> brand, <span class="at">data =</span> oj)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>p_hat <span class="ot">&lt;-</span> <span class="fu">predict</span>(price_fit, <span class="at">newdata =</span> oj)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>p_resid <span class="ot">&lt;-</span> <span class="fu">log</span>(oj<span class="sc">$</span>price) <span class="sc">-</span> p_hat</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># regress log sales on p_resid</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>resid_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(sales) <span class="sc">~</span> p_resid, <span class="at">data =</span> oj)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># What is the beta coefficient for p_resid?!</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>( <span class="fu">coef</span>(resid_fit)[<span class="dv">2</span>], <span class="at">digit =</span> <span class="dv">3</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>p_resid 
 -3.139 </code></pre>
</div>
</div>
<ul>
<li><p>The coefficient on <code>p_resid</code>, the residuals from regression of log price on brand, is exactly the same as what we get on <code>log(price)</code> in the multiple linear regression for log sales onto this and brand!</p></li>
<li><p>This is one way that you can understand what OLS is doing:</p>
<ul>
<li>It is finding the coefficients on the <em>part of each input</em> that is independent from the other inputs.</li>
</ul></li>
</ul>
<p><br></p>
</section>
<section id="controls-in-linear-regression" class="level3">
<h3 class="anchored" data-anchor-id="controls-in-linear-regression">Controls in Linear Regression</h3>
<ul>
<li><strong>Omitted variable bias</strong> is a type of bias that can occur in linear regression when an important variable that is related to both the outcome variable and the input variable(s) is not included in the model.
<ul>
<li>This omission can lead to biased estimates of the beta coefficients of the included input variables.</li>
</ul></li>
<li>In linear regression, a <strong>confounding variable</strong> is a variable that is related to both <em>treatment</em> and outcome variables, and that affects the relationship between them.
<ul>
<li>A <strong>treatment</strong> variable is an input variable that the researcher believes has a causal effect on the outcome variable.</li>
<li>When a confounding variable is not controlled in the regression model, it can lead to biased estimates of the relationship between the independent and treatment variables.</li>
</ul></li>
<li><strong>Bad controls</strong> in linear regression refer to the inclusion of variables in the model that do not actually control for the confounding factors they are intended to control for.
<ul>
<li>This can lead to biased estimates of the relationship between the independent and dependent variables.</li>
</ul></li>
</ul>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># simulation data</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>( </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">female =</span> <span class="fu">ifelse</span>(<span class="fu">runif</span>(<span class="dv">10000</span>)<span class="sc">&gt;=</span><span class="fl">0.5</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="co"># female indicator variable</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability =</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>), <span class="co"># e.g., talent, usually unobserved.</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">discrimination =</span> female, <span class="co"># gender discrimination variable</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">occupation =</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>ability <span class="sc">+</span> <span class="dv">0</span><span class="sc">*</span>female <span class="sc">-</span> <span class="dv">2</span><span class="sc">*</span>discrimination <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>), <span class="co"># true data generating process for occupation variable</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">wage =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="dv">1</span><span class="sc">*</span>discrimination <span class="sc">+</span> <span class="dv">1</span><span class="sc">*</span>occupation <span class="sc">+</span> <span class="dv">2</span><span class="sc">*</span>ability <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>) <span class="co"># true data generating process for wage variable</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>lm_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(wage <span class="sc">~</span> female, tb)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>lm_2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(wage <span class="sc">~</span> female <span class="sc">+</span> occupation, tb)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>lm_3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(wage <span class="sc">~</span> female <span class="sc">+</span> occupation <span class="sc">+</span> ability, tb)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(lm_1,lm_2,lm_3, </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">column.labels =</span> <span class="fu">c</span>(<span class="st">"Biased Unconditional"</span>, </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Biased"</span>,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"Unbiased Conditional"</span>),</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">'html'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
wage
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
Biased Unconditional
</td>
<td>
Biased
</td>
<td>
Unbiased Conditional
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
<td>
(3)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
female
</td>
<td>
-2.934<sup>***</sup>
</td>
<td>
0.590<sup>***</sup>
</td>
<td>
-1.005<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.084)
</td>
<td>
(0.029)
</td>
<td>
(0.028)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
occupation
</td>
<td>
</td>
<td>
1.793<sup>***</sup>
</td>
<td>
0.993<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.006)
</td>
<td>
(0.010)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
ability
</td>
<td>
</td>
<td>
</td>
<td>
2.007<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(0.023)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
1.957<sup>***</sup>
</td>
<td>
0.203<sup>***</sup>
</td>
<td>
0.993<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.059)
</td>
<td>
(0.020)
</td>
<td>
(0.017)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
10,000
</td>
<td>
10,000
</td>
<td>
10,000
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.108
</td>
<td>
0.910
</td>
<td>
0.950
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.108
</td>
<td>
0.910
</td>
<td>
0.950
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
4.221 (df = 9998)
</td>
<td>
1.340 (df = 9997)
</td>
<td>
1.002 (df = 9996)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
1,207.456<sup>***</sup> (df = 1; 9998)
</td>
<td>
50,566.560<sup>***</sup> (df = 2; 9997)
</td>
<td>
62,964.220<sup>***</sup> (df = 3; 9996)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="3" style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>

</tbody></table>
<ul>
<li><code>occupation</code> is a bad control.</li>
</ul>
<p><br></p>
</section>
<section id="residual-plot-qq-plot-and-residual-vs-leverage-plot" class="level3">
<h3 class="anchored" data-anchor-id="residual-plot-qq-plot-and-residual-vs-leverage-plot">Residual plot, QQ plot, and Residual vs Leverage plot</h3>
<ul>
<li><p>Residuals should NOT display any systematic pattern.</p></li>
<li><p>Check the assumptions about normality with a QQ plot using <code>ggfortify</code>.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggfortify)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">autoplot</span>(fit_1, <span class="at">ncol =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="mba-ch1-lm_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><p>Standardized residuals = residuals <code>/ sd(</code>residuals<code>)</code></p></li>
<li><p>A QQ (Quantile-Quantile) plot is a graphical tool used to assess the normality of a distribution.</p>
<ul>
<li>In the context of linear regression, a QQ plot can be used to assess whether the residuals are normally distributed.</li>
<li>A QQ plot visualizes the relationship between the quantiles of the residuals and the quantiles of a theoretical normal distribution.</li>
<li>QQ plots can be useful in identifying potential outliers or influential observations in a linear regression model, as well as in deciding whether to transform the dependent variable or use a different type of regression model altogether.</li>
</ul></li>
<li><p>A residual vs leverage plot is a graphical tool used to detect influential observations in linear regression.</p>
<ul>
<li>Leverage refers to how much an observation’s independent variables differ from the mean of the independent variables, and is a measure of how much influence that observation has on the regression line.</li>
<li>In a residual vs leverage plot, influential observations will typically appear as points that are far away from the center of the plot.</li>
<li>If an observation has high leverage but a small residual, it may not be influential.</li>
<li>Conversely, an observation with a large residual but low leverage may also not be influential.</li>
</ul></li>
</ul>
<p><br><br></p>
</section>
</section>
<section id="exercise" class="level2">
<h2 class="anchored" data-anchor-id="exercise">Exercise</h2>
<p>Consider the orange juice models:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>formula_0 <span class="ot">&lt;-</span> <span class="fu">log</span>(sales) <span class="sc">~</span> <span class="fu">log</span>(price)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>formula_1 <span class="ot">&lt;-</span> <span class="fu">log</span>(sales) <span class="sc">~</span> brand <span class="sc">+</span> <span class="fu">log</span>(price)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>fit_0 <span class="ot">&lt;-</span> <span class="fu">lm</span>( formula_0, <span class="at">data =</span> oj )</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>fit_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>( formula_1, <span class="at">data =</span> oj )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li><p>Draw a residual plot for each model of <code>fit_0</code> and <code>fit_1</code>.</p></li>
<li><p>Calculate the RMSE for each model of <code>fit_0</code> and <code>fit_1</code>.</p></li>
<li><p>Review the interaction models:</p></li>
</ol>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>formula_0 <span class="ot">&lt;-</span> <span class="fu">log</span>(sales) <span class="sc">~</span> <span class="fu">log</span>(price)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>formula_1 <span class="ot">&lt;-</span> <span class="fu">log</span>(sales) <span class="sc">~</span> brand <span class="sc">+</span> <span class="fu">log</span>(price)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>formula_2 <span class="ot">&lt;-</span> <span class="fu">log</span>(sales) <span class="sc">~</span> brand <span class="sc">*</span> <span class="fu">log</span>(price)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>formula_3 <span class="ot">&lt;-</span> <span class="fu">log</span>(sales) <span class="sc">~</span> brand <span class="sc">*</span> ad <span class="sc">*</span> <span class="fu">log</span>(price)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>fit_0 <span class="ot">&lt;-</span> <span class="fu">lm</span>( formula_0, <span class="at">data =</span> oj )</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>fit_1 <span class="ot">&lt;-</span> <span class="fu">lm</span>( formula_1, <span class="at">data =</span> oj )</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>fit_2 <span class="ot">&lt;-</span> <span class="fu">lm</span>( formula_2, <span class="at">data =</span> oj )</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>fit_3 <span class="ot">&lt;-</span> <span class="fu">lm</span>( formula_3, <span class="at">data =</span> oj )</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(fit_1, fit_2, fit_3, <span class="at">type =</span> <span class="st">"html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<table style="text-align:center">
<tbody><tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="3">
log(sales)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
<td>
(3)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
brandminute.maid
</td>
<td>
0.870<sup>***</sup>
</td>
<td>
0.888<sup>***</sup>
</td>
<td>
0.047
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.013)
</td>
<td>
(0.042)
</td>
<td>
(0.047)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
brandtropicana
</td>
<td>
1.530<sup>***</sup>
</td>
<td>
0.962<sup>***</sup>
</td>
<td>
0.708<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.016)
</td>
<td>
(0.046)
</td>
<td>
(0.051)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
ad
</td>
<td>
</td>
<td>
</td>
<td>
1.094<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(0.038)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
log(price)
</td>
<td>
-3.139<sup>***</sup>
</td>
<td>
-3.378<sup>***</sup>
</td>
<td>
-2.774<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.023)
</td>
<td>
(0.036)
</td>
<td>
(0.039)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
brandminute.maid:ad
</td>
<td>
</td>
<td>
</td>
<td>
1.173<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(0.082)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
brandtropicana:ad
</td>
<td>
</td>
<td>
</td>
<td>
0.785<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(0.099)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
brandminute.maid:log(price)
</td>
<td>
</td>
<td>
0.057
</td>
<td>
0.783<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.057)
</td>
<td>
(0.061)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
brandtropicana:log(price)
</td>
<td>
</td>
<td>
0.666<sup>***</sup>
</td>
<td>
0.736<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.054)
</td>
<td>
(0.057)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
ad:log(price)
</td>
<td>
</td>
<td>
</td>
<td>
-0.471<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(0.074)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
brandminute.maid:ad:log(price)
</td>
<td>
</td>
<td>
</td>
<td>
-1.109<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(0.122)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
brandtropicana:ad:log(price)
</td>
<td>
</td>
<td>
</td>
<td>
-0.986<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
(0.124)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
10.829<sup>***</sup>
</td>
<td>
10.955<sup>***</sup>
</td>
<td>
10.407<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.015)
</td>
<td>
(0.021)
</td>
<td>
(0.023)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
28,947
</td>
<td>
28,947
</td>
<td>
28,947
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.394
</td>
<td>
0.398
</td>
<td>
0.535
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.394
</td>
<td>
0.398
</td>
<td>
0.535
</td>
</tr>
<tr>
<td style="text-align:left">
Residual Std. Error
</td>
<td>
0.794 (df = 28943)
</td>
<td>
0.791 (df = 28941)
</td>
<td>
0.695 (df = 28935)
</td>
</tr>
<tr>
<td style="text-align:left">
F Statistic
</td>
<td>
6,275.074<sup>***</sup> (df = 3; 28943)
</td>
<td>
3,823.404<sup>***</sup> (df = 5; 28941)
</td>
<td>
3,031.232<sup>***</sup> (df = 11; 28935)
</td>
</tr>
<tr>
<td colspan="4" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="3" style="text-align:right">
<sup><em></em></sup><em>p&lt;0.1; <sup><strong></strong></sup><strong>p&lt;0.05; <sup></sup></strong></em>p&lt;0.01
</td>
</tr>

</tbody></table>
<p><br><br></p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<!-- -   [The Elements of Statistical Learning: Data Mining, Inference, and Prediction](https://hastie.su.domains/ElemStatLearn/) by [Trevor Hastie](https://hastie.su.domains), [Robert Tibshirani](https://tibshirani.su.domains) and [Jerome Friedman](https://jerryfriedman.su.domains). -->
<ul>
<li><p><a href="https://mixtape.scunning.com">Causal Inference: The Mixtape</a> by <a href="https://www.scunning.com">Scott Cunningham</a>.</p></li>
<li><p><a href="https://moderndive.com">Statistical Inference via Data Science: A ModernDive into R and the Tidyverse</a> by <a href="https://chester.rbind.io">Chester Ismay</a> and <a href="http://rudeboybert.rbind.io">Albert Y. Kim</a>.</p></li>
</ul>
<!-- -   [An Introduction to Statistical Learning](https://www.statlearning.com) by [Gareth James](https://www.garethmjames.com), [Daniela Witten](https://www.danielawitten.com), [Trevor Hastie](https://hastie.su.domains), and [Robert Tibshirani](https://tibshirani.su.domains). -->
<ul>
<li><a href="https://www.mheducation.com/highered/product/modern-business-analytics-taddy-hendrix/M9781264071678.html">Modern Business Analytics</a> by <a href="https://www.linkedin.com/in/matt-taddy-433078137/">Matt Taddy</a>, <a href="https://sc.edu/study/colleges_schools/moore/directory/hendrix.leslie.php">Leslie Hendrix</a>, and <a href="https://www.harding.ai">Matthew Harding</a>.</li>
</ul>
<!-- -   [Practical Data Science with R](https://www.manning.com/books/practical-data-science-with-r-second-edition) by [Nina Zumel](https://ninazumel.com) and [John Mount](https://win-vector.com/john-mount/). -->
<ul>
<li><a href="https://www.stat.cmu.edu/cmsac/sure/2022/materials/">Summer Undergraduate Research Experience (SURE) 2022 in Statistics at Carnegie Mellon University</a> by <a href="https://www.stat.cmu.edu/~ryurko/">Ron Yurko</a>.</li>
</ul>


</section>

</main> <!-- /main -->
<script type="text/javascript" src="links.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">powered with github, quarto, and rstudio<br>byeong-hak choe, 2023</div>
  </div>
</footer>



</body></html>