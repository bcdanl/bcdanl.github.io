<!DOCTYPE html>
<html>
<head>
  <title>Teaching Presentation</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />



  <meta name="date" content="2022-02-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'Teaching Presentation',
                        useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                      },

      // Author information
      presenters: [
            {
        name:  'Byeong-Hak Choe' ,
        company: '',
        gplus: '',
        twitter: '',
        www: '',
        github: ''
      },
            ]
    };
  </script>

  <script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
  <link href="site_libs/ioslides-13.5.1/fonts/fonts.css" rel="stylesheet" />
  <link href="site_libs/ioslides-13.5.1/theme/css/default.css" rel="stylesheet" />
  <link href="site_libs/ioslides-13.5.1/theme/css/phone.css" rel="stylesheet" />
  <script src="site_libs/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/prettify.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/lang-r.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/hammer.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/slide-controller.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/slide-deck.js"></script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    summary {
      display: list-item;
    }

    slides > slide {
      -webkit-transition: all 0s ease-in-out;
      -moz-transition: all 0s ease-in-out;
      -o-transition: all 0s ease-in-out;
      transition: all 0s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0s;
      -moz-transition: opacity 0.6s ease-in 0s;
      -o-transition: opacity 0.6s ease-in 0s;
      transition: opacity 0.6s ease-in 0s;
      opacity: 0;
    }
/* https://github.com/ropensci/plotly/pull/524#issuecomment-468142578 */
slide:not(.current) .plotly.html-widget{
  display: block;
}

    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            .sourceCode { overflow: visible; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {   }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ff0000; font-weight: bold; } /* Alert */
            code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #7d9029; } /* Attribute */
            code span.bn { color: #40a070; } /* BaseN */
            code span.bu { } /* BuiltIn */
            code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4070a0; } /* Char */
            code span.cn { color: #880000; } /* Constant */
            code span.co { color: #60a0b0; font-style: italic; } /* Comment */
            code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #ba2121; font-style: italic; } /* Documentation */
            code span.dt { color: #902000; } /* DataType */
            code span.dv { color: #40a070; } /* DecVal */
            code span.er { color: #ff0000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #40a070; } /* Float */
            code span.fu { color: #06287e; } /* Function */
            code span.im { } /* Import */
            code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #007020; font-weight: bold; } /* Keyword */
            code span.op { color: #666666; } /* Operator */
            code span.ot { color: #007020; } /* Other */
            code span.pp { color: #bc7a00; } /* Preprocessor */
            code span.sc { color: #4070a0; } /* SpecialChar */
            code span.ss { color: #bb6688; } /* SpecialString */
            code span.st { color: #4070a0; } /* String */
            code span.va { color: #19177c; } /* Variable */
            code span.vs { color: #4070a0; } /* VerbatimString */
            code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
        
  </style>


</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      
      <p data-config-presenter><!-- populated from slide_config.json --></p>
            <p style="margin-top: 6px; margin-left: -2px;">February 4, 2022</p>
          </hgroup>
  </slide>

<slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Estimating Price Elasticity of Orange Juice Demand</h2></hgroup><article  id="estimating-price-elasticity-of-orange-juice-demand">

</article></slide><slide class=""><hgroup><h2>Price elasticity of demand</h2></hgroup><article  id="price-elasticity-of-demand">

<ul>
<li>Price elasticity of demand measures how sensitive the quantity demanded is to its price.</li>
</ul>

 

<center>

\(\texttt{Price elasticity of demand} = \dfrac{\texttt{% Change in quantity demanded}}{\texttt{% Change in price}}\)

</center>

<p> </p>

<ul>
<li><p>The concept of elasticity will play an important role in industries.</p>

<ul>
<li>Marketers need to understand how consumers are sensitive to fluctuations in price.</li>
</ul></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Loading R packages and orange juice data</h2></hgroup><article  id="loading-r-packages-and-orange-juice-data">

<pre class = 'prettyprint lang-r'>library(tidyverse)  # ggplot and more
theme_set(theme_minimal()) # minimal theme for ggplot
library(skimr) # a better summary of data
library(stargazer)  # regression tables
library(moderndive) # geom_parallel_slopes()

oj &lt;- read.table(
  &#39;https://bcecon.github.io/dominick_oj.csv&#39;,
  sep = &#39;,&#39;,
  header = TRUE,
  stringsAsFactor = TRUE
)</pre>

<p> </p>

<ul>
<li>We will use weekly sales data for orange juice (OJ) from Dominick’s grocery stores in the 1990s.</li>
</ul>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Descriptive statistics</h2></hgroup><article  id="descriptive-statistics">

</article></slide><slide class=""><hgroup><h2>OJ data</h2></hgroup><article  id="oj-data">

<pre class = 'prettyprint lang-r'>head(oj)</pre>

<pre >##   sales price     brand feat
## 1  8256  3.87 tropicana    0
## 2  6144  3.87 tropicana    0
## 3  3840  3.87 tropicana    0
## 4  8000  3.87 tropicana    0
## 5  8896  3.87 tropicana    0
## 6  7168  3.87 tropicana    0</pre>

<pre class = 'prettyprint lang-r'>levels(oj$brand)</pre>

<pre >## [1] &quot;dominicks&quot;   &quot;minute.maid&quot; &quot;tropicana&quot;</pre>

</article></slide><slide class=""><hgroup><h2>Descriptive statistics</h2></hgroup><article  id="descriptive-statistics-1">

<pre class = 'prettyprint lang-r'>knitr::kable(skimmed_chr, &quot;simple&quot;)   # from skimr::skim()</pre>

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Variable</th>
<th align="right">n_missing</th>
<th align="right">n_Categories</th>
<th align="left">Counts</th>
</tr>
<tr class="odd">
<td align="left">brand</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="left">dominicks: 9649, minute.maid: 9649, tropicana: 9649</td>
</tr>
</table>

<pre class = 'prettyprint lang-r'>knitr::kable(skimmed_numeric, &quot;simple&quot;)   # from skimr::skim()</pre>

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Variable</th>
<th align="right">n_missing</th>
<th align="right">Mean</th>
<th align="right">SD</th>
<th align="right">Min</th>
<th align="right">Q1</th>
<th align="right">Median</th>
<th align="right">Q3</th>
<th align="right">Max</th>
<th align="left">Hist</th>
</tr>
<tr class="odd">
<td align="left">sales</td>
<td align="right">0</td>
<td align="right">17312.21</td>
<td align="right">27477.66</td>
<td align="right">64.00</td>
<td align="right">4864.00</td>
<td align="right">8384.00</td>
<td align="right">17408.00</td>
<td align="right">716416.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">price</td>
<td align="right">0</td>
<td align="right">2.28</td>
<td align="right">0.65</td>
<td align="right">0.52</td>
<td align="right">1.79</td>
<td align="right">2.17</td>
<td align="right">2.73</td>
<td align="right">3.87</td>
<td align="left">▁▆▇▅▂</td>
</tr>
<tr class="odd">
<td align="left">feat</td>
<td align="right">0</td>
<td align="right">0.24</td>
<td align="right">0.43</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">1.00</td>
<td align="left">▇▁▁▁▂</td>
</tr>
</table>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Visualizing OJ data</h2></hgroup><article  id="visualizing-oj-data">

</article></slide><slide class=""><hgroup><h2>Distribution of OJ prices</h2></hgroup><article  id="distribution-of-oj-prices">

<ul>
<li>It is better to use a logarithmic scale when percent change matters.</li>
</ul>

<pre class = 'prettyprint lang-r'>ggplot(data = oj) + 
  geom_boxplot( aes( y = log(price), color = brand )) +
  theme(axis.text.x = element_blank(), axis.ticks = element_blank())</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-6-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Distribution of OJ sales</h2></hgroup><article  id="distribution-of-oj-sales">

<pre class = 'prettyprint lang-r'>ggplot(data = oj) + 
  geom_boxplot( aes( y = log(sales), color = brand )) +
  theme(axis.text.x = element_blank(), axis.ticks = element_blank())</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-7-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Supply and demand for OJ</h2></hgroup><article  id="supply-and-demand-for-oj">

<pre class = 'prettyprint lang-r'>ggplot(data = oj, aes( x = log(price), y = log(sales), 
                       color = brand )) + 
  geom_point( alpha = .25 ) </pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-8-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class="segue dark nobackground level1"><hgroup class = 'auto-fadein'><h2>Regression models</h2></hgroup><article  id="regression-models">

</article></slide><slide class=""><hgroup><h2>Regression model with brand dummies</h2></hgroup><article  id="regression-model-with-brand-dummies">

<ul>
<li>The regression model for price elasticity of OJ demand can be written as:</li>
</ul>

<center>

\(\log(\texttt{sales}) = \alpha_{\texttt{brand}} + \beta\log(\texttt{price}) + \epsilon\)

</center>

<p> </p>

<ul>
<li>Here \(\alpha_{\texttt{brand}}\) is shorthand for a separate indicator for each OJ brand:</li>
</ul>

<center>

\(\alpha_{\texttt{brand}} = \alpha_{\texttt{d}}1_{\texttt{[brand=dominicks]}}+\alpha_{\texttt{m}}1_{\texttt{[brand=minut.emaid]}}+\alpha_{\texttt{t}}1_{\texttt{[brand=tropicana]}}\)

</center>

<p> </p>

<ul>
<li>Here \(\beta\) measures the price elasticity of OJ demand:</li>
</ul>

<center>

\(\beta = \dfrac{\Delta\log(\texttt{sales})}{\Delta\log(\texttt{price})}\\\hspace{.25cm} = \texttt{(% change in sales)} / \texttt{(% change in price)}\)

</center>

</article></slide><slide class=""><hgroup><h2>Run the model</h2></hgroup><article  id="run-the-model">

<pre class = 'prettyprint lang-r'>reg_oj1 &lt;- lm(log(sales) ~ log(price) + brand, 
             data=oj)
stargazer(reg_oj1, type = &quot;html&quot;, omit = c(&quot;Constant&quot;))</pre>

</article></slide><slide class=""><hgroup><h2>Run the model</h2></hgroup><article  id="run-the-model-1" class="smaller">

<table style="text-align:center">

<tr>

<td colspan="2" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

<em>Dependent variable:</em>

</td>

</tr>

<tr>

<td>

</td>

<td colspan="1" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

log(sales)

</td>

</tr>

<tr>

<td colspan="2" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

log(price)

</td>

<td>

-3.139<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.023)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

brandminute.maid

</td>

<td>

0.870<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.013)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

brandtropicana

</td>

<td>

1.530<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.016)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

</tr>

<tr>

<td colspan="2" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

Observations

</td>

<td>

28,947

</td>

</tr>

<tr>

<td style="text-align:left">

R<sup>2</sup>

</td>

<td>

0.394

</td>

</tr>

<tr>

<td style="text-align:left">

Adjusted R<sup>2</sup>

</td>

<td>

0.394

</td>

</tr>

<tr>

<td style="text-align:left">

Residual Std. Error

</td>

<td>

0.794 (df = 28943)

</td>

</tr>

<tr>

<td style="text-align:left">

F Statistic

</td>

<td>

6,275.074<sup>***</sup> (df = 3; 28943)

</td>

</tr>

<tr>

<td colspan="2" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

<em>Note:</em>

</td>

<td style="text-align:right">

<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01

</td>

</tr>

</table>

</article></slide><slide class=""><hgroup><h2>Regression lines</h2></hgroup><article  id="regression-lines">

<pre class = 'prettyprint lang-r'>ggplot(data = oj, aes(x = log(price), y = log(sales), 
                      color = brand )) +
  geom_point(size = .75, alpha = 0.25) +
  geom_parallel_slopes()</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-11-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Regerssion model with interaction terms</h2></hgroup><article  id="regerssion-model-with-interaction-terms">

<ul>
<li>How does consumer price sensitivity change across brands?</li>
</ul>

<p> </p>

<ul>
<li>The new regression model can be written as:</li>
</ul>

<center>

\(\log(\texttt{sales}) = \alpha_{\texttt{brand}} + \beta_{\texttt{brand}}\log(\texttt{price}) + \epsilon\)

</center>

<p> </p>

<ul>
<li>Here \(\beta_{\texttt{brand}}\) is shorthand for the brand-specific price elasticity:</li>
</ul>

<center>

\(\beta_{\texttt{brand}} = \hspace{.1cm}\beta_{\texttt{d}}1_{\texttt{[brand=dominicks]}}+\beta_{\texttt{m}}1_{\texttt{[brand=minutemaid]}}+\beta_{\texttt{t}}1_{\texttt{[brand=tropicana]}}\hspace{.1cm}\)

</center>

</article></slide><slide class=""><hgroup><h2>Run the model</h2></hgroup><article  id="run-the-model-2">

<pre class = 'prettyprint lang-r'>reg_oj2 &lt;- lm(log(sales) ~ log(price)*brand, 
             data=oj)
stargazer(reg_oj1, reg_oj2, type = &quot;html&quot;, omit = c(&quot;Constant&quot;))</pre>

</article></slide><slide class=""><hgroup><h2>Result</h2></hgroup><article  id="result" class="smaller">

<table style="text-align:center">

<tr>

<td colspan="3" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td colspan="2">

<em>Dependent variable:</em>

</td>

</tr>

<tr>

<td>

</td>

<td colspan="2" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td colspan="2">

log(sales)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(1)

</td>

<td>

(2)

</td>

</tr>

<tr>

<td colspan="3" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

log(price)

</td>

<td>

-3.139<sup>***</sup>

</td>

<td>

-3.378<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.023)

</td>

<td>

(0.036)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

brandminute.maid

</td>

<td>

0.870<sup>***</sup>

</td>

<td>

0.888<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.013)

</td>

<td>

(0.042)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

brandtropicana

</td>

<td>

1.530<sup>***</sup>

</td>

<td>

0.962<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.016)

</td>

<td>

(0.046)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

log(price):brandminute.maid

</td>

<td>

</td>

<td>

0.057

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

(0.057)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

log(price):brandtropicana

</td>

<td>

</td>

<td>

0.666<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

(0.054)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td colspan="3" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

Observations

</td>

<td>

28,947

</td>

<td>

28,947

</td>

</tr>

<tr>

<td style="text-align:left">

R<sup>2</sup>

</td>

<td>

0.394

</td>

<td>

0.398

</td>

</tr>

<tr>

<td style="text-align:left">

Adjusted R<sup>2</sup>

</td>

<td>

0.394

</td>

<td>

0.398

</td>

</tr>

<tr>

<td style="text-align:left">

Residual Std. Error

</td>

<td>

0.794 (df = 28943)

</td>

<td>

0.791 (df = 28941)

</td>

</tr>

<tr>

<td style="text-align:left">

F Statistic

</td>

<td>

6,275.074<sup>***</sup> (df = 3; 28943)

</td>

<td>

3,823.404<sup>***</sup> (df = 5; 28941)

</td>

</tr>

<tr>

<td colspan="3" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

<em>Note:</em>

</td>

<td colspan="2" style="text-align:right">

<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01

</td>

</tr>

</table>

</article></slide><slide class=""><hgroup><h2>Regression lines</h2></hgroup><article  id="regression-lines-1">

<pre class = 'prettyprint lang-r'>ggplot(data = oj, aes(x = log(price), y = log(sales), 
                      color = brand )) +
  geom_point(size = .75, alpha = 0.25) +
  geom_smooth(method = lm, se=FALSE)</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-14-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Advertisement effect</h2></hgroup><article  id="advertisement-effect">

<ul>
<li><p>How does consumer price sensitivity change with advertisement?</p>

<ul>
<li>In a brand-specific manner?</li>
</ul></li>
</ul>

<p> </p>

<ul>
<li>The new regression model can be written as:</li>
</ul>

<center>

\(\log(\texttt{sales}) = \alpha_{\texttt{brand,feat}} + \beta_{\texttt{brand,feat}}\log(\texttt{price}) + \epsilon\)

</center>

<p> </p>

<ul>
<li>Here \(\beta_{\texttt{brand}}\) measures the brand-feat-specific price elasticity:</li>
</ul>

<center>

\(\beta_{\texttt{brand,feat}} = \hspace{.3cm}(\hspace{.1cm} \beta_{\texttt{d,no_ad}}1_{\texttt{[brand=dominicks]}}+\beta_{\texttt{m,no_ad}}1_{\texttt{[brand=minutemaid]}}\\\hspace{3cm}+\beta_{\texttt{t,no_ad}}1_{\texttt{[brand=tropicana]}}\hspace{.1cm})\times1_{\texttt{[feat=0]}}\\ \hspace{2cm} + (\hspace{.1cm}\beta_{\texttt{d,ad}}1_{\texttt{[brand=dominicks]}}+\beta_{\texttt{m,ad}}1_{\texttt{[brand=minutemaid]}}\\\hspace{3cm}+\beta_{\texttt{t,ad}}1_{\texttt{[brand=tropicana]}}\hspace{.1cm})\times1_{\texttt{[feat=1]}}\)

</center>

</article></slide><slide class=""><hgroup><h2>Run the model</h2></hgroup><article  id="run-the-model-3">

<pre class = 'prettyprint lang-r'>reg_oj3 &lt;- lm(log(sales) ~ log(price)*brand*feat, 
             data=oj)
stargazer(reg_oj1, reg_oj2, reg_oj3, type = &quot;html&quot;, omit = c(&quot;Constant&quot;))</pre>

</article></slide><slide class=""><hgroup><h2>Result</h2></hgroup><article  id="result-1" class="smaller">

<table style="text-align:center">

<tr>

<td colspan="4" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td colspan="3">

<em>Dependent variable:</em>

</td>

</tr>

<tr>

<td>

</td>

<td colspan="3" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td colspan="3">

log(sales)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(1)

</td>

<td>

(2)

</td>

<td>

(3)

</td>

</tr>

<tr>

<td colspan="4" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

log(price)

</td>

<td>

-3.139<sup>***</sup>

</td>

<td>

-3.378<sup>***</sup>

</td>

<td>

-2.774<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.023)

</td>

<td>

(0.036)

</td>

<td>

(0.039)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

brandminute.maid

</td>

<td>

0.870<sup>***</sup>

</td>

<td>

0.888<sup>***</sup>

</td>

<td>

0.047

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.013)

</td>

<td>

(0.042)

</td>

<td>

(0.047)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

brandtropicana

</td>

<td>

1.530<sup>***</sup>

</td>

<td>

0.962<sup>***</sup>

</td>

<td>

0.708<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

(0.016)

</td>

<td>

(0.046)

</td>

<td>

(0.051)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

feat

</td>

<td>

</td>

<td>

</td>

<td>

1.094<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

(0.038)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

log(price):brandminute.maid

</td>

<td>

</td>

<td>

0.057

</td>

<td>

0.783<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

(0.057)

</td>

<td>

(0.061)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

log(price):brandtropicana

</td>

<td>

</td>

<td>

0.666<sup>***</sup>

</td>

<td>

0.736<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

(0.054)

</td>

<td>

(0.057)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

log(price):feat

</td>

<td>

</td>

<td>

</td>

<td>

-0.471<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

(0.074)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

brandminute.maid:feat

</td>

<td>

</td>

<td>

</td>

<td>

1.173<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

(0.082)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

brandtropicana:feat

</td>

<td>

</td>

<td>

</td>

<td>

0.785<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

(0.099)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

log(price):brandminute.maid:feat

</td>

<td>

</td>

<td>

</td>

<td>

-1.109<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

(0.122)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td style="text-align:left">

log(price):brandtropicana:feat

</td>

<td>

</td>

<td>

</td>

<td>

-0.986<sup>***</sup>

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

(0.124)

</td>

</tr>

<tr>

<td style="text-align:left">

</td>

<td>

</td>

<td>

</td>

<td>

</td>

</tr>

<tr>

<td colspan="4" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

Observations

</td>

<td>

28,947

</td>

<td>

28,947

</td>

<td>

28,947

</td>

</tr>

<tr>

<td style="text-align:left">

R<sup>2</sup>

</td>

<td>

0.394

</td>

<td>

0.398

</td>

<td>

0.535

</td>

</tr>

<tr>

<td style="text-align:left">

Adjusted R<sup>2</sup>

</td>

<td>

0.394

</td>

<td>

0.398

</td>

<td>

0.535

</td>

</tr>

<tr>

<td style="text-align:left">

Residual Std. Error

</td>

<td>

0.794 (df = 28943)

</td>

<td>

0.791 (df = 28941)

</td>

<td>

0.695 (df = 28935)

</td>

</tr>

<tr>

<td style="text-align:left">

F Statistic

</td>

<td>

6,275.074<sup>***</sup> (df = 3; 28943)

</td>

<td>

3,823.404<sup>***</sup> (df = 5; 28941)

</td>

<td>

3,031.232<sup>***</sup> (df = 11; 28935)

</td>

</tr>

<tr>

<td colspan="4" style="border-bottom: 1px solid black">

</td>

</tr>

<tr>

<td style="text-align:left">

<em>Note:</em>

</td>

<td colspan="3" style="text-align:right">

<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01

</td>

</tr>

</table>

</article></slide><slide class=""><hgroup><h2>Regression lines</h2></hgroup><article  id="regression-lines-2">

<pre class = 'prettyprint lang-r'>ggplot(data = oj, aes(x = log(price), y = log(sales), color = brand )) +
  geom_point(size = .75, alpha = 0.25) +
  geom_smooth(method=lm) +
  facet_grid( . ~ feat, labeller = as_labeller(feat_names))</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-18-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Price elasticities of OJ</h2></hgroup><article  class="font" size="1" id="price-elasticities-of-oj">

<table class = 'rmdtable'>
<tr class="header">
<th align="left"></th>
<th align="right">dominicks</th>
<th align="right">minute.maid</th>
<th align="right">tropicana</th>
</tr>
<tr class="odd">
<td align="left">Model 1</td>
<td align="right">-3.1</td>
<td align="right">-3.1</td>
<td align="right">-3.1</td>
</tr>
<tr class="even">
<td align="left">Model 2</td>
<td align="right">-3.4</td>
<td align="right">-3.3</td>
<td align="right">-2.7</td>
</tr>
<tr class="odd">
<td align="left">Model 3 w/ no ad</td>
<td align="right">-2.8</td>
<td align="right">-2.0</td>
<td align="right">-2.0</td>
</tr>
<tr class="even">
<td align="left">Model 3 w/ ad</td>
<td align="right">-3.2</td>
<td align="right">-3.6</td>
<td align="right">-3.5</td>
</tr>
</table>

<p> </p>

<ul>
<li><p>Which model is better?</p>

<ul>
<li><p>Which model is more realistic?</p></li>
<li><p>Why does being featured always lead to more price sensitivity?</p></li>
</ul></li>
</ul>

</article></slide><slide class=""><hgroup><h2>The relationship between ad and brand</h2></hgroup><article  id="the-relationship-between-ad-and-brand">

<pre class = 'prettyprint lang-r'>ggplot(data = salestable) +
  geom_bar(mapping = aes(x = factor(feat), y = sales_prop, 
                         fill = brand), stat = &quot;identity&quot;) + 
  xlab(&quot;feat&quot;) + ylab(&quot;proportion of sales&quot;) +
  scale_x_discrete(breaks=c(0, 1), labels=c(&quot;no ad&quot;, &quot;ad&quot;))</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-21-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Residual plot and model fit</h2></hgroup><article  id="residual-plot-and-model-fit">

<ul>
<li><p>Which model is better?</p>

<ul>
<li><p>On average, are the predictions correct?</p></li>
<li><p>Are there systematic errors in prediction?</p></li>
</ul></li>
</ul>

</article></slide><slide class=""><hgroup><h2>Residual plot for model 1</h2></hgroup><article  id="residual-plot-for-model-1">

<pre class = 'prettyprint lang-r'># Residual plot 1
ggplot(data = oj, aes(x = predLogSales1, y = log(sales) - predLogSales1 )) +
  geom_point(alpha = 0.2, color = &quot;orange&quot;) + geom_smooth(color = &quot;darkblue&quot;) +
  geom_line(aes(x = predLogSales1, y = 0), color = &quot;red&quot;, linetype = 2) +
  xlab(&quot;prediction&quot;) + ylab(&quot;residual error (actual - prediction)&quot;)</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-23-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Residual plot for model 2</h2></hgroup><article  id="residual-plot-for-model-2">

<pre class = 'prettyprint lang-r'># Residual plot 2
ggplot(data = oj, aes(x = predLogSales2, y = log(sales) - predLogSales2 )) +
  geom_point(alpha = 0.2, color = &quot;orange&quot;) + geom_smooth(color = &quot;darkblue&quot;) +
  geom_line(aes(x = predLogSales2, y = 0), color = &quot;red&quot;, linetype = 2) +
  xlab(&quot;prediction&quot;) + ylab(&quot;residual error (actual - prediction)&quot;)</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-24-1.png" width="720" style="display: block; margin: auto;" /></p>

</article></slide><slide class=""><hgroup><h2>Residual plot for model 3</h2></hgroup><article  id="residual-plot-for-model-3">

<pre class = 'prettyprint lang-r'># Residual plot 3
ggplot(data = oj, aes(x = predLogSales3, y = log(sales) - predLogSales3 )) +
  geom_point(alpha = 0.2, color = &quot;orange&quot;) + geom_smooth(color = &quot;darkblue&quot;) +
  geom_line(aes(x = predLogSales3, y = 0), color = &quot;red&quot;, linetype = 2) +
  xlab(&quot;prediction&quot;) + ylab(&quot;residual error (actual - prediction)&quot;)</pre>

<p><img src="presentation_files/figure-html/unnamed-chunk-25-1.png" width="720" style="display: block; margin: auto;" /></p></article></slide>


  <slide class="backdrop"></slide>

</slides>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
