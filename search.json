[
  {
    "objectID": "quarto-ext/quarto-ext.html#image-right",
    "href": "quarto-ext/quarto-ext.html#image-right",
    "title": "letterbox slides",
    "section": ".image-right",
    "text": ".image-right\n\n\nWe can use the .image-right and .image-left classes to insert images in the background\nThese images will be placed behind most other content"
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#image-left",
    "href": "quarto-ext/quarto-ext.html#image-left",
    "title": "letterbox slides",
    "section": ".image-left",
    "text": ".image-left\n\n\n\n\nIt is therefore recommened that you use multiple columns to only have text on the background area"
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#section",
    "href": "quarto-ext/quarto-ext.html#section",
    "title": "letterbox slides",
    "section": "",
    "text": "background images"
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#setting-background-colors",
    "href": "quarto-ext/quarto-ext.html#setting-background-colors",
    "title": "letterbox slides",
    "section": "Setting background colors",
    "text": "Setting background colors\nyou can set your background as you normally would"
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#video-slide-title",
    "href": "quarto-ext/quarto-ext.html#video-slide-title",
    "title": "letterbox slides",
    "section": "Video Slide Title",
    "text": "Video Slide Title\nThis slides’s background video will play in a loop with audio muted."
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#slide-title",
    "href": "quarto-ext/quarto-ext.html#slide-title",
    "title": "letterbox slides",
    "section": "Slide Title",
    "text": "Slide Title"
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#further-modifying-theme",
    "href": "quarto-ext/quarto-ext.html#further-modifying-theme",
    "title": "letterbox slides",
    "section": "Further Modifying theme",
    "text": "Further Modifying theme\nIf you want to modify theme, you can specify the .scss my modifying the yaml to look like this\nformat: \n  letterbox-revealjs:\n    theme: [default, style.scss]"
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#modifying-letterbox-background",
    "href": "quarto-ext/quarto-ext.html#modifying-letterbox-background",
    "title": "letterbox slides",
    "section": "Modifying letterbox background",
    "text": "Modifying letterbox background\nThe background colors can be with with, where #444444 represents the new background color and #222222 represents the color of the shadow\n.quarto-light {\n  background-color: #444444;\n}\n\n.quarto-dark {\n  background-color: #444444;\n}\n\n.slides {\n  box-shadow: #222222 0px 0px 30px 0px;\n}"
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#quarto",
    "href": "quarto-ext/quarto-ext.html#quarto",
    "title": "letterbox slides",
    "section": "Quarto",
    "text": "Quarto\nQuarto enables you to weave together content and executable code into a finished presentation. To learn more about Quarto presentations see https://quarto.org/docs/presentations/."
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#bullets",
    "href": "quarto-ext/quarto-ext.html#bullets",
    "title": "letterbox slides",
    "section": "Bullets",
    "text": "Bullets\nWhen you click the Render button a document will be generated that includes:\n\nContent authored with markdown\nOutput from executable code"
  },
  {
    "objectID": "quarto-ext/quarto-ext.html#code",
    "href": "quarto-ext/quarto-ext.html#code",
    "title": "letterbox slides",
    "section": "Code",
    "text": "Code\nWhen you click the Render button a presentation will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n\n[1] 2"
  },
  {
    "objectID": "ex/econ340-feedback-aman-dominic-reo.html",
    "href": "ex/econ340-feedback-aman-dominic-reo.html",
    "title": "ECON 340: Team Project",
    "section": "",
    "text": "The proposal presents a compelling and relevant research topic for international cooperation on climate change.\nI would suggest you guys to incorporate the Carbon Border Adjustment Mechanism (CBAM)."
  },
  {
    "objectID": "ex/econ340-feedback-aman-dominic-reo.html#sweden",
    "href": "ex/econ340-feedback-aman-dominic-reo.html#sweden",
    "title": "ECON 340: Team Project",
    "section": "Sweden",
    "text": "Sweden\n\nSweden Consumer\nGiven the Sweden’s income ( \\(Y_{S}\\) ), the price of a Sweden good in Sweden ( \\(p_{S}\\) ), and the price of an Indian good in Sweden ( \\(\\tilde{p}_{I}\\) ), Sweden Consumer maximizes her utility: \\[\n\\begin{align}\n\\max_{q_{S}, \\tilde{q}_{I}}\\;U_{S} = Y_{S} - p_{S}q_{S} - \\tilde{p}_{I}\\tilde{q}_{I} + V_{SS}(q_{S}) + V_{SI}(\\tilde{q}_{I})\n\\end{align}\n\\]\n\n\nSweden Producer\nGiven the price of a Sweden good in Sweden ( \\(p_{S}\\) ) and the price of a Sweden good in India ( \\(\\tilde{p}_{S}\\) ), Sweden Producer maximizes her profit: \\[\n\\begin{align}\n\\max_{q_{S}, \\tilde{q}_{S}}\\;\\Pi_{S} = p_{S}q_{S} + \\tilde{p}_{S}\\tilde{q}_{S} - C_{S}( q_{S} + \\tilde{q}_{S} )\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-aman-dominic-reo.html#india",
    "href": "ex/econ340-feedback-aman-dominic-reo.html#india",
    "title": "ECON 340: Team Project",
    "section": "India",
    "text": "India\n\nIndian Consumer\nGiven the India’s income ( \\(Y_{I}\\) ), the price of an Indian good in India ( \\(p_{I}\\) ), and the price of a Sweden good in India ( \\(\\tilde{p}_{S}\\) ), Indian Consumer maximizes his utility:\n\\[\n\\begin{align}\n\\max_{q_{I}, \\tilde{q}_{S}}\\;U_{I} = Y_{I} - p_{I}q_{I} - \\tilde{p}_{S}\\tilde{q}_{S} + V_{II}(q_{I}) + V_{IS}(\\tilde{q}_{S})\n\\end{align}\n\\]\n\n\nIndian Producer\nGiven the price of an India good in India ( \\(p_{I}\\) ) and the price of an Indian good in Sweden ( \\(\\tilde{p}_{I}\\) ), Indian Producer maximizes her profit: \\[\n\\begin{align}\n\\max_{q_{I}, \\tilde{q}_{I}}\\;\\Pi_{I} = p_{I}q_{I} + \\tilde{p}_{I}\\tilde{q}_{I} - C_{I}( q_{I} + \\tilde{q}_{I} )\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-aman-dominic-reo.html#social-planner-a-global-version",
    "href": "ex/econ340-feedback-aman-dominic-reo.html#social-planner-a-global-version",
    "title": "ECON 340: Team Project",
    "section": "Social Planner, a global version",
    "text": "Social Planner, a global version\nThe Social Planner allocates Sweden/Indian goods in Sweden/India maximizes the social welfare, taking into account the climate damages in Sweden and India\n\\[\n\\begin{align}\n\\max_{q_{S}, \\tilde{q}_{S}, q_{I}, \\tilde{q}_{I}}\\; SW &= U_{S} + U_{I} + \\Pi_{S} + \\Pi_{I} - (D_{S} + D_{I})\\\\\n&=\\; Y_{S} + Y_{I}\\\\&\\quad + V_{SS}(q_{S}) + V_{SI}(\\tilde{q}_{I}) + V_{II}(q_{I}) + V_{IS}(\\tilde{q}_{S})\\\\&\\quad - C_{S}( q_{S} + \\tilde{q}_{S} )  - C_{I}( q_{I} + \\tilde{q}_{I} )\\\\&\\quad - D_{S}(q_{S} + \\tilde{q}_{S} + q_{I} + \\tilde{q}_{I}) - D_{I}(q_{S} + \\tilde{q}_{S} + q_{I} + \\tilde{q}_{I})\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-aman-dominic-reo.html#task-1---globally-optimal-resource-allocations",
    "href": "ex/econ340-feedback-aman-dominic-reo.html#task-1---globally-optimal-resource-allocations",
    "title": "ECON 340: Team Project",
    "section": "Task 1 - Globally optimal resource allocations",
    "text": "Task 1 - Globally optimal resource allocations\n\nDerive the first order conditions for the Social Planner’s maximization problem, which characterizes the globally optimal resource allocations \\(\\left(\\,\\left\\{q_{S}^{o}, \\tilde{q}_{S}^{o}, q_{I}^{o}, \\tilde{q}_{I}^{o}\\right\\}\\,\\right)\\) and determine the globally optimal carbon tax."
  },
  {
    "objectID": "ex/econ340-feedback-aman-dominic-reo.html#task-2---markets-under-the-local-carbon-tax-system",
    "href": "ex/econ340-feedback-aman-dominic-reo.html#task-2---markets-under-the-local-carbon-tax-system",
    "title": "ECON 340: Team Project",
    "section": "Task 2 - Markets under the Local Carbon Tax System",
    "text": "Task 2 - Markets under the Local Carbon Tax System\n\nLet \\(t_{SS}\\) denote Swedish Government’s carbon tax imposed on goods produced by Sweden Producer ( \\(q_{S}\\) and \\(\\tilde{q}_{S}\\) ).\nLet \\(t_{II}\\) denote Indian Government’s carbon tax imposed on goods produced by Indian Producer ( \\(q_{I}\\) and \\(\\tilde{q}_{I}\\) ).\nUnder the local carbon tax, consider the markets for the following four goods:\n\nA Sweden good being sold in Sweden ( \\(q_{S}\\) )\nAn Indian good being sold in Sweden ( \\(\\tilde{q}_{I}\\) )\nAn Indian good being sold in India ( \\(q_{I}\\) )\nA Sweden good being sold in India ( \\(\\tilde{q}_{S}\\) )\n\nDerive the demand and supply curves for each market using the first-order conditions for the Consumers’ and the Producers’ problems under the local carbon tax.\nDraw the linear demand and supply functions, assuming the quadratic form of utility and cost functions.\nDescribe how the carbon taxes shift the supply functions."
  },
  {
    "objectID": "ex/econ340-feedback-aman-dominic-reo.html#task-3---optimal-carbon-tax",
    "href": "ex/econ340-feedback-aman-dominic-reo.html#task-3---optimal-carbon-tax",
    "title": "ECON 340: Team Project",
    "section": "Task 3 - Optimal Carbon Tax",
    "text": "Task 3 - Optimal Carbon Tax\n\nTo achieve the globally optimal resource allocations \\(\\left(\\,\\left\\{q_{S}^{o}, \\tilde{q}_{S}^{o}, q_{I}^{o}, \\tilde{q}_{I}^{o}\\right\\}\\,\\right)\\), what rate of carbon taxes should each government set?"
  },
  {
    "objectID": "ex/econ340-feedback-aman-dominic-reo.html#task-4---hypothetical-scenario",
    "href": "ex/econ340-feedback-aman-dominic-reo.html#task-4---hypothetical-scenario",
    "title": "ECON 340: Team Project",
    "section": "Task 4 - Hypothetical Scenario",
    "text": "Task 4 - Hypothetical Scenario\n\nSuppose the Sweden government imposes the optimal carbon tax that internalizes the global climate damage ( \\(D = D_{S} + D_{I}\\) ), while the Indian government imposes the locally optimal carbon tax that internalizes only the local climate damage ( \\(D_{I}\\) ).\nDesign the CBAM that the Sweden government induces the Indian Producer to produce the globally optimal level of the good being sold in Sweden.\n\nThat is, for the Sweden government to impose tariff \\((\\,t_{SI}\\,)\\) on Indian goods being sold in Sweden."
  },
  {
    "objectID": "ex/danl200-hw-1-a.html",
    "href": "ex/danl200-hw-1-a.html",
    "title": "B.H. CHOE",
    "section": "",
    "text": "Complete the following survey:\n\nhttps://forms.gle/Ya2HbPgHynkAp5e28"
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q2a.",
    "href": "ex/danl200-hw-1-a.html#q2a.",
    "title": "B.H. CHOE",
    "section": "Q2a.",
    "text": "Q2a.\n\nDownload the CSV file, starwars.csv, from the Brightspace.\nRead the data file, starwars.csv, as the data.frame object with the name, starwars, using (1) the read_csv() function and (2) the absolute path name of the file starwars.csv from your local hard disk drive in your laptop.\n\nAnswer:\n\nlibrary(tidyverse)\npath_name <- \"/Users/bchoe/My Drive/suny-geneseo/teaching-materials/lecture-data/starwars.csv\"\nstarwars <- read_csv(path_name)\n\nRows: 173 Columns: 12\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (9): films, name, species, hair_color, skin_color, eye_color, sex, gende...\ndbl (3): height, mass, birth_year\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#variable-description-for-starwars-data.frame",
    "href": "ex/danl200-hw-1-a.html#variable-description-for-starwars-data.frame",
    "title": "B.H. CHOE",
    "section": "Variable Description for starwars data.frame",
    "text": "Variable Description for starwars data.frame\nThe following describes the variables in the starwars data.frame.\n\nfilms List of films the character appeared in\nname Name of the character\nspecies Name of species\nheight Height (cm)\nmass Weight (kg)\nhair_color, skin_color, eye_color Hair, skin, and eye colors\nbirth_year Year born (BBY = Before Battle of Yavin)\nsex The biological sex of the character, namely male, female, hermaphroditic, or none (as in the case for Droids).\ngender The gender role or gender identity of the character as determined by their personality or the way they were programmed (as in the case for Droids).\nhomeworld Name of homeworld"
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q2b.",
    "href": "ex/danl200-hw-1-a.html#q2b.",
    "title": "B.H. CHOE",
    "section": "Q2b.",
    "text": "Q2b.\n\nProvide the R code to find how many characters are Droid species.\n\nAnswer:\n\nlibrary(skimr)\n\n# The following gives not only Droid but also NA\n# q2a <- starwars[starwars$species == 'Droid', ]\n\ndroid <- which(starwars$species == 'Droid')\nq2a <- starwars[droid,]\n\nnrow(\n  q2a\n)\n\n[1] 18\n\n\n\nlibrary(skimr)\n\n# The following gives not only Droid but also NA\n# q2a <- starwars[starwars$species == 'Droid', ]\n\ndroid <- which(starwars$species == 'Droid')\nq2a <- starwars[droid,]\n\nlength(unique(q2a$name))\n\n[1] 6"
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q2c.",
    "href": "ex/danl200-hw-1-a.html#q2c.",
    "title": "B.H. CHOE",
    "section": "Q2c.",
    "text": "Q2c.\n\nProvide the R code to find which Droid character did appear most in the Star Wars films.\n\nAnswer:\n\nq2b <- q2a[ , c('name','films')]\n\ntable(q2a$name)\n\n\n   BB8  C-3PO  IG-88  R2-D2 R4-P17  R5-D4 \n     1      6      1      7      2      1"
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q2d.",
    "href": "ex/danl200-hw-1-a.html#q2d.",
    "title": "B.H. CHOE",
    "section": "Q2d.",
    "text": "Q2d.\n\nProvide the R code to find the minimum, first quartile, median, third quartile, and the maximum of height.\n\nAnswer:\n\nskim(starwars$height)\n\n\nData summary\n\n\nName\nstarwars$height\n\n\nNumber of rows\n173\n\n\nNumber of columns\n1\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ndata\n6\n0.97\n171.31\n35.58\n66\n167\n178\n188\n264\n▂▁▇▅▁\n\n\n\n\n\n\n[Statistics] Explain why the median value is different from the mean value.\n\nWhen is the median value greater than the mean value?\nWhen is the median value less than the mean value?\n\n\nAnswer:\nIn statistics, the median and the mean are both measures of central tendency, but they are calculated differently and can have different properties. The median is the middle value in a data set when the numbers are all arranged in order, while the mean is the average of all the numbers.\n\nWhen is the Median Greater than the Mean?\nThe median is likely to be greater than the mean in a data set that is “skewed to the left” or “negatively skewed.” In such a data set, there are more low-value outliers pulling the mean down, while the median remains relatively unaffected.\n\nCharacteristics of a Left-Skewed Distribution:\n\nLong Tail on the Left: The distribution has a long tail on the left side.\nMean < Median: The mean is less than the median.\nOutliers on the Left: There are more low-value outliers.\n\n\n\n\nWhen is the Median Less than the Mean?\nThe median is likely to be less than the mean in a data set that is “skewed to the right” or “positively skewed.” In such a data set, there are more large-value outliers pulling the mean up, while the median remains relatively unaffected.\n\nCharacteristics of a Left-Skewed Distribution:\n\nLong Tail on the Right: The distribution has a long tail on the left side.\nMean > Median: The mean is greater than the median.\nOutliers on the Right: There are more large-value outliers."
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q2e.",
    "href": "ex/danl200-hw-1-a.html#q2e.",
    "title": "B.H. CHOE",
    "section": "Q2e.",
    "text": "Q2e.\n\nProvide the R code to find the number of unique/distinct homeworld values.\n\nAnswer:\n\nskim(starwars$homeworld)\n\n\nData summary\n\n\nName\nstarwars$homeworld\n\n\nNumber of rows\n173\n\n\nNumber of columns\n1\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\ndata\n15\n0.91\n4\n14\n0\n48\n0\n\n\n\n\nlength(unique(starwars$homeworld))\n\n[1] 49"
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q3a.",
    "href": "ex/danl200-hw-1-a.html#q3a.",
    "title": "B.H. CHOE",
    "section": "Q3a.",
    "text": "Q3a.\nProvide the R code to install the R package, gapminder.\nAnswer:\n\ninstall.packages(\"gapminder\")"
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q3b.",
    "href": "ex/danl200-hw-1-a.html#q3b.",
    "title": "B.H. CHOE",
    "section": "Q3b.",
    "text": "Q3b.\nLoad the gapminder data.frame provided by the R package, gapminder.\nAnswer:\n\nlibrary(gapminder)\ngapminder <- gapminder::gapminder\n# ?gapminder"
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#variable-description-for-gapminder-data.frame",
    "href": "ex/danl200-hw-1-a.html#variable-description-for-gapminder-data.frame",
    "title": "B.H. CHOE",
    "section": "Variable Description for gapminder data.frame",
    "text": "Variable Description for gapminder data.frame\n\nThe following describe the variables in the gapminder data.frame.\n\ncountry factor with 142 levels\ncontinent factor with 5 levels\nyear ranges from 1952 to 2007 in increments of 5 years\nlifeExp life expectancy at birth, in years\npop population\ngdpPercap GDP per capita (US$, inflation-adjusted)"
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q3c.",
    "href": "ex/danl200-hw-1-a.html#q3c.",
    "title": "B.H. CHOE",
    "section": "Q3c.",
    "text": "Q3c.\nProvide ggplot code and comments to describe the relationship between gdpPercap and lifeExp.\nAnswers\n\nggplot(data = gapminder) +\n  geom_point(mapping = aes(x = gdpPercap, y = lifeExp),\n             alpha = .15, size = .5) \n\n\n\nggplot(data = gapminder) +\n  geom_point(mapping = aes(x = log(gdpPercap), y = log(lifeExp)),\n             alpha = .15, size = .5) \n\n\n\n\n\ngdpPercap and lifeExp are positively associated."
  },
  {
    "objectID": "ex/danl200-hw-1-a.html#q3d.",
    "href": "ex/danl200-hw-1-a.html#q3d.",
    "title": "B.H. CHOE",
    "section": "Q3d.",
    "text": "Q3d.\nProvide ggplot code and comments to describe how the relationship between gdpPercap and lifeExp varies by continent.\nAnswers\n\nggplot(data = gapminder) +\n  geom_point(mapping = aes(x = gdpPercap, y = lifeExp,\n                           color = continent),\n             alpha = .15, size = .5) \n\n\n\nggplot(data = gapminder) +\n  geom_point(mapping = aes(x = log(gdpPercap), y = log(lifeExp),\n                           color = continent),\n             alpha = .15, size = .5) \n\n\n\nggplot(data = gapminder) +\n  geom_point(mapping = aes(x = gdpPercap, y = lifeExp,\n                           color = continent),\n             alpha = .3, size = .5) +\n  facet_wrap(. ~ continent)\n\n\n\nggplot(data = gapminder) +\n  geom_point(mapping = aes(x = log(gdpPercap), y = log(lifeExp),\n                           color = continent),\n             alpha = .3, size = .5) +\n  facet_wrap(. ~ continent) \n\n\n\nggplot(data = gapminder,\n       mapping = aes(x = log(gdpPercap), y = log(lifeExp)\n                     )\n       ) +\n  geom_point(mapping = aes(color = continent),\n            alpha = .4, size = .5) +\n  geom_smooth() +\n  geom_smooth(method = lm,\n              color = 'red') +\n  facet_grid(. ~ continent) \n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\ngdpPercap and lifeExp are positively associated.\n\nThis does hold across continent."
  },
  {
    "objectID": "ex/danl399-cw-1.html",
    "href": "ex/danl399-cw-1.html",
    "title": "DANL 399: Classwork 1 - Data Visualization",
    "section": "",
    "text": "Revisit the gapminder plots and experiment with different ways to facet the data.\nTry plotting population and per capita GDP while faceting on year, or even on country.\nExperiment changing the height and width of the figure.\n\n\n\n\n\n\nInvestigate the difference between a formula written as facet_grid(sex ~ race) versus one written as facet_grid(~ sex + race) using the socviz::gss_sm data.frame.\n\n\n\n\n\n\nThe geom_bin2d() function takes two mappings, x and y.\n\nIt divides your plot into a grid and colors the bins by the count of observations in them.\n\nTry using it on the gapminder data to plot life expectancy versus per capita GDP.\n\nLike a histogram, we can vary the number or width of the bins for both x or y, (e.g., bins = c(20, 50)).\nIf we specify bindwith instead, we will need to pick values that are on the same scale as the variable we are mapping."
  },
  {
    "objectID": "ex/econ340-exam-1.html",
    "href": "ex/econ340-exam-1.html",
    "title": "ECON 340: Envrionmental Economics Midterm Exam 1",
    "section": "",
    "text": "Let’s consider a Public Goods Game with deforestation.\n\n\nA village is located near a dense forest. The forest provides essential resources to the village, such as wood for fuel, fruits, and medicinal herbs. However, the forest also acts as a carbon sink, absorbing carbon dioxide and helping to regulate the climate. If too many trees are cut down, not only will the forest’s resources be depleted, but the local climate may also become more unstable, leading to long-term consequences for the village.\n\n\n\n\nPlayers: Each player represents a household in the village. Every household relies on the forest for resources but also understands the long-term benefits of conservation.\nInitial Endowment: Each household starts with 100 units of currency.\nDecision: Each round, households decide how many trees to cut down. Each tree cut down gives immediate benefits (e.g., 10 units of currency per tree). However, if the total number of trees cut by all households exceeds a certain threshold, the forest will degrade, leading to negative consequences for all players in subsequent rounds.\nPublic Pot: Instead of cutting trees, households can choose to contribute some of their currency to a public pot, which represents a community fund for forest conservation and sustainable resource management.\nMultiplication and Distribution: At the end of each round, contributions to the public pot are used for reforestation and sustainable initiatives. For every unit of currency in the pot, the community fund plants new trees or invests in sustainable practices, multiplying the pot’s value by a factor 1.5. The benefits (like a stable climate, continued access to forest resources) are then equally distributed among all households, irrespective of individual contributions.\n\nSuppose there are four households. In the first round:\n\nHousehold A cuts 3 trees, earning 30 units.\nHousehold B cuts 2 trees, earning 20 units, and contributes 20 units to the public pot.\nHousehold C cuts 0 trees (choosing conservation) and contributes 50 units to the public pot.\nHousehold D cuts 4 trees, earning 40 units.\n\n\n\nWhat is the total contribution to the public pot in the first round?\n\n\n\n\nHow much units of\n\n\n\n\n\n\n\n\n\nThe total contribution to the public pot is (20 + 50 = 70) units. This amount is multiplied by 1.5 (for reforestation efforts), resulting in 105 units of environmental benefit distributed equally among the households.\n\n\n\n\nIf too many trees are cut collectively, the forest degrades, leading to reduced benefits in subsequent rounds.\nHouseholds face the dilemma of gaining immediate benefits from cutting trees versus the long-term communal benefits of conservation.\nThe game illustrates the tension between individual short-term gains and collective long-term benefits, mirroring real-world environmental challenges like deforestation, overfishing, and pollution.\n\nThis game can be used to study how communities balance immediate needs with long-term sustainability and the factors that influence cooperative behavior in environmental conservation."
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html",
    "href": "ex/econ340-midterm-1-q.html",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "",
    "text": "I solemnly swear that I will not cheat or engage in any form of academic dishonesty during this exam.\nI will not communicate with other students or use unauthorized materials.\nI will uphold the integrity of this exam and demonstrate my own knowledge and abilities.\nBy taking this pledge, I acknowledge that academic dishonesty undermines the academic process and is a violation of the trust placed in me as a student.\nI accept the consequences of any violation of this promise.\n\nStudent’s Name:\nStudent’s ID:\nStudent’s Signature:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1a.",
    "href": "ex/econ340-midterm-1-q.html#q1a.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1a.",
    "text": "Q1a.\nWho will win or share Nobel Prize in Economic Science this year?\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1b.",
    "href": "ex/econ340-midterm-1-q.html#q1b.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1b.",
    "text": "Q1b.\n\n include tomatoes, VCRs and basketball shoes.  include clean air, charitable deeds, and the view from a mountain top."
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1c.",
    "href": "ex/econ340-midterm-1-q.html#q1c.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1c.",
    "text": "Q1c.\n\nProponents of a  standard argue that people have a right to protection from unsolicited damage to their health."
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1d.",
    "href": "ex/econ340-midterm-1-q.html#q1d.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1d.",
    "text": "Q1d.\n\nBoth sources and sinks make up  : the inputs that nature provides for our production and consumption proccesses."
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1e.",
    "href": "ex/econ340-midterm-1-q.html#q1e.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1e.",
    "text": "Q1e.\n\nGovernment regulation of pollution is one way of  externalities."
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1f.",
    "href": "ex/econ340-midterm-1-q.html#q1f.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1f.",
    "text": "Q1f.\nWhat is the definition of Pareto efficieny?\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1g.",
    "href": "ex/econ340-midterm-1-q.html#q1g.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1g.",
    "text": "Q1g.\nWhat does Coase Theorem says?\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1h.",
    "href": "ex/econ340-midterm-1-q.html#q1h.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1h.",
    "text": "Q1h.\nWhat are the definitions of the willingness to pay (WTP) and the willingness to accept (WTA) for environmental quality?\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1i.",
    "href": "ex/econ340-midterm-1-q.html#q1i.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1i.",
    "text": "Q1i.\nA “tragedy of the commons” occurs for resources like the air that are commonly owned\n\nbecause users weigh the full social costs against private benefits.\nwhen there is free access to the resource.\nwhen there is effective regulation of resource use.\nwhen the population is small and stable.\nbecause users internalize the negative externality associated with the resource use."
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q1j.",
    "href": "ex/econ340-midterm-1-q.html#q1j.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1j.",
    "text": "Q1j.\n\nEconomists use survey approaches for measuring the benefits of environmental protections called . The four possible errors in these survey estimates are:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q2a.",
    "href": "ex/econ340-midterm-1-q.html#q2a.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q2a.",
    "text": "Q2a.\nDraw curves for (1) demand, (2) marginal private cost, and (3) marginal social cost.\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q2b.",
    "href": "ex/econ340-midterm-1-q.html#q2b.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q2b.",
    "text": "Q2b.\nWhat is the size of the social damage caused by the producer’s activity?\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q2c.",
    "href": "ex/econ340-midterm-1-q.html#q2c.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q2c.",
    "text": "Q2c.\n\nLet \\(T\\) denote the tax levied on each unit of the goods produced, and the regulatory authority decides to internalize social damage by this Pigouvian tax scheme.\n\nSolve the optimal value for \\(T\\).\nHow much is the tax revenue?\n\n\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q3a.",
    "href": "ex/econ340-midterm-1-q.html#q3a.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q3a.",
    "text": "Q3a.\nIn equilibrium, how much would each individual contribute to the fund?\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q3b.",
    "href": "ex/econ340-midterm-1-q.html#q3b.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q3b.",
    "text": "Q3b.\nUnder the efficiency standard, what is the social welfare function?\nAnswer:"
  },
  {
    "objectID": "ex/econ340-midterm-1-q.html#q3c.",
    "href": "ex/econ340-midterm-1-q.html#q3c.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q3c.",
    "text": "Q3c.\nWhat is the socially optimal level of \\(g_{i}\\), for which the Social Planner chooses?\nAnswer:"
  },
  {
    "objectID": "ex/econ340-hw-3.html",
    "href": "ex/econ340-hw-3.html",
    "title": "ECON 340: Homework Assignment 3",
    "section": "",
    "text": "The town of Geneseo has two residents: Ben and Tiana. The town currently funds its sustainability department solely from the individual contributions of Ben and Tiana.\nBen and Tiana have their own utility functions, \\(U_{B}\\) and \\(U_{T}\\) respectively, over private goods ( \\(X\\) ) and total sustainability workers ( \\(M\\) ) of the forms:\n\\[U_{B} = 3 × \\log(X_{B}) + 3 × \\log(M).\\] \\[U_{T} = 4 × \\log(X_{T}) + 2 × \\log(M).\\]\nThe total provision of sustainability workers hired, \\(M\\), is the sum of the number hired by each of the two persons:\n\\[M = M_{B} + M_{T}.\\]\nBen and Tiana both have income of \\(\\$100\\), and the price of both the private good and the sustainability worker is \\(\\$1\\). Therefore, they are limited to providing between 0 and 100 sustainability workers.\n\n\n\n\nHow many sustainability workers are hired if the Geneseo government does not intervene?\n\nHow many are paid for by Ben? By Tiana?\nDescribe the Ben’s and the Tiana’s decisions on provision of sustainability workers using a graph in the \\((M_{B}, M_{T})\\) space.\n\n\n\n\n\n\n\nWhat is the socially optimal number of sustainability workers if the Social planner appreciates each individual’s budget constraint?\n\n\n\n\n\n\nIf your answer in Q1b differs from Q1a, explain economically and intuitively why they are different."
  },
  {
    "objectID": "ex/econ340-hw-3.html#q2a.",
    "href": "ex/econ340-hw-3.html#q2a.",
    "title": "ECON 340: Homework Assignment 3",
    "section": "Q2a.",
    "text": "Q2a.\n\nWhat is your estimate of the “value of a statistical life” (VSL)?\n\nWhat does this VSL mean?"
  },
  {
    "objectID": "ex/econ340-hw-3.html#q2b.",
    "href": "ex/econ340-hw-3.html#q2b.",
    "title": "ECON 340: Homework Assignment 3",
    "section": "Q2b.",
    "text": "Q2b.\n\nWhy might this VSL value be a poor estimate of the value placed on lives saved from pollution reduction? (Three reasons)"
  },
  {
    "objectID": "ex/danl200-hw-2.html",
    "href": "ex/danl200-hw-2.html",
    "title": "DANL 200: Homework Assignment 2",
    "section": "",
    "text": "Read the data file, custdata_rev.csv, as the data.frame object with the name, health_cust:\n\nlibrary(tidyverse)\nlibrary(skimr)\n\nhealth_cust <- read_csv(\n  'https://bcdanl.github.io/data/custdata_rev.csv'\n)\n\n\n\nThe following describes the variables in the health_cust data.frame.\n\ncustid: ID of customer\nsex: Sex\nis_employed: Employment status\n\nNA: Unknown or not applicable\nTRUE: Employed\nFALSE: Unemployed\n\nincome: Income (in $)\nmarital_status: Marital status\nhousing_type: Housing type\nrecent_move:\n\nTRUE: Recently moved\nFALSE: Not recently moved\n\nage: Age\nstate_of_res: State of residence\ngas_usage: Gas usage\n\nNA: Unknown or not applicable\n001: Included in rent or condo fee\n002: Included in electricity payment\n003: No charge or gas not used\n004-999: $4 to $999 (rounded and top-coded)\n\nhealth_ins: Health insuarance status\n\nTRUE: customer with health insuarance\nFALSE: customer without health insuarance\n\n\n\n\n\n\nReport summary statistics including a mean value for each logical variable in health_cust.\n\n\n\n\nUse health_cust data.frame to create a new data.frame, health_cust2, in which (1) age is greater than 0 and less than 100; and (2) income is positive.\n\n\n\n\nProvide ggplot code and comments to describe the distribution of income.\n\n\n\n\nProvide ggplot code and comments to describe the distribution of marital_status.\n\n\n\n\nSuppose you randomly pick one customer’s observation from each state in data.frame health_cust.\nUse ggplot code to find: (1) in which state a customer is most likely to have a health insurance; and (2) in which state a customer is least likely to have a health insurance.\n\n\n\n\nProvide ggplot code and comments to describe the relationship between age and income.\n\n\n\n\nProvide ggplot code and comments to describe the relationship between age and health_ins.\n\n\n\n\nProvide ggplot code and comments to describe the relationship between marital_status and health_ins.\n\n\n\n\nProvide ggplot code and comments to describe the relationship between marital_status and housing_type."
  },
  {
    "objectID": "ex/danl200-hw-3.html",
    "href": "ex/danl200-hw-3.html",
    "title": "DANL 200: Homework Assignment 3",
    "section": "",
    "text": "Load the data.frame for Question 1.\n\nrestaurant <- read_csv('https://bcdanl.github.io/data/DOHMH_NYC_Restaurant_Inspection.csv')\n\n\n\n\n\n  \n\n\n\n\n\n\nCAMIS:\n\nThis is an unique identifier for the entity (restaurant);\n10-digit integer\n\nDBA:\n\nThis field represents the name (doing business as) of the entity (restaurant);\nPublic business name, may change at discretion of restaurant owner\n\nBORO:\n\nBorough in which the entity (restaurant) is located.;\n• 1 = MANHATTAN\n• 2 = BRONX\n• 3 = BROOKLYN\n• 4 = QUEENS\n• 5 = STATEN ISLAND\n• 0 = Missing;\n\nCUISINE DESCRIPTION:\n\nThis field describes the entity (restaurant) cuisine.\n\nACTION:\n\nThis field represents the actions that is associated with each restaurant inspection. ;\n• Violations were cited in the following area(s).\n• No violations were recorded at the time of this inspection.\n• Establishment re-opened by DOHMH\n• Establishment re-closed by DOHMH\n• Establishment Closed by DOHMH.\n• Violations were cited in the following area(s) and those requiring immediate action were addressed.\n\nVIOLATION CODE:\n\nViolation code associated with an establishment (restaurant) inspection\n\nVIOLATION DESCRIPTION:\n\nViolation description associated with an establishment (restaurant) inspection\n\nCRITICAL FLAG:\n\nIndicator of critical violation;\n• Critical\n• Not Critical\n• Not Applicable;\nCritical violations are those most likely to contribute to food-borne illness\n\nSCORE:\n\nTotal score for a particular inspection;\n\nGRADE:\n\nGrade associated with the inspection;\n• N = Not Yet Graded\n• A = Grade A\n• B = Grade B\n• C = Grade C\n• Z = Grade Pending\n• P = Grade Pending issued on re-opening following an initial inspection that resulted in a closure\n\n\n\n\n\n\nWhat are the mean, standard deviation, first quartile, median, third quartile, and maximum of SCORE for each GRADE of restaurants?\n\nrestaurant %>% group_by(GRADE) %>% skim(SCORE) %>% select(-n_missing)\n\n\nData summary\n\n\nName\nPiped data\n\n\nNumber of rows\n17633\n\n\nNumber of columns\n12\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nGRADE\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nGRADE\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nSCORE\nA\n1\n9.26\n3.42\n0\n7\n10\n12\n13\n▁▂▂▅▇\n\n\nSCORE\nB\n1\n21.03\n4.16\n0\n18\n21\n24\n36\n▁▁▇▇▁\n\n\nSCORE\nC\n1\n38.56\n10.83\n0\n31\n36\n44\n86\n▁▇▇▂▁\n\n\n\n\n\n\n\n\n\n\nHow many restaurants with a GRADE of A are there in NYC?\nHow much percentage of restaurants in NYC are a GRADE of C?\n\n\nfreq <- as.data.frame( table(restaurant$GRADE) )\nprop <- as.data.frame( 100 * prop.table(table(restaurant$GRADE)) )\n\n\n\n\n\n  \n\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\nProvide both (1) ggplot code and (2) a simple comment to describe how the distribution of SCORE varies by GRADE and CRITICAL FLAG.\n\nBoxplots\n\n\nggplot(restaurant) +\n  geom_boxplot(aes(x = SCORE, y = GRADE, fill = GRADE) ) +\n  facet_grid( `CRITICAL FLAG` ~ . )\n\n\n\n\n\nHistograms\n\n\nggplot(restaurant) +\n  geom_histogram(aes(x = SCORE), binwidth = 1 ) +\n  facet_grid( `CRITICAL FLAG` ~ GRADE )\n\n\n\n\n\nHistograms with varying x- scale across facets\n\n\nggplot(restaurant) +\n  geom_histogram(aes(x = SCORE), binwidth = 1 ) +\n  facet_grid( `CRITICAL FLAG` ~ GRADE, scales = 'free_x' )\n\n\n\n\n\nHistograms with varying x- and y- scales across facets\n\n\nggplot(restaurant) +\n  geom_histogram(aes(x = SCORE), binwidth = 1 ) +\n  facet_wrap( `CRITICAL FLAG` ~ GRADE, scales = 'free' )\n\n\n\n\n\nMostly,\n\nThe values of SCORE for GRADE A ranges from 0 to 13.\nThe values of SCORE for GRADE B ranges 13 to 27.\nThe values of SCORE for GRADE C ranges 24 to 75.\n\nFor Not Critical type, two SCORE values around 1 and 12 are most common, while 12 is the single most common SCORE value for Critical type.\n\n\n\n\n\nProvide both (1) ggplot code and (2) a simple comment to describe how the proportion of CRITICAL FLAG varies by GRADE and BORO.\n\nggplot(restaurant) +\n  geom_bar(aes(x = `CRITICAL FLAG`,\n               y = after_stat(prop), group = 1)) +\n  facet_grid( GRADE ~ BORO )\n\n\n\n\n\nFor GRADE A, the probability distribution of CRITICAL FLAG are similar across BOROs.\nFor GRADE B, the restaurants in Staten Island are more likely to be Critical than in other BOROs.\nFor GRADE C, the restaurants in Bronx are more likely to be Critical than in other BOROs.\n\n\n\n\n\nFor the 10 most common CUISINE DESCRIPTION values, find the CUISINE DESCRIPTION value that has the highest proportion of GRADE A.\n\nq2e <- restaurant %>% \n  group_by(`CUISINE DESCRIPTION`) %>% \n  mutate(n = n()) %>% \n  ungroup() %>% \n  filter(dense_rank(-n) <= 10) %>% \n  group_by(`CUISINE DESCRIPTION`, GRADE) %>% \n  count() %>% \n  group_by(`CUISINE DESCRIPTION`) %>% \n  mutate(prop_A = n / sum(n)) %>% \n  filter(GRADE == 'A') %>% \n  arrange(-prop_A)\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\nFind the 3 most common names of restaurants (DBA) in each BORO.\n\nIf the third most common DBA values are multiple, please include all the DBA values.\n\nOverall, which DBA value is most common in NYC?\n\n\nq2f <- restaurant %>% \n  select(DBA, BORO) %>% \n  group_by(BORO, DBA) %>% \n  summarize(n = n()) %>% \n  mutate(ranking = dense_rank(-n)) %>% \n  filter(ranking <= 3) %>% \n  arrange(BORO, ranking)\n\nq2f_ <- restaurant %>% \n  group_by(DBA) %>% \n  count() %>% \n  arrange(-n)\n\n\n\n\n\n  \n\n\n\n\n\n  \n\n\n\n\nNote that chipotle mexican grill and subway are both the third most popular franchise/chain in Manhattan.\nOverall, dunkin is the most popular franchise/chain in NYC.\n\n\n\n\n\nFor all the DBA values that appear in the result of Q1f, find the DBA value that is most likely to commit critical violation.\n\nq2g <- restaurant %>% \n  filter(DBA %in% q2f$DBA) %>% \n  group_by(DBA, `CRITICAL FLAG`) %>% \n  count() %>% \n  group_by(DBA) %>% \n  mutate(lag_n = lag(n),\n         tot = sum(n),\n         prop_crit = lag_n / tot) %>% \n  select(DBA, prop_crit) %>% \n  filter(!is.na(prop_crit)) %>% \n  arrange(-prop_crit)\n\n\n\n\n\n  \n\n\n\n\nAmong popular franchises/chains, subway is most likely to commit Critical violation in NYC."
  },
  {
    "objectID": "ex/econ340-hw-2.html",
    "href": "ex/econ340-hw-2.html",
    "title": "ECON 340: Homework Assignment 2",
    "section": "",
    "text": "Consider a society with just two consumers. Consumer 1 can get positive utility from a positive amount of some activity \\(h\\) that she chooses the level of, but consumer 2 gets negative utility from that activity. We can think of \\(h\\) as some non-market good, for example, “hours” of loud music played by consumer 1, disturbing consumer 2’s peace and quiet. Consumer 1 therefore imposes a negative externality on consumer 2. Assume there is no other cost associated with the activity.\nAssume that both consumers gain utilities from consuming a numeraire good \\(x\\), whose price is 1, but may have different incomes \\(Y_{1}\\) and \\(Y_{2}\\).\n\nConsumer 1’s utility is \\(U_{1} = x_{1} + h(4-h)\\).\nConsumer 2’s utility is \\(U_{2} = x_{2} - h^{2}\\).\n\n\n\n\n\nSuppose that, instead of a tax or a subsidy, the government introduces a marketable-permit scheme.\n\nIt gives consumer 2 a bunch of pieces of paper called “permits,” each of which states that the holder of the permit has the legal right to “produce” one unit of \\(h\\).\nIt then allows consumer 2 to sell those permits to consumer 1 at some uniform price \\(p_{h}\\).\n\nAssume that the permit market is competitive.\n\nThis means that each consumer takes the price \\(p_{h}\\) as given.\nYou can think of each consumer as “representing” a large number of consumers of the same type.\n\nShow that the scheme will also achieve the socially optimal outcome \\(h^{o}\\).\n\n\n\n\n\n\nSame question as Q1e, but now the government introduces a marketable-permit scheme that gives a bunch of permits to consumer 1, and then gives consumer 2 an opportunity to buy them away from consumer 1 and “retire” them.\n\n\n\n\n\n\nSuppose that, instead of trying to intervene in the market, the government just passes a law giving consumer 2 a clearly defined right to have \\(h = 0\\) (e.g., it imposes a noise ordinance that forbids consumer 1 from playing loud music), but then allows consumer 1 to effectively “bribe” consumer 2 to give up some of that right (i.e., allow some music playing) in exchange for a lump-sum transfer \\(T\\).\nShow that this, too, will restore social optimality.\n\n\n\n\n\n\nSame question as Q1g, but now the government gives consumer 1 a clear legal right to \\(h^{*}\\) (i.e., in our example, a right to play as much loud music as she likes), and then allows consumer 2 to effectively “bribe” consumer 1 to give up some of that right (i.e., cut back on her music playing) in exchange for a lump-sum transfer \\(T\\)."
  },
  {
    "objectID": "ex/econ340-hw-2.html#q2a.",
    "href": "ex/econ340-hw-2.html#q2a.",
    "title": "ECON 340: Homework Assignment 2",
    "section": "Q2a.",
    "text": "Q2a.\n\nWhat amount is Amazon willing to pay (WTP) to expand the forest area to four times its current size?\nWhat compensation is Amazon willing to accept (WTA) to forego the “Quadrupling the Amazon Forest” project?"
  },
  {
    "objectID": "ex/econ340-hw-2.html#q2b.",
    "href": "ex/econ340-hw-2.html#q2b.",
    "title": "ECON 340: Homework Assignment 2",
    "section": "Q2b.",
    "text": "Q2b.\nAre your calculations for WTP and WTA identical or do they differ? Please explain the reasons behind your assessment of their similarity or difference."
  },
  {
    "objectID": "ex/econ340-hw-2.html#q3a.",
    "href": "ex/econ340-hw-2.html#q3a.",
    "title": "ECON 340: Homework Assignment 2",
    "section": "Q3a.",
    "text": "Q3a.\n\nGraph the demand curve for hiking trips as a function of the “price”—the travel cost."
  },
  {
    "objectID": "ex/econ340-hw-2.html#q3b.",
    "href": "ex/econ340-hw-2.html#q3b.",
    "title": "ECON 340: Homework Assignment 2",
    "section": "Q3b.",
    "text": "Q3b.\n\nBased on demographic information about the people living in the vicinity of the proposed park, you have estimated that 50,000 people will take an average of 4 hiking trips per year.\nFor the average person, calculate:\n\nThe consumer surplus for a single visit to the new park by a visitor with travel costs of $20;\nThe total consumer surplus for an average visitor (hint: the area of a triangle is \\(\\frac{1}{2}(B*H)\\) ); and\nThe total expected consumer surplus per year from the proposed park."
  },
  {
    "objectID": "ex/danl200-cw-8.html",
    "href": "ex/danl200-cw-8.html",
    "title": "DANL 200: Classwork 8 - Data visualization and transformation",
    "section": "",
    "text": "Climate finance refers to local, national or transnational financing—drawn from public, private and alternative sources of financing—that seeks to support mitigation and adaptation actions that will address climate change (https://unfccc.int/topics/introduction-to-climate-finance).\n\nMitigation involves taking actions to reduce the emissions of greenhouse gases that are responsible for climate change.\nAdaptation involves taking actions to reduce the actual or expected damages from climate change (https://climate.nasa.gov/solutions/adaptation-mitigation).\n\nLoad the data.frame for Question 1.\n\n\npath <- 'https://bcdanl.github.io/data/climate_finance_energy.csv'\nclimate_finance <- read_csv(path)\n\n\n\n\n\n  \n\n\n\n\nA unit of observation in climate_finance data.frame is a climate change project.\n\n\n\n\n\nParty: a party (country) that provides a funding contribution to recipient country/region for their cliamte change project.\nRecipient country/region: Recipient country or region\nProject/programme/activity: Details in the climate change project\nType of support:\n\nadaptation if the climate change project is related to adaptation project.\nmitigation if the climate change project is related to mitigation project.\n\nYear: Year that funding contribution is committed or provided.\nContribution: An amount of funding contribution for the climate change project (in USD).\nStatus:\n\ncommitted if a party commits to providing the funding contribution for the climate change project, but the funding contribution is NOT actually provided.\nprovided if the funding contribution was provided for the climate change project.\n\nEnergy:\n\nTRUE if the project is energy-related;\nFALSE otherwise.\n\n\n\n\n\nHow many parties have provided positive financial contributions to other countries/regions for their adaptation projects for every year between 2011 and 2018?\n\nQ1a <- climate_finance %>% \n  filter(Status == \"provided\",                       # filter by provided status\n         `Type of support` == \"adaptation\") %>%      # filter by adaptation type\n  group_by(Party, Year) %>%                          # group by Party and Year\n  summarise(Contribution = sum(Contribution, na.rm = T)) %>%  # calculate total contribution\n  filter(Contribution > 0) %>%                       # keep rows with non-zero contribution\n  group_by(Party) %>%                                # group by Party (unnecessary step)\n  count() %>%                                        # count number of observations\n  filter(n == 2018 - 2011 + 1)  %>%                  # keep Parties with 8 observations\n  select(Party) %>% \n  distinct()    # Remove duplicate observations in a data.frame\n\n\n\n\n\n  \n\n\n\n\nnrow(Q1a)\n\n[1] 8\n\n\n\n\n\n\nProvide both (1) ggplot code and (2) a simple comment to describe how the yearly trend of total funding Contribution varies by Energy and Status.\n\nclimate_finance %>% \n  group_by(Energy, Status, Year) %>% \n  summarise(funding_tot = sum(Contribution, na.rm = T)) %>% \n  ggplot(aes(x = Year, y = funding_tot)) +\n  geom_line(aes(color = Status)) +\n  geom_point() +\n  facet_wrap(Energy ~.) +\n  scale_y_comma()\n\n\n\n\n\nThe size of committed funding has been rapidly increasing, while the size of provided funding is not.\nThe size of provided funding has been slowly increasing for non-energy sector, while that has been relatively sluggish for energy sector.\nIt is easier to make a promise than to keep it.\nThe gap in provided funding size between the energy and the non-energy sectors is partly because energy-related projects usually require relative much larger upfront cost.\n\n\n\n\n\nFor each party, calculate the total funding contributions that were provided for mitigation projects for each year.\n\nQ1b <- climate_finance %>% \n  filter(Status == \"provided\",\n         `Type of support` == \"mitigation\") %>% \n  group_by(Party, Year) %>% \n  summarise(Contribution = sum(Contribution, na.rm = T))\n\n\n\n\n\n  \n\n\n\n\n\n\n\nFor each party, calculate the ratio between adaptation contribution and mitigation contribution for each type of Status for each year.\n\nQ1c <- climate_finance %>% \n  group_by(Party, Year, Status, `Type of support`) %>% \n  summarise(Contribution = sum(Contribution, na.rm = T)) %>% \n  filter(Contribution != 0) %>% \n  group_by(Party, Year, Status) %>% # this group_by() is not necessary, but it doesn't hurt\n  mutate(lag_Contribution = lag(Contribution), # calculate lagged Contribution\n         am_ratio = lag_Contribution / Contribution ) %>% # calculate adaptation/mitigation ratio\n  filter(!is.na(am_ratio)) %>% # remove rows with missing values in am_ratio\n  rename(mitigation = Contribution, # rename columns for clarity\n         adaptation = lag_Contribution) %>% \n  select(-`Type of support`) # remove Type of support column\n\n\n\n\n\n  \n\n\n\n\n\nQ1c <- climate_finance %>% \n  group_by(Party, Year, Status) %>%  # group by Party, Year and Status\n  summarise(adaptation = sum(Contribution[`Type of support` == 'adaptation'], na.rm = T), # sum the contributions where the Type of support is adaptation\n            mitigation = sum(Contribution[`Type of support` == 'mitigation'], na.rm = T) # sum the contributions where the Type of support is mitigation\n            ) %>% \n  filter(adaptation != 0, mitigation != 0) %>% # filter out rows where either adaptation or mitigation is 0\n  mutate(am_ratio = adaptation / mitigation ) # calculate the ratio of adaptation to mitigation and store it in a new column named am_ratio\n\n\n\n\n\n  \n\n\n\n\n\n\n\nProvide both (1) ggplot code and (2) a simple comment to describe the distribution of the ratio between adaptation contribution and mitigation contribution, which is calculated in Q1d.\n\nggplot(Q1c, aes(x = am_ratio)) +\n  geom_histogram(bins = 75) +\n  geom_vline(xintercept = 1, color = 'red', lty = 2)\n\n\n\n\n\nggplot(Q1c, aes(x = log(am_ratio))) +\n  geom_histogram(bins = 75) +\n  geom_vline(xintercept = 0, color = 'red', lty = 2)\n\n\n\n\n\nHere the comments are not provided.\n\n\n\n\n\nProvide both (1) ggplot code and (2) a simple comment to describe how the distribution of Contribution varies by Type of support and Status.\n\nggplot(climate_finance,\n       aes(color = `Type of support`, x = log(Contribution))) +\n  geom_freqpoly() +\n  facet_wrap(.~ Status)\n\n\n\n\n\nggplot(climate_finance,\n       aes(color = `Type of support`, x = log(Contribution))) +\n  geom_freqpoly() +\n  facet_wrap(.~ Status) +\n  theme(legend.position = 'top')\n\n\n\n\n\nHere the comments are not provided."
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html",
    "href": "ex/danl200-midterm-2-makeup-q.html",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "",
    "text": "Here we are loading all the R packages we need for the Midterm Exam II, so that you do not need to load the R packages in your code.\n\n\nlibrary(tidyverse)\nlibrary(skimr)"
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#variable-description",
    "href": "ex/danl200-midterm-2-makeup-q.html#variable-description",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Variable description",
    "text": "Variable description\n\nbrewery_name: The name of the brewery.\nbeer_style: The style of the beers (e.g., Lager, Ale, Stout).\nbeer_name: The name of the beers (e.g., Guinness Draught, Samuel Adams Summer Ale, Blue Moon Belgian White)\nbeer_abv: The alcohol by volume (ABV) percentage of the beer.\nreview_time: The review time (monthly from 1996-08-01 to 2012-01-01. Day value is always 01.)\nreview_overall: The overall rating given to the beer by the reviewer.\nreview_aroma: The rating given for the aroma of the beer.\nreview_appearance: The rating for the appearance of the beer.\nreview_palate: The rating given for the palate of the beer.\nreview_taste: The rating given for the taste of the beer.\n\n\n\nThe following is the data.frame, brewery.\n\n\nShow the code\nrmarkdown::paged_table(brewery,\n                       options = list(rows.print = 20,\n                                      cols.print = 6,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      )) \n\n\n\n\n  \n\n\n\n\n\nShow the code\nnrow(brewery)\n\n\n[1] 1586614\n\n\nShow the code\nncol(brewery)\n\n\n[1] 10\n\n\n\n\n\nShow the code\nlength(unique(brewery$brewery_name))\n\n\n[1] 5743\n\n\nShow the code\nunique(brewery$brewery_name)[1:100]\n\n\n  [1] \"Vecchio Birraio\"                                  \n  [2] \"Caldera Brewing Company\"                          \n  [3] \"Amstel Brouwerij B. V.\"                           \n  [4] \"Broad Ripple Brew Pub\"                            \n  [5] \"Moon River Brewing Company\"                       \n  [6] \"Hoppin' Frog Brewery\"                             \n  [7] \"Kirner Bier\"                                      \n  [8] \"Conwy Brewery Ltd\"                                \n  [9] \"Pacific Coast Brewing Company\"                    \n [10] \"Harmon Restaurant & Brewery\"                      \n [11] \"City Grille and Brewhaus\"                         \n [12] \"San Francisco Brewing Company\"                    \n [13] \"Yazoo Brewing Company\"                            \n [14] \"7 Seas Brewery and Taproom\"                       \n [15] \"Calapooia Brewing Company\"                        \n [16] \"Brouwerij Van Viven\"                              \n [17] \"Clockwork Beer Co, The\"                           \n [18] \"Landhausbräu Koller\"                              \n [19] \"Destiny Brewing Company\"                          \n [20] \"Harboes Bryggeri A/S\"                             \n [21] \"Hokusetsu Brewery\"                                \n [22] \"Bernard Family Brewery\"                           \n [23] \"Isle Of Skye Brewery\"                             \n [24] \"Brauhaus Lemke\"                                   \n [25] \"Founders Brewing Company\"                         \n [26] \"Bluegrass Brewing Co.\"                            \n [27] \"The Stable\"                                       \n [28] \"Finger Lakes Beer Company\"                        \n [29] \"Rustic Rail Grill And Brewhouse\"                  \n [30] \"Craggie Brewing Company\"                          \n [31] \"Micro-Brasserie Brouemont\"                        \n [32] \"Brauerei Neder\"                                   \n [33] \"Old Orange Brewing Co.\"                           \n [34] \"Brew Eyed\"                                        \n [35] \"Eastwood The Brewer (John Eastwood)\"              \n [36] \"Rusty Truck Brewing Company / Roadhouse 101\"      \n [37] \"NoDa Brewing Company\"                             \n [38] \"White Bluffs Brewing Company\"                     \n [39] \"Highland Pub & Brewery (McMenamins)\"              \n [40] \"Golden State Brewing Company\"                     \n [41] \"Growler Craft Brewery\"                            \n [42] \"Great South Bay Brewery\"                          \n [43] \"Mariposa Brewing Company\"                         \n [44] \"4th Street Brewing Company\"                       \n [45] \"Yeastie Boys\"                                     \n [46] \"Formosa Brewing Co.\"                              \n [47] \"Stadtbrauerei Arnstadt\"                           \n [48] \"Brasserie d'Orgemont\"                             \n [49] \"Crested Butte Brewing Co.\"                        \n [50] \"Third Base Sports Bar & Brewery\"                  \n [51] \"Meta Abo Brewery - Ethiopia\"                      \n [52] \"Pike Pub & Brewery\"                               \n [53] \"Bakushukan Clair (Kure Beer)\"                     \n [54] \"Asmara Breweries\"                                 \n [55] \"Brasserie La Binchoise (Malterie des Remparts)\"   \n [56] \"Voronezhsky Brewery\"                              \n [57] \"Frog at Bercy Village, The\"                       \n [58] \"Bootleggers Restaurant & Brewery\"                 \n [59] \"Ohio Brewing Company\"                             \n [60] \"Crescent City Brewhouse\"                          \n [61] \"Pivovar Groll\"                                    \n [62] \"Piniavos Alutis\"                                  \n [63] \"Les Sarments\"                                     \n [64] \"Pivovarna Laško\"                                  \n [65] \"Otro Mundo Brewing Company\"                       \n [66] \"Kirkland Signature / Costco Wholesale Corporation\"\n [67] \"Trafalgar Ales & Meads\"                           \n [68] \"Cambridge Brewing Company\"                        \n [69] \"Bluegrass Brewing Co. - East St. Matthew's\"       \n [70] \"Emmett's Brewing Company\"                         \n [71] \"Fulton Beer\"                                      \n [72] \"Wasatch Brew Pub\"                                 \n [73] \"Bath Ales Ltd\"                                    \n [74] \"Becker Brewing Company\"                           \n [75] \"Great Basin Brewing Co.\"                          \n [76] \"SBC Restaurant & Brewery - Hamden\"                \n [77] \"Jennings Brothers PLC\"                            \n [78] \"O'Fallon Brewery\"                                 \n [79] \"No-Li Brewhouse\"                                  \n [80] \"Birrificio Indipendente Elav\"                     \n [81] \"Catawba Valley Brewing Company\"                   \n [82] \"Accra Brewery Limited\"                            \n [83] \"Brasserie d'Algiers\"                              \n [84] \"Sauris AgriBeer S.a.s\"                            \n [85] \"Cooperstown Brewing Company\"                      \n [86] \"Ivory Tower Brewing\"                              \n [87] \"Bertram's Salmon Valley Brewery & Restaurant\"     \n [88] \"Kompania Piwowarska\"                              \n [89] \"Stakhanovitz\"                                     \n [90] \"Mt Tabor Brewing\"                                 \n [91] \"Wapping Beers Ltd.\"                               \n [92] \"Marco Island Brewery\"                             \n [93] \"The Vermont Pub & Brewery\"                        \n [94] \"Al Ahram Beverages Company\"                       \n [95] \"Copper Crow Brewing Company\"                      \n [96] \"Wm. Kuether Brewing\"                              \n [97] \"The Seven Barrel Brewery\"                         \n [98] \"Brauerei Aldersbach\"                              \n [99] \"Big Hurt Brewing Company\"                         \n[100] \"Richmodis-Bräu\"                                   \n\n\n\n\n\nShow the code\nunique(brewery$review_time)\n\n\n  [1] \"2009-02-01\" \"2009-03-01\" \"2010-12-01\" \"2012-01-01\" \"2011-10-01\"\n  [6] \"2011-05-01\" \"2010-11-01\" \"2010-09-01\" \"2002-01-01\" \"2010-08-01\"\n [11] \"2010-06-01\" \"2010-05-01\" \"2011-09-01\" \"2004-12-01\" \"2003-08-01\"\n [16] \"2011-12-01\" \"2011-11-01\" \"2001-10-01\" \"2011-08-01\" \"2011-07-01\"\n [21] \"2011-06-01\" \"2001-04-01\" \"2011-04-01\" \"2011-03-01\" \"2011-02-01\"\n [26] \"2010-10-01\" \"2009-08-01\" \"2009-07-01\" \"2008-04-01\" \"2009-06-01\"\n [31] \"2009-05-01\" \"2009-04-01\" \"2009-01-01\" \"2008-12-01\" \"2008-11-01\"\n [36] \"2008-09-01\" \"2008-08-01\" \"2008-07-01\" \"2008-05-01\" \"2008-03-01\"\n [41] \"2008-02-01\" \"2008-01-01\" \"2007-12-01\" \"2007-09-01\" \"2007-08-01\"\n [46] \"2007-06-01\" \"2007-04-01\" \"2007-02-01\" \"2006-10-01\" \"2006-09-01\"\n [51] \"2006-08-01\" \"2006-07-01\" \"2006-05-01\" \"2005-11-01\" \"2005-08-01\"\n [56] \"2011-01-01\" \"2009-11-01\" \"2010-07-01\" \"2010-04-01\" \"2010-03-01\"\n [61] \"2010-02-01\" \"2010-01-01\" \"2009-12-01\" \"2009-10-01\" \"2009-09-01\"\n [66] \"2005-04-01\" \"2004-11-01\" \"2005-01-01\" \"2007-03-01\" \"2005-06-01\"\n [71] \"2005-03-01\" \"2007-01-01\" \"2006-03-01\" \"2003-04-01\" \"2008-10-01\"\n [76] \"2008-06-01\" \"2007-11-01\" \"2007-10-01\" \"2006-01-01\" \"2005-02-01\"\n [81] \"2007-05-01\" \"2005-07-01\" \"2002-04-01\" \"2007-07-01\" \"2002-07-01\"\n [86] \"2003-03-01\" \"2004-02-01\" \"2003-09-01\" \"2006-04-01\" \"2005-10-01\"\n [91] \"2006-12-01\" \"2006-11-01\" \"2004-10-01\" \"2006-06-01\" \"2005-12-01\"\n [96] \"2006-02-01\" \"2005-09-01\" \"2005-05-01\" \"2004-09-01\" \"2004-07-01\"\n[101] \"2004-06-01\" \"2004-05-01\" \"2004-04-01\" \"2004-03-01\" \"2004-01-01\"\n[106] \"2003-12-01\" \"2003-11-01\" \"2003-10-01\" \"2003-07-01\" \"2003-06-01\"\n[111] \"2003-05-01\" \"2002-03-01\" \"2003-02-01\" \"2003-01-01\" \"2002-12-01\"\n[116] \"2002-11-01\" \"2002-10-01\" \"2002-09-01\" \"2002-06-01\" \"2002-05-01\"\n[121] \"2004-08-01\" \"2002-02-01\" \"2001-09-01\" \"2001-08-01\" \"2002-08-01\"\n[126] \"2001-07-01\" \"2001-11-01\" \"2000-09-01\" \"1999-05-01\" \"1999-10-01\"\n[131] \"2000-04-01\" \"2000-10-01\" \"1998-03-01\" \"1999-06-01\" \"2001-12-01\"\n[136] \"2001-06-01\" \"1998-02-01\" \"1999-02-01\" \"1998-11-01\" \"2000-12-01\"\n[141] \"1999-03-01\" \"2001-03-01\" \"2001-02-01\" \"2001-01-01\" \"2000-11-01\"\n[146] \"2000-07-01\" \"1998-09-01\" \"1998-10-01\" \"1998-01-01\" \"2001-05-01\"\n[151] \"1998-12-01\" \"1998-05-01\" \"1998-06-01\" \"1998-08-01\" \"1999-01-01\"\n[156] \"1999-09-01\" \"1996-08-01\" \"2000-05-01\" \"1998-04-01\" \"1998-07-01\"\n[161] \"1999-07-01\" \"1999-04-01\" \"1999-08-01\" \"1999-12-01\" \"2000-08-01\"\n[166] \"1999-11-01\" \"2000-06-01\" \"2000-02-01\"\n\n\n\n\n\n\nShow the code\nlength(unique(brewery$beer_name))\n\n\n[1] 56857\n\n\nShow the code\nunique(brewery$beer_name)[1:100]\n\n\n  [1] \"Sausa Weizen\"                                 \n  [2] \"Red Moon\"                                     \n  [3] \"Black Horse Black Beer\"                       \n  [4] \"Sausa Pils\"                                   \n  [5] \"Cauldron DIPA\"                                \n  [6] \"Caldera Ginger Beer\"                          \n  [7] \"Amstel Light\"                                 \n  [8] \"Caldera Oatmeal Stout\"                        \n  [9] \"Caldera OBF 15\"                               \n [10] \"Rauch Ür Bock\"                                \n [11] \"Caldera Pale Ale\"                             \n [12] \"Pilot Rock Porter\"                            \n [13] \"Vas Deferens Ale\"                             \n [14] \"Caldera IPA\"                                  \n [15] \"Cauldron Espresso Stout\"                      \n [16] \"Old Growth Imperial Stout\"                    \n [17] \"Dry Hop Red\"                                  \n [18] \"Southside Strong\"                             \n [19] \"Caldera Märzen\"                               \n [20] \"Lawnmower Lager\"                              \n [21] \"Caldera Rose Petal (Kettle Series)\"           \n [22] \"Amstel Bright\"                                \n [23] \"Nut Brown\"                                    \n [24] \"The Captain's Porter\"                         \n [25] \"The Highland Stagger\"                         \n [26] \"Swamp Fox IPA\"                                \n [27] \"Hoppin' To Heaven IPA\"                        \n [28] \"Hopportunity Knocks\"                          \n [29] \"Ashland Amber\"                                \n [30] \"Coconut Porter\"                               \n [31] \"Dry Hop Orange\"                               \n [32] \"Kirner Pils Premium\"                          \n [33] \"Alpha Beta\"                                   \n [34] \"Caldera Pilsener Bier\"                        \n [35] \"Hibiscus Ginger Beer\"                         \n [36] \"Exotic Erotic Passion Fruit Ale\"              \n [37] \"Barrel Aged B.O.R.I.S. Oatmeal Imperial Stout\"\n [38] \"Imperial Stout\"                               \n [39] \"Cauldron Brew\"                                \n [40] \"Inspiration Ale\"                              \n [41] \"Hop Hash\"                                     \n [42] \"Mogli\"                                        \n [43] \"Welsh Pride\"                                  \n [44] \"Welsh Honey Bitter\"                           \n [45] \"Telford Porter\"                               \n [46] \"Celebration Ale\"                              \n [47] \"Honey Fayre\"                                  \n [48] \"Holiday Imperial\"                             \n [49] \"Columbus India Pale Ale\"                      \n [50] \"Holiday XXII Imperial Blue\"                   \n [51] \"Luck O' The Irish\"                            \n [52] \"Old Oakland Ale\"                              \n [53] \"Yellowjacket Ale\"                             \n [54] \"Megalodon\"                                    \n [55] \"Code Blue\"                                    \n [56] \"Orca Porter\"                                  \n [57] \"Leviathan Imperial Stout\"                     \n [58] \"Mt. Takhoma Blonde Ale\"                       \n [59] \"Holiday Trappist Style Ale\"                   \n [60] \"Deviator Doppelbock\"                          \n [61] \"Blue Whale Ale\"                               \n [62] \"Grey Whale Ale\"                               \n [63] \"Killer Whale Stout\"                           \n [64] \"Emerald Ale\"                                  \n [65] \"Schinderhannes Bock\"                          \n [66] \"City Razz\"                                    \n [67] \"City Light\"                                   \n [68] \"City Pale Ale\"                                \n [69] \"City Stout\"                                   \n [70] \"City Pumpkin\"                                 \n [71] \"City Amber\"                                   \n [72] \"Amstel Gold\"                                  \n [73] \"Amstel Sterk (Strong)\"                        \n [74] \"Amstel Oud Bruin\"                             \n [75] \"Amstel Malt\"                                  \n [76] \"St. Stephen's Bock\"                           \n [77] \"North Beach Ale\"                              \n [78] \"Hefeweizen\"                                   \n [79] \"Ballz Deep Double IPA\"                        \n [80] \"Pacific Pilsner\"                              \n [81] \"Amstel (Pure Filtered)\"                       \n [82] \"Amstel Lentebock\"                             \n [83] \"Amstel Lager\"                                 \n [84] \"Hop Project #35\"                              \n [85] \"Brown's Point ESB\"                            \n [86] \"Amstel 1870\"                                  \n [87] \"Amstel Bock\"                                  \n [88] \"Viven Porter\"                                 \n [89] \"Amber IPA\"                                    \n [90] \"Original Lager\"                               \n [91] \"Red Alt Ale\"                                  \n [92] \"Gosch\"                                        \n [93] \"Kollers Naturtrüb Dunkel\"                     \n [94] \"Kollers Naturtrüb Hell\"                       \n [95] \"Holiday Ale\"                                  \n [96] \"Pumpkin Ale\"                                  \n [97] \"Dry Stout\"                                    \n [98] \"Newark IPA\"                                   \n [99] \"Red Rye Ale\"                                  \n[100] \"Wheat Ale\"                                    \n\n\n\n\n\nShow the code\nunique(brewery$review_overall)\n\n\n [1] 1.5 3.0 4.0 3.5 4.5 5.0 2.0 2.5 1.0 0.0\n\n\nShow the code\nunique(brewery$review_aroma)\n\n\n[1] 2.0 2.5 3.0 4.5 3.5 5.0 4.0 1.5 1.0\n\n\nShow the code\nunique(brewery$review_appearance)\n\n\n [1] 2.5 3.0 3.5 4.0 5.0 4.5 2.0 1.0 1.5 0.0\n\n\nShow the code\nunique(brewery$review_palate)\n\n\n[1] 1.5 3.0 2.5 4.0 2.0 3.5 4.5 5.0 1.0\n\n\nShow the code\nunique(brewery$review_taste)\n\n\n[1] 1.5 3.0 4.5 3.5 4.0 2.5 2.0 5.0 1.0"
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q1a",
    "href": "ex/danl200-midterm-2-makeup-q.html#q1a",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q1a",
    "text": "Q1a\n\nProvide the R code to generate the data.frame, popular_breweries, which include observations exclusively for the popular breweries in terms of (1) the number of beer reviews, (2) the number of distinct beer_styles, or (3) the number of distinct beer_names, featuring the following variables:\n\nbrewery_name: the name of the brewery\nmean_overall: the mean value of review_overall\nn: the number of beer evaluations submitted by customers of the brewery\nn_styles: the number of distinct beer_styles\nn_names: the number of distinct beer_names\nranking_n: the brewery ranking based on the number of beer reviews\nranking_styles: the brewery ranking based on the number of distinct beer_styles\nranking_names: the brewery ranking based on the number of distinct beer_names\n\nTo be selected as popular breweries, a brewery must be either (1) top 100 breweries in terms of the number of beer reviews, (2) top 100 breweries in terms of the number of distinct beer styles, or (3) top 100 breweries in terms of the number of distinct beer names.\nBrewery rankings should be calculated using a method described in the following example. Imagine you are ranking the test scores of five students from highest to lowest, where the highest and lowest scores are unique. If three students share the second-highest score, they all receive a rank of 2. Due to these three students being tied for second place, the rank after 2 is not 3 but 5.\n\n\n\nShow the code\npopular_breweries <- brewery %>% \n  group_by(brewery_name) %>% \n  summarise(mean_overall = mean(review_overall, na.rm = T),\n            n = n(),\n            n_styles = n_distinct(beer_style),\n            n_names = n_distinct(beer_name)\n            ) %>% \n  mutate(ranking_n = min_rank(-n),\n         ranking_styles = min_rank(-n_styles),\n         ranking_names = min_rank(-n_names)\n         ) %>% \n  filter(ranking_n <= 100 | \n           ranking_styles <= 100 | \n           ranking_names <= 100 \n           )\n\n\n\nThe following is the first 10 observations in the data.frame, popular_breweries.\n\n\nShow the code\nrmarkdown::paged_table(popular_breweries,\n                       options = list(rows.print = 10,\n                                      cols.print = 8,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      ))"
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q1b",
    "href": "ex/danl200-midterm-2-makeup-q.html#q1b",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q1b",
    "text": "Q1b\n\nProvide R code to recreate the ggplot figure illustrating how the relationship between n_styles and mean_overall varies by the groups of ranking_n.\n\nThe group values—TRUE and FALSE—depends on whether it is TRUE that ranking_n is greater than 100.\n\n\n\n\n\nShow the code\npopular_breweries %>% \n  mutate(group = (ranking_n > 100)) %>% \n  # filter(ranking_styles <= 50) %>% \n  ggplot(aes(x = n_styles,\n             y = mean_overall)) +\n  geom_point() +\n  geom_smooth(method = lm) +\n  facet_wrap(.~group, scales = \"free_x\")\n\n\n\n\n\n\nThe following the two ggplot figures illustrates the same relationship for n_names, for which you do not need to provide any R code.\n\n\n\nShow the code\npopular_breweries %>% \n  mutate(group = (ranking_n > 100)) %>% \n  # filter(ranking_names <= 50) %>% \n  ggplot(aes(x = n_names,\n             y = mean_overall)) +\n  geom_point() +\n  geom_smooth(method = lm) +\n  facet_wrap(.~group, scales = \"free_x\")"
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q1c.",
    "href": "ex/danl200-midterm-2-makeup-q.html#q1c.",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q1c.",
    "text": "Q1c.\n\nProvide a comment to describe how the relationship between n_styles and mean_overall varies by the groups of ranking_n using the visualization in Q1b."
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q1d",
    "href": "ex/danl200-midterm-2-makeup-q.html#q1d",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q1d",
    "text": "Q1d\n\nProvide R code to recreate the ggplot figure illustrating the monthly trend of the mean value of review_overall for each of the 3 most popular beer_styles\n\nThe 3 most popular beer_styles are chosen based on the number of beer reviews for each beer_style.\nEach trend line fits into the data points for each of the 3 most popular beer_styles in the brewery data.frame.\n\n\n\n\nShow the code\nq1d0 <- brewery %>% \n  group_by(beer_style) %>% \n  mutate(n = n()) %>% \n  ungroup() %>% \n  mutate(ranking = dense_rank(-n)) %>% \n  filter(ranking <= 3) %>% \n  mutate(beer_style = str_c(as.character(ranking), \". \", beer_style)) %>% \n  group_by(beer_style, review_time) %>% \n  summarise(review_overall = mean(review_overall, na.rm = T)) \n  \n\nq1d <- brewery %>% \n  group_by(beer_style) %>% \n  mutate(n = n()) %>% \n  ungroup() %>% \n  mutate(ranking = dense_rank(-n)) %>% \n  filter(ranking <= 3) %>% \n  mutate(beer_style = str_c(as.character(ranking), \". \", beer_style))\n\n\nggplot(q1d, aes(x = review_time, y = review_overall)) +\n  geom_point(data = q1d0, aes(color = beer_style),\n             alpha = .67) +\n  geom_smooth(aes(color = beer_style), se = T) +\n  scale_x_date(date_labels = '%b %Y',\n               date_breaks = '6 month',\n               limits = c(min(q1d$review_time), max(q1d$review_time))\n  ) +\n  scale_color_brewer(palette = 'Set1') +\n  guides(color = guide_legend(label.position = \"bottom\",\n                              keywidth = 5)) +\n  labs(y = \"Mean value of review_overall\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45),\n        legend.position = 'top')"
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#variable-description-1",
    "href": "ex/danl200-midterm-2-makeup-q.html#variable-description-1",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Variable description",
    "text": "Variable description\n\nid_user: Unique identification number for a Twitter user\nFIPS: Unique identification number for a county\ncounty: A county\ncity: A city\ncontent: A tweet content\nn_rt: The number of retweets for the tweet\nyear: Date of year when the tweet was written.\nmonth: Date of month when the tweet was written.\nmonthly_date: Date of year and month when the tweet was written.\nThe following is the first 20 observations in ny_tweets_rt:\n\n\nShow the code\nrmarkdown::paged_table(ny_tweets_rt,\n                       options = list(rows.print = 20,\n                                      cols.print = 3,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      )) \n\n\n\n\n  \n\n\n\n\n\nShow the code\nnrow(ny_tweets_rt)\n\n\n[1] 139875\n\n\nShow the code\nncol(ny_tweets_rt)\n\n\n[1] 9\n\n\n\n\n\nShow the code\nunique(ny_tweets_rt$county)\n\n\n [1] \"richmond\"    \"new york\"    \"kings\"       \"tioga\"       \"bronx\"      \n [6] \"suffolk\"     \"niagara\"     \"nassau\"      \"westchester\" \"erie\"       \n[11] \"tompkins\"    \"monroe\"      \"albany\"      \"essex\"       \"oneida\"     \n[16] \"broome\"      \"st lawrence\" \"queens\"      \"rensselaer\"  \"saratoga\"   \n[21] \"onondaga\"    \"dutchess\"    \"jefferson\"   \"genesee\"     \"washington\" \n[26] \"cortland\"    \"rockland\"    \"columbia\"    \"madison\"     \"orange\"     \n[31] \"livingston\"  \"schenectady\" \"cayuga\"      \"wyoming\"     \"oswego\"     \n[36] \"chenango\"    \"ulster\"      \"sullivan\"    \"chemung\"     \"allegany\"   \n[41] \"chautauqua\"  \"clinton\"     \"orleans\"     \"delaware\"    \"putnam\"     \n[46] \"franklin\"    \"cattaraugus\" \"schuyler\"    \"wayne\"       \"schoharie\"  \n[51] \"steuben\"     \"ontario\"     \"montgomery\"  \"otsego\"      \"warren\"     \n[56] \"greene\"      \"fulton\"      \"seneca\"      \"yates\"       \"herkimer\"   \n[61] \"lewis\"      \n\n\nShow the code\nunique(ny_tweets_rt$city)[1:100]\n\n\n  [1] \"new york, ny\"         \"brooklyn, ny\"         \"owego, ny\"           \n  [4] \"coram, ny\"            \"newfane, ny\"          \"center moriches, ny\" \n  [7] \"north merrick, ny\"    \"white plains, ny\"     \"buffalo, ny\"         \n [10] \"northport, ny\"        \"ithaca, ny\"           \"huntington, ny\"      \n [13] \"north hills, ny\"      \"rochester, ny\"        \"rye, ny\"             \n [16] \"albany, ny\"           \"saranac lake, ny\"     \"lake placid, ny\"     \n [19] \"utica, ny\"            \"chenango, ny\"         \"canton, ny\"          \n [22] \"purchase, ny\"         \"adams, ny\"            \"yonkers, ny\"         \n [25] \"troy, ny\"             \"saratoga springs, ny\" \"valley stream, ny\"   \n [28] \"potsdam, ny\"          \"syracuse, ny\"         \"garden city, ny\"     \n [31] \"islip, ny\"            \"beacon, ny\"           \"uniondale, ny\"       \n [34] \"cortlandt, ny\"        \"watertown, ny\"        \"rhinebeck, ny\"       \n [37] \"tonawanda, ny\"        \"dobbs ferry, ny\"      \"greenwich, ny\"       \n [40] \"point lookout, ny\"    \"cortland, ny\"         \"glen cove, ny\"       \n [43] \"east rochester, ny\"   \"airmont, ny\"          \"fabius, ny\"          \n [46] \"bellerose, ny\"        \"new lebanon, ny\"      \"delmar, ny\"          \n [49] \"cazenovia, ny\"        \"port washington, ny\"  \"seaford, ny\"         \n [52] \"warwick, ny\"          \"conesus, ny\"          \"jamesport, ny\"       \n [55] \"lynbrook, ny\"         \"ronkonkoma, ny\"       \"freeville, ny\"       \n [58] \"massena, ny\"          \"schenectady, ny\"      \"stony brook, ny\"     \n [61] \"auburn, ny\"           \"bay shore, ny\"        \"new hempstead, ny\"   \n [64] \"perry, ny\"            \"weedsport, ny\"        \"ballston spa, ny\"    \n [67] \"riverhead, ny\"        \"churchville, ny\"      \"waterford, ny\"       \n [70] \"ossining, ny\"         \"oswego, ny\"           \"norwich, ny\"         \n [73] NA                     \"hudson, ny\"           \"new paltz, ny\"       \n [76] \"big flats, ny\"        \"alfred, ny\"           \"north tonawanda, ny\" \n [79] \"red hook, ny\"         \"colonie, ny\"          \"lakewood, ny\"        \n [82] \"tuckahoe, ny\"         \"binghamton, ny\"       \"sayville, ny\"        \n [85] \"woodstock, ny\"        \"plattsburgh, ny\"      \"massapequa park, ny\" \n [88] \"krumville, ny\"        \"shirley, ny\"          \"setauket, ny\"        \n [91] \"kendall, ny\"          \"yorktown heights, ny\" \"franklin, ny\"        \n [94] \"brewster, ny\"         \"queensbury, ny\"       \"brighton, ny\"        \n [97] \"cheektowaga, ny\"      \"east nassau, ny\"      \"orchard park, ny\"    \n[100] \"west seneca, ny\"     \n\n\n\n\n\nShow the code\nmin(ny_tweets_rt$monthly_date)\n\n\n[1] \"2012-01-01\"\n\n\nShow the code\nmax(ny_tweets_rt$monthly_date)\n\n\n[1] \"2017-12-01\""
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q2a",
    "href": "ex/danl200-midterm-2-makeup-q.html#q2a",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q2a",
    "text": "Q2a\n\nProvide R code to recreate the ggplot figure illustrating the distribution of the base-10 log of n from top 20 cities.\n\nn is the number of tweets posted by users in a particular city.\nTop 20 cities are selected in terms of the number of tweets.\nDo not include the city value NA.\n\n\n\n\nShow the code\nny_tweets_rt %>% \n  group_by(city) %>% \n  count() %>% \n  filter(!is.na(city)) %>% \n  ungroup() %>% \n  filter(dense_rank(-n) <= 20) %>% \n  ggplot(aes(y = city, x = log10(n),\n             fill = city)) +\n  geom_col(show.legend = F)"
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q2b",
    "href": "ex/danl200-midterm-2-makeup-q.html#q2b",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q2b",
    "text": "Q2b\n\nProvide a comment to describe the the distribution of the log of n from top 20 cities, using the visualization in Q2a."
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q2c",
    "href": "ex/danl200-midterm-2-makeup-q.html#q2c",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q2c",
    "text": "Q2c\n\nProvide R code to recreate the ggplot figure illustrating the monthly trend of (1) the number of tweets and (2) the number of retweets for the tweets from the Twitter users in each of the top 4 NY counties.\n\nThe top 4 NY counties are selected in terms of the number of tweets written by the Twitter users.\n\n\n\n\nShow the code\nny_tweets_rt %>% \n  group_by(FIPS, county, monthly_date) %>% \n  summarise(n = n(),\n            n_rt = sum(n_rt)) %>% \n  group_by(FIPS) %>% \n  mutate(tot = sum(n)) %>% \n  ungroup() %>% \n  filter(dense_rank(-tot) <= 4) %>% \n  ggplot(aes(x = monthly_date, y = n)) +\n  geom_col(aes(y = n_rt)) +\n  geom_line(aes(color = county), show.legend = F) +\n  geom_point(aes(color = county), show.legend = F, size = .75) +\n  facet_wrap(.~county, scales = 'free_y', ncol = 2) +\n  scale_x_date(date_labels = '%b %Y',\n               date_breaks = '6 month') +\n  theme(axis.text.x = element_text(angle = 45,\n                                   margin = margin(7.5,0,0,0),\n                                   size = rel(.85)))"
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q2d",
    "href": "ex/danl200-midterm-2-makeup-q.html#q2d",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q2d",
    "text": "Q2d\n\nCreate the data.frame top20 that identifies the top 20 Twitter users who have posted over a hundred tweets featuring #climatechange or #globalwarming, ranked by their average number of retweets per tweet.\n\nIn the data.frame top20, please include the city of residence for those top 20 users.\nThe following shows the resulting data.frame:\n\n\n\n\nShow the code\ntop20 <- ny_tweets_rt %>% \n  select(id_user, city, n_rt) %>% \n  group_by(id_user, city) %>% \n  summarise(n = n(),\n            n_rt_sum = sum(n_rt)) %>% \n  filter(n > 100) %>% \n  mutate(rt_per_t = round(n_rt_sum/n,2)) %>% \n  arrange(-rt_per_t) %>% \n  head(20)\n\n\n\nShow the code\nrmarkdown::paged_table(top20,\n                       options = list(rows.print = 20,\n                                      cols.print = 5,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      ))"
  },
  {
    "objectID": "ex/danl200-midterm-2-makeup-q.html#q2e",
    "href": "ex/danl200-midterm-2-makeup-q.html#q2e",
    "title": "Fall 2023 DANL 200 Make-up Midterm Exam 2 - Questions",
    "section": "Q2e",
    "text": "Q2e\n\nProvide R code to recreate the ggplot figure illustrating the monthly trend of the number of new Twitter users who mentioned #climatechange or #globalwarming in a tweet for the first time.\n\nFor example, if Twitter user id_user 3 posted their first tweet mentioning #climatechange or #globalwarming in December 2016, then id_user 3 should be included in the count for December 2016.\n\nThe following is the observations from id_user 3 in ny_tweets_rt:\n\n\nShow the code\nrmarkdown::paged_table(ny_tweets_rt %>% select(id_user, monthly_date),\n                       options = list(rows.print = 4,\n                                      cols.print = 3,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      )) \n\n\n\n\n  \n\n\n\n\nShow the code\nny_tweets_rt %>% \n  select(id_user, monthly_date) %>% \n  group_by(id_user) %>% \n  filter(monthly_date == min(monthly_date)) %>% \n  group_by(monthly_date) %>% \n  count() %>% \n  ggplot(aes(x = monthly_date, y = n)) +\n  geom_line() +\n  geom_point(size = .75) +\n  labs(y = \"Number of new Twitter users with #climatechange or #globalwarming\") +\n  scale_x_date(date_labels = '%b %Y',\n               date_breaks = '6 month') +\n  theme(axis.text.x = element_text(angle = 45,\n                                   margin = margin(7.5,0,0,0)),\n        axis.title.y = element_text(angle = 90),\n        )"
  },
  {
    "objectID": "ex/danl200-cw-10.html",
    "href": "ex/danl200-cw-10.html",
    "title": "DANL 200 - Classwork 10",
    "section": "",
    "text": "Show the code\nlibrary(tidyverse)\nlibrary(skimr)"
  },
  {
    "objectID": "ex/danl200-cw-10.html#q1a",
    "href": "ex/danl200-cw-10.html#q1a",
    "title": "DANL 200 - Classwork 10",
    "section": "Q1a",
    "text": "Q1a\n\nDescribe how the distribution of rating varies across week 1, week 2, and week 3 using the faceted histogram.\n\n\n\nShow the code\n# making billboard longer\nbillboard_long <- billboard %>% \n  pivot_longer(cols = starts_with('wk'),\n               names_to = 'week',\n               values_to = 'rating')\n\n# ggplot\nggplot( data = filter(billboard_long,\n                      week %in% c('wk1','wk2','wk3')),\n        aes(x = rating) ) +\n  geom_histogram(bins = 75) +\n  facet_wrap(week ~., ncol = 1)"
  },
  {
    "objectID": "ex/danl200-cw-10.html#q1b",
    "href": "ex/danl200-cw-10.html#q1b",
    "title": "DANL 200 - Classwork 10",
    "section": "Q1b",
    "text": "Q1b\n\nWhich artist(s) have the most number of tracks in billboard data.frame?\nDo not double-count an artist’s tracks if they appear in multiple weeks.\n\n\n\nShow the code\nq1b <- billboard_long %>% \n  select(artist, track) %>% \n  distinct() %>% \n  group_by(artist) %>% \n  count() %>% \n  arrange(-n)"
  },
  {
    "objectID": "ex/danl200-cw-10.html#q2a",
    "href": "ex/danl200-cw-10.html#q2a",
    "title": "DANL 200 - Classwork 10",
    "section": "Q2a",
    "text": "Q2a\nMake ny_pincp longer.\n\n\nShow the code\nny_pincp_long <- ny_pincp %>% \n  pivot_longer(cols = starts_with('pincp'),\n               names_to = 'year',\n               values_to = 'pincp')"
  },
  {
    "objectID": "ex/danl200-cw-10.html#q2b",
    "href": "ex/danl200-cw-10.html#q2b",
    "title": "DANL 200 - Classwork 10",
    "section": "Q2b",
    "text": "Q2b\nProvide both (1) ggplot code and (2) a simple comment to describe how overall the yearly trend of NY counties’ average personal incomes are.\n\n\nShow the code\nny_pincp_long2 <- ny_pincp_long %>% \n  separate(year, into = c('tmp', 'year'), sep = 'pincp') %>% \n  mutate(year = as.integer(year)) %>% \n  select(-tmp) %>% \n  filter(fips != 36000)  # which is state-level average income\n\n\n\n\n\n\n  \n\n\n\n\n\nShow the code\nggplot(ny_pincp_long2,\n       aes(x = year, y = pincp)) +\n  geom_line(aes(group = geoname),\n            alpha = .1 ) +\n  geom_smooth(method = lm) +\n  geom_smooth(color = 'red')"
  },
  {
    "objectID": "ex/danl200-cw-10.html#q3a",
    "href": "ex/danl200-cw-10.html#q3a",
    "title": "DANL 200 - Classwork 10",
    "section": "Q3a",
    "text": "Q3a\n\nKeep only the following three variables, date, countriesAndTerritories, and cases.\nThen make a wide-form data.frame of covid whose variable names are from countriesAndTerritories and values are from cases.\nThen drop the variable date.\n\n\n\nShow the code\ncovid_wide <- covid %>%\n  select(date, countriesAndTerritories, cases) %>%\n  pivot_wider(names_from = countriesAndTerritories,\n              values_from = cases) %>% \n  select(-date)"
  },
  {
    "objectID": "ex/danl200-cw-10.html#q3b",
    "href": "ex/danl200-cw-10.html#q3b",
    "title": "DANL 200 - Classwork 10",
    "section": "Q3b",
    "text": "Q3b\n\nUse the wide-form data.frame of covid to find the top 10 countries in terms of the correlation between their cases and the USA case.\n\nUse cor(data.frame), which returns a matrix.\nThen convert it to data.frame using as.data.frame(matrix)\n\n\n\n\nShow the code\ncovid_cor <- as.data.frame( cor(covid_wide) )  \n\n\n\n\n\n\n  \n\n\n\n\n\nShow the code\ncovid_cor_us <- covid_cor %>% \n  select(USA) %>% \n  arrange(-USA)"
  },
  {
    "objectID": "ex/econ340-feedback-miranda.html",
    "href": "ex/econ340-feedback-miranda.html",
    "title": "ECON 340: Team Project",
    "section": "",
    "text": "The proposal presents a compelling and significant research topic with a clear objective.\n\nFeedback\n\nInclude specific data or examples to quantify the scale of the problem.\nInclude a brief summary on the references you have.\nProvide additional details on the economic model and theoretical analysis approach.\n\n\n\nSuggested Economic Model of Recycling\n\nConsider using the theoretical model provided in the following reference:\n\nKentaka Aruga, Environmental and Natural Resource Economics, Springer (2022) [Link]\n\nConsider the different types of policies using the model in the above reference:\n\nTargets for waste reduction\nFees incurred by producers\nIncentives for recycling\nBanning waste exports to foreign countries\n\n\n\n\nFYI webinar\n\nBuilding a Career in Sustainability: The Future of the Fashion Industry\n\n[Link]"
  },
  {
    "objectID": "ex/econ340-cw-9.html#social-planner",
    "href": "ex/econ340-cw-9.html#social-planner",
    "title": "ECON 340: Classwork 9 - Pigouvian Tax in a General Form",
    "section": "Social Planner",
    "text": "Social Planner\nThe social welfare function is the sum of the consumer’s utility ( \\(U\\) ), the firm’s profit ( \\(\\Pi\\) ), and the damage from the pollution emission ( \\(D\\) ). The Social Planner maximizes the social welfare by choosing the quantity of a good \\(q\\): \\[\n\\begin{align}\n\\max_{q}\\; SW &= U + \\Pi - D\\\\\n&= \\underbrace{Y - pq + u(q)}_{U} + \\underbrace{pq - c(q)}_{\\Pi} - \\underbrace{d(e(q))}_{D}\\\\\n&= Y + u(q) - c(q) - d(e(q))\\\\\n\\end{align}\n\\]\n\nFOC\n\\[\n\\begin{align}\n\\frac{dSW}{dq} = u'(q) - c'(q) - d'(e(q))e(q) = 0\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-cw-9.html#consumer",
    "href": "ex/econ340-cw-9.html#consumer",
    "title": "ECON 340: Classwork 9 - Pigouvian Tax in a General Form",
    "section": "Consumer",
    "text": "Consumer\nGiven the price of a good \\(p\\) and the lumpsum transfer \\(L\\), the representative consumer solves: \\[\n\\begin{align}\n\\max_{q}\\; U = Y + L - pq + u(q)\n\\end{align}\n\\]\n\nFOC\n\\[\n\\begin{align}\n\\frac{dU}{dq} = -p + u'(q) = 0\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-cw-9.html#firm",
    "href": "ex/econ340-cw-9.html#firm",
    "title": "ECON 340: Classwork 9 - Pigouvian Tax in a General Form",
    "section": "Firm",
    "text": "Firm\nGiven the price of a good \\(p\\) and the per-unit tax \\(t\\), the representative firm solves: \\[\n\\begin{align}\n\\max_{q}\\; \\Pi = pq - c(q) - tq\n\\end{align}\n\\]\n\nFOC\n\\[\n\\begin{align}\n\\frac{d\\Pi}{dq} = p - c'(q) - t = 0\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-cw-9.html#market",
    "href": "ex/econ340-cw-9.html#market",
    "title": "ECON 340: Classwork 9 - Pigouvian Tax in a General Form",
    "section": "Market",
    "text": "Market\nIn the market for good \\(q\\), the equilibrium price is set such that it balances the quantity supplied with the quantity demanded. \\[\n\\begin{align}\nu'(q) = c'(q) + t\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-cw-9.html#government",
    "href": "ex/econ340-cw-9.html#government",
    "title": "ECON 340: Classwork 9 - Pigouvian Tax in a General Form",
    "section": "Government",
    "text": "Government\nGiven the consumer’s budget constraint (\\(Y = x + pq\\)), the consumer’s and the firm’s behavior in the market, and the government budget constraint (\\(L = tq\\)), the government solves: \\[\n\\begin{align}\n\\max_{q, t, L}\\; SW &= U + \\Pi - D\\\\\n&= \\underbrace{Y + L - pq + u(q)}_{U} + \\underbrace{pq - c(q) - tq}_{\\Pi} - \\underbrace{d(e(q))}_{D}\\\\\n&= Y + L + u(q) - c(q) - tq - d(e(q))\\\\\n\\;\\\\\n\\text{subject to}\\quad  L &= tq\\\\\nu'(q) &= c'(q) + t\n\\end{align}\n\\]\nThe above is equivalnet to: \\[\n\\begin{align}\n\\max_{q, t}\\; SW &= U + \\Pi - D\\\\\n&= Y + u(q) - c(q) - d(e(q))\\\\\n\\;\\\\\n\\text{subject to}\\quad  u'(q) &= c'(q) + t\n\\end{align}\n\\] The Lagrangian for the above is:\n\\[\n\\begin{align}\n\\max_{q, t,\\lambda}\\; \\mathcal{L} = Y + u(q) - c(q) - d(e(q)) + \\lambda(\\,u'(q) - c'(q)- t \\,)\n\\end{align}\n\\]\n\nFOC\n\\[\n\\begin{align}\n\\frac{d\\mathcal{L}}{dq} &= u'(q) - c'(q) - d'(e(q))e'(q) + \\lambda(\\,u''(q) - c''(q)\\,) = 0\\\\\n\\frac{d\\mathcal{L}}{dt} &= -\\lambda = 0\\\\\n\\frac{d\\mathcal{L}}{d\\lambda} &= u'(q) - c'(q)- t = 0\n\\end{align}\n\\]\nFOCs for the government problem simplify to: \\[\n\\begin{align}\nu'(q) - c'(q) - d'(e(q))e'(q) &= 0\\\\\nu'(q) - c'(q)- t &= 0\n\\end{align}\n\\]\nTherefore, we can show that the pigouvian tax is set to be the marginal damage of pollution emission. \\[\n\\begin{align}\nt = d'(e(q))e'(q)\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-josh-orlando-zach.html",
    "href": "ex/econ340-feedback-josh-orlando-zach.html",
    "title": "ECON 340: Team Project",
    "section": "",
    "text": "The proposal presents a compelling and significant research topic with a clear objective."
  },
  {
    "objectID": "ex/econ340-feedback-josh-orlando-zach.html#power-plant",
    "href": "ex/econ340-feedback-josh-orlando-zach.html#power-plant",
    "title": "ECON 340: Team Project",
    "section": "Power plant",
    "text": "Power plant\n\nPower plant uses either clean energy or dirty energy to produce electricity (\\(e\\)).\nPower plant has a continuum of plants, and she can freely adjust its relative proportion of dirty and clean electricity, \\(\\gamma\\) and \\(1-\\gamma\\), respectively.\nPower plant’s total cost of producing electricity from dirty/clean energies consist of variable costs ( \\(C_{d}(e)\\) and \\(C_{c}(e)\\) ) and fixed costs ( \\(F_{c}\\) and \\(F_{d}\\) ):\n\n\\[\n\\begin{align}\nTC_{d} &= C_{d}(\\gamma\\times e) + F_{d}\\\\\nTC_{c} &= C_{c}((1-\\gamma)\\times e) + F_{c}\n\\end{align}\n\\]\n\nTaking the electricity price \\(s\\) as given, the power plant maximizes its profit by choosing how much to produce electricity \\(e\\) and the proportion of dirty energy power plant ( \\(\\gamma \\in [0,1]\\) ): \\[\n\\begin{align}\n\\max_{e, \\gamma}\\;\\Pi_{e} &=  s e - TC_{d}(\\gamma \\times e)  - TC_{c}((1 - \\gamma)\\times e) \\\\\n&=  s e - C_{d}(\\gamma \\times e)  - C_{c}((1 - \\gamma)\\times e) - F_{c} - F_{d}\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-josh-orlando-zach.html#consumer",
    "href": "ex/econ340-feedback-josh-orlando-zach.html#consumer",
    "title": "ECON 340: Team Project",
    "section": "Consumer",
    "text": "Consumer\n\nTaking the electricity price \\(s\\) as given, consumer maximizes its utility by choosing a numeraire good \\(x\\) and an electricity consumption \\(e\\):\n\n\\[\n\\begin{align}\n\\max_{x, e}\\;U &= x + v(e)\\\\\n\\text{subject to }\\; Y &= x + se\n\\end{align}\n\\]\nThe above problem is equivalent to: \\[\n\\begin{align}\n\\max_{e}\\;U &= Y - se + v(e)\\\\\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-josh-orlando-zach.html#electricity-market",
    "href": "ex/econ340-feedback-josh-orlando-zach.html#electricity-market",
    "title": "ECON 340: Team Project",
    "section": "Electricity Market",
    "text": "Electricity Market\nIn the electricity market, the electricity price \\(s\\) is such that the supply and the demand for electricity are met:\n\\[\nv'(e) = \\gamma C_{d}'(\\gamma \\times e) + (1 - \\gamma) C_{c}'((1-\\gamma)\\times e)\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-josh-orlando-zach.html#social-planner",
    "href": "ex/econ340-feedback-josh-orlando-zach.html#social-planner",
    "title": "ECON 340: Team Project",
    "section": "Social planner",
    "text": "Social planner\n\nSocial planner maximizes social welfare, which takes into account the damage caused by greenhouse gas emissions from dirty power plant, as a function of the amount of electricity produced by dirty power plant\n\n\\[\n\\begin{align}\n\\max_{e,\\gamma}\\;SW &= \\Pi_{e} + U - D\\\\\n&= Y - F_{c} - F_{d} \\\\\n&\\quad+ v(e) - \\, C_{d}(\\gamma\\times e)  - \\, C_{c}((1 - \\gamma)\\times e)  - D(\\gamma\\times e),\n\\end{align}\n\\] where the damage \\(D(\\gamma\\times e)\\) increases with \\(\\gamma \\times e\\) at an increasing rate."
  },
  {
    "objectID": "ex/econ340-feedback-josh-orlando-zach.html#government",
    "href": "ex/econ340-feedback-josh-orlando-zach.html#government",
    "title": "ECON 340: Team Project",
    "section": "Government",
    "text": "Government\n\nGovernment can consider various policies:\n\nTax dirty power plants\nSubsidy clean power plants\nSetting emission standards to dirty power plants"
  },
  {
    "objectID": "ex/econ340-feedback-josh-orlando-zach.html#modeling-ideas",
    "href": "ex/econ340-feedback-josh-orlando-zach.html#modeling-ideas",
    "title": "ECON 340: Team Project",
    "section": "Modeling ideas",
    "text": "Modeling ideas\n\nFor simplicity, here I abstract away from firm’s productions and emissions. Instead, I focus on only power plant and consumer.\nIf needed, you guys can always modify the model."
  },
  {
    "objectID": "ex/danl200-hw-1.html",
    "href": "ex/danl200-hw-1.html",
    "title": "DANL 200: Homework Assignment 1",
    "section": "",
    "text": "Complete the following survey:\n\nhttps://forms.gle/Ya2HbPgHynkAp5e28"
  },
  {
    "objectID": "ex/danl200-hw-1.html#q2a.",
    "href": "ex/danl200-hw-1.html#q2a.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q2a.",
    "text": "Q2a.\n\nDownload the CSV file, starwars.csv, from the Brightspace.\nRead the data file, starwars.csv, as the data.frame object with the name, starwars, using (1) the read_csv() function and (2) the absolute path name of the file starwars.csv from your local hard disk drive in your laptop.\n\n\nlibrary(tidyverse)\npath_starwars <- 'PATHNAME_OF_THE_CSV_FILE, starwars.csv'\nstarwars <- read_csv(path_starwars)"
  },
  {
    "objectID": "ex/danl200-hw-1.html#variable-description-for-starwars-data.frame",
    "href": "ex/danl200-hw-1.html#variable-description-for-starwars-data.frame",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Variable Description for starwars data.frame",
    "text": "Variable Description for starwars data.frame\nThe following describes the variables in the starwars data.frame.\n\nfilms List of films the character appeared in\nname Name of the character\nspecies Name of species\nheight Height (cm)\nmass Weight (kg)\nhair_color, skin_color, eye_color Hair, skin, and eye colors\nbirth_year Year born (BBY = Before Battle of Yavin)\nsex The biological sex of the character, namely male, female, hermaphroditic, or none (as in the case for Droids).\ngender The gender role or gender identity of the character as determined by their personality or the way they were programmed (as in the case for Droids).\nhomeworld Name of homeworld"
  },
  {
    "objectID": "ex/danl200-hw-1.html#q2b.",
    "href": "ex/danl200-hw-1.html#q2b.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q2b.",
    "text": "Q2b.\n\nProvide the R code to find how many characters are Droid species."
  },
  {
    "objectID": "ex/danl200-hw-1.html#q2c.",
    "href": "ex/danl200-hw-1.html#q2c.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q2c.",
    "text": "Q2c.\n\nProvide the R code to find which Droid character did appear most in the Star Wars films."
  },
  {
    "objectID": "ex/danl200-hw-1.html#q2d.",
    "href": "ex/danl200-hw-1.html#q2d.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q2d.",
    "text": "Q2d.\n\nProvide the R code to find the minimum, first quartile, median, third quartile, and the maximum of height.\n[Statistics] Explain why the median value is different from the mean value.\n\nWhen is the median value greater than the mean value?\nWhen is the median value less than the mean value?"
  },
  {
    "objectID": "ex/danl200-hw-1.html#q2e.",
    "href": "ex/danl200-hw-1.html#q2e.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q2e.",
    "text": "Q2e.\n\nProvide the R code to find the number of unique/distinct homeworld values."
  },
  {
    "objectID": "ex/danl200-hw-1.html#q3a.",
    "href": "ex/danl200-hw-1.html#q3a.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q3a.",
    "text": "Q3a.\nProvide the R code to install the R package, gapminder."
  },
  {
    "objectID": "ex/danl200-hw-1.html#q3b.",
    "href": "ex/danl200-hw-1.html#q3b.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q3b.",
    "text": "Q3b.\nLoad the gapminder data.frame provided by the R package, gapminder."
  },
  {
    "objectID": "ex/danl200-hw-1.html#variable-description-for-gapminder-data.frame",
    "href": "ex/danl200-hw-1.html#variable-description-for-gapminder-data.frame",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Variable Description for gapminder data.frame",
    "text": "Variable Description for gapminder data.frame\n\nThe following describe the variables in the gapminder data.frame.\n\ncountry factor with 142 levels\ncontinent factor with 5 levels\nyear ranges from 1952 to 2007 in increments of 5 years\nlifeExp life expectancy at birth, in years\npop population\ngdpPercap GDP per capita (US$, inflation-adjusted)"
  },
  {
    "objectID": "ex/danl200-hw-1.html#q3c.",
    "href": "ex/danl200-hw-1.html#q3c.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q3c.",
    "text": "Q3c.\nProvide ggplot code and comments to describe the relationship between gdpPercap and lifeExp."
  },
  {
    "objectID": "ex/danl200-hw-1.html#q3d.",
    "href": "ex/danl200-hw-1.html#q3d.",
    "title": "DANL 200: Homework Assignment 1",
    "section": "Q3d.",
    "text": "Q3d.\nProvide ggplot code and comments to describe how the relationship between gdpPercap and lifeExp varies by continent."
  },
  {
    "objectID": "ex/danl200-hw-2-a.html",
    "href": "ex/danl200-hw-2-a.html",
    "title": "DANL 200: Homework Assignment 2 - Example Answers",
    "section": "",
    "text": "Read the data file, custdata_rev.csv, as the data.frame object with the name, health_cust:\n\nlibrary(tidyverse)\nlibrary(skimr)\n\nhealth_cust <- read_csv(\n  'https://bcdanl.github.io/data/custdata_rev.csv'\n)\n\n\n\nThe following describes the variables in the health_cust data.frame.\n\ncustid: ID of customer\nsex: Sex\nis_employed: Employment status\n\nNA: Unknown or not applicable\nTRUE: Employed\nFALSE: Unemployed\n\nincome: Income (in $)\nmarital_status: Marital status\nhousing_type: Housing type\nrecent_move:\n\nTRUE: Recently moved\nFALSE: Not recently moved\n\nage: Age\nstate_of_res: State of residence\ngas_usage: Gas usage\n\nNA: Unknown or not applicable\n001: Included in rent or condo fee\n002: Included in electricity payment\n003: No charge or gas not used\n004-999: $4 to $999 (rounded and top-coded)\n\nhealth_ins: Health insuarance status\n\nTRUE: customer with health insuarance\nFALSE: customer without health insuarance\n\n\n\n\n\n\nReport summary statistics including a mean value for each logical variable in health_cust.\nAnswer:\n\nhealth_cust_sum <- skim(health_cust)\n\nq1a <- health_cust_sum[health_cust_sum$skim_type == 'logical', \n                       c('skim_variable', \n                         'n_missing', 'complete_rate',\n                         'logical.mean', 'logical.count')]\n\n\n\n\n\nUse health_cust data.frame to create a new data.frame, health_cust2, in which (1) age is greater than 0 and less than 100; and (2) income is positive.\nAnswer:\n\nhealth_cust2 <- health_cust[health_cust$age > 0, ]\nhealth_cust2 <- health_cust2[health_cust2$age < 100, ]\nhealth_cust2 <- health_cust2[health_cust2$income > 0, ]\nhealth_cust2_sum <- skim(health_cust2)\n\n# Combining all conditions into one, which we will cover after the first midterm:\n# health_cust2 <- health_cust[ ( 0 < health_cust$age < 100 ) &\n#                                 ( health_cust$income > 0 ), ]\n\n\n\n\n\nProvide ggplot code and comments to describe the distribution of income.\nAnswer:\n\nggplot(health_cust2, aes(x = income)) +\n  geom_histogram()\n\n\n\nggplot(health_cust2, aes(x = income)) +\n  geom_histogram(bins = 100)\n\n\n\nggplot(health_cust2, aes(x = log(income))) +\n  geom_histogram(bins = 100)\n\n\n\nggplot(health_cust2, aes(x = log(income))) +\n  geom_freqpoly(bins = 100)\n\n\n\n\n\nProvide some comments\n\n\n\n\n\nProvide ggplot code and comments to describe the distribution of marital_status.\nAnswer:\n\nggplot(health_cust2,\n       aes(y = marital_status,\n           fill = marital_status)) +\n  geom_bar(show.legend = F)\n\n\n\n\n\nProvide some comments\n\n\n\n\n\nSuppose you randomly pick one customer’s observation from each state in data.frame health_cust.\nUse ggplot code to find: (1) in which state a customer is most likely to have a health insurance; and (2) in which state a customer is least likely to have a health insurance.\nAnswer:\n\nggplot(health_cust2) +\n  geom_bar(aes(y = health_ins,\n               group = 1)) +\n  facet_wrap(state_of_res ~ . , ncol = 5)\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = health_ins, x = stat(prop),\n               group = 1)) +\n  facet_wrap(state_of_res ~ . , ncol = 5)\n\n\n\n\n\nThe proportional bar chart faceted by state_of_res is the one we need.\n\nAlaska customer is most likely to have health insurance.\nHawaii customer is least likely to have health insurance.\nWhy?\n\n\nThe following might mislead…\n\nggplot(health_cust2) +\n  geom_bar(aes(y = state_of_res, x = stat(prop),\n               group = 1)) +\n  facet_wrap(health_ins ~ . , ncol = 5)\n\n\n\n\n\n\n\n\nProvide ggplot code and comments to describe the relationship between age and income.\nAnswer:\n\nggplot(health_cust2,\n       aes(x = age, y = income)) +\n  geom_point(alpha = .2, size = .75) +\n  geom_smooth() +\n  geom_smooth(method = lm, color = 'red')\n\n\n\nggplot(health_cust2,\n       aes(x = age, y = income)) +\n  geom_hex() +\n  geom_smooth() +\n  geom_smooth(method = lm, color = 'red')\n\n\n\n# Considering income level below $250,000\nhealth_cust3 <- health_cust2[health_cust2$income < 2.5*10^5, ]\nggplot(health_cust3,\n       aes(x = age, y = income)) +\n  geom_hex() +\n  geom_smooth() +\n  geom_smooth(method = lm, color = 'red')\n\n\n\n\n\nConsidering the income group whose level is below $250,000, income is positively associated with age up to age around 55. income is then negatively associated from age around 55 to 100.\n\n\n\n\n\nProvide ggplot code and comments to describe the relationship between age and health_ins.\nAnswer:\n\nggplot(health_cust2) + \n  geom_histogram(aes(x = age), bins = 75) +\n  facet_wrap(health_ins ~.)\n\n\n\nggplot(health_cust2) + \n  geom_freqpoly(aes(x = age), bins = 75) +\n  facet_wrap(health_ins ~.)\n\n\n\n\n\n\n\n\nProvide ggplot code and comments to describe the relationship between marital_status and health_ins.\nAnswer:\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status, \n               fill = health_ins))\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status, \n               fill = health_ins),\n           position = \"fill\")\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status, \n               fill = health_ins),\n           position = \"dodge\")\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status)) +\n  facet_wrap(health_ins ~.)\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status, \n               x = stat(prop), group = 1)) +\n  facet_wrap(health_ins ~.)\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = health_ins, \n               x = stat(prop), group = 1)) +\n  facet_grid(marital_status ~.)\n\n\n\n\n\n\n\n\nProvide ggplot code and comments to describe the relationship between marital_status and housing_type.\nAnswer:\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status, \n               fill = housing_type))\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status, \n               fill = housing_type),\n           position = \"fill\")\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status, \n               fill = housing_type),\n           position = \"dodge\")\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status)) +\n  facet_wrap(housing_type ~.)\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = marital_status, \n               x = stat(prop), group = 1)) +\n  facet_wrap(housing_type ~.)\n\n\n\nggplot(health_cust2) +\n  geom_bar(aes(y = housing_type, \n               x = stat(prop), group = 1)) +\n  facet_grid(marital_status ~.)"
  },
  {
    "objectID": "ex/econ340-hw-1.html",
    "href": "ex/econ340-hw-1.html",
    "title": "ECON 340: Homework Assignment 1",
    "section": "",
    "text": "Consider a society with just two consumers. Consumer 1 can get positive utility from a positive amount of some activity \\(h\\) that she chooses the level of, but consumer 2 gets negative utility from that activity. We can think of \\(h\\) as some non-market good, for example, “hours” of loud music played by consumer 1, disturbing consumer 2’s peace and quiet. Consumer 1 therefore imposes a negative externality on consumer 2. Assume there is no other cost associated with the activity.\nAssume that both consumers gain utilities from consuming a numeraire good \\(x\\), whose price is 1, but may have different incomes \\(Y_{1}\\) and \\(Y_{2}\\).\n\nConsumer 1’s utility is \\(U_{1} = x_{1} + h(4-h)\\).\nConsumer 2’s utility is \\(U_{2} = x_{2} - h^{2}\\).\n\n\n\n\n\nUnder the efficiency standard, what is the socially optimal level of \\(h^{o}\\)?\nPlot graphs in \\((h, \\$)\\) space, both total and average/marginal, to illustrate the solution.\n\n\n\n\n\n\nDerive the market level \\(h^{*}\\) of the activity that results if choosing it is left up to consumer 1, and show that this level differs from \\(h^{o}\\).\nAdd \\(h^{*}\\) to your graphs.\n\n\n\n\n\nSuppose now that the government intervenes in the situation by imposing a tax on \\(h\\).\n\nHere is what happens with the tax revenue:\n\nGovernment forces consumer 1 to pay a per-unit tax \\(t\\) on \\(h\\), and to distribute the tax revenue \\(th\\) in some “lump-sum” fashion across both consumers, giving \\(L_{1}\\) to consumer 1 and \\(L_{2}\\) to consumer 2.\n\nDerive the optimal level of the tax—the level that will induce consumer 1 to choose \\(h^{o}\\) rather than \\(h^{*}\\).\n\nAssume that the government anticipates consumer 1’s response to the tax.\n\nModify both your graphs from question Q1b to show the effects of the tax.\n\n\n\n\n\nSame question as Q1c, but now the government introduces a per-unit subsidy \\(s\\) paid to consumer 1 for every unit by which she reduces \\(h\\) below some level, for example, her optimal level \\(h^{*}\\) without government intervention.\n\nHere is how the government prepares the budget for the total amount of subsidy:\n\nGovernment forces consumers 1 and 2 to pay some amount of “lump-sum” taxes, \\(L_{1}\\) paid by consumer 1 and \\(L_{2}\\) paid by consumer 2, so that the subsidy can be given to consumer 1.\n\nDerive the optimal level of the per-unit subsidy \\(s^{o}\\)—the level that will induce consumer 1 to choose \\(h^{o}\\) rather than \\(h^{*}\\).\n\nAssume that the government anticipates consumer 1’s response to the per-unit subsidy \\(s\\)."
  },
  {
    "objectID": "ex/econ340-hw-1.html#q2a.",
    "href": "ex/econ340-hw-1.html#q2a.",
    "title": "ECON 340: Homework Assignment 1",
    "section": "Q2a.",
    "text": "Q2a.\nSuppose there is only one herder in the village with the common. The only one herder can freely choose any number of cows.\n\nHow many cows will be grazed on the common?"
  },
  {
    "objectID": "ex/econ340-hw-1.html#q2b.",
    "href": "ex/econ340-hw-1.html#q2b.",
    "title": "ECON 340: Homework Assignment 1",
    "section": "Q2b.",
    "text": "Q2b.\nSuppose there is a sufficient number of herders in the village with the common, so that each individual herder will have a number of cows that is negligible relative to the total number of cows grazed on the common.\n\nWhat is the total number of cows if the individual herder chooses how many of his or her cows to be grazed on the common?"
  },
  {
    "objectID": "ex/econ340-hw-1.html#q2c.",
    "href": "ex/econ340-hw-1.html#q2c.",
    "title": "ECON 340: Homework Assignment 1",
    "section": "Q2c.",
    "text": "Q2c.\nDraw the curves for\n\nAverage product of a cow;\nMarginal product of a cow;\nMarginal cost of a cow.\n\nExplain the tragedy of the commons using the graphs."
  },
  {
    "objectID": "ex/econ340-cw-8.html",
    "href": "ex/econ340-cw-8.html",
    "title": "ECON 340: Classwork 8 - Pigouvian Tax and Clean Technology",
    "section": "",
    "text": "Suppose that in the competitive market there are \\(N\\) polluting firms ( \\(i = 1, 2, \\cdots, N\\) ) that produces identical goods under the private cost function \\[\nPC(q_{i}) = \\frac{1}{2}q_{i}^{2} + q_{i}\n\\] where \\(q_{i}\\) and \\(PC(q_{i})\\) are the firm \\(i\\) quantity of output and the private total cost, respectively.\nThe firms are currently causing environmental pollution in the surrounding area. For all firms, the external cost of this pollution is defined as:\n\\[\nEC(e_{i}) = 4e_{i}\n\\] where \\(e_{i}\\) is the firm \\(i\\)’s level of pollution emissions.\nThe firm \\(i\\)’s emission level \\(e_{i}\\) is a function of the firm \\(i\\) quantity of output \\(q_{i}\\): \\[\ne_{i}\\equiv e(q_{i}) = Aq_{i},\n\\] where \\(A > 0\\) is the parameter for the firm’s abatement technology.\nGovernment forces the firm \\(i\\) to pay a per-unit tax on the emission \\(e_{i}\\).\nLet \\(P\\) be the price of the good produced by the firms. The market demand curve for the goods is \\[\nD(P) = 20 − 2P.\n\\]\n\n\n\n\nTaking the price of the good \\(P\\) and the per-unit tax \\(t\\) as given, solve the firm \\(i\\)’s profit-maximization problem.\n\nThat is to find the profit-maximizing the quantity of output \\(q_{i}^{*}\\)\n\n\n\n\n\n\n\nSince paying pollution tax is costly, the firms are considering to adopt clean technology to reduce emissions. Suppose that the firms are heterogeneous in the sense that each of the firms has a different level of lump-sum investment cost \\(F_{i}\\), where \\(F_{1} < F_{2} < \\cdots < F_{N}\\), to adopt the following clean technology (CT):\n\n\\[\ne_{i}^{CT} = (A-\\epsilon)q_{i},\n\\] where \\(A-\\epsilon > 0\\).\n\nTaking the price of the good \\(P\\) and the per-unit tax \\(t\\) as given, solve the firm \\(i\\)’s profit-maximization problem, in which the firm \\(i\\) chooses (1) the quantity of output \\(q_{i}\\) and whether or not adopting the clean technology.\n\n\n\n\n\n\nDescribe how the tax rate is related to the firms’ adoption of the clean technology."
  },
  {
    "objectID": "ex/danl200-cw-11.html",
    "href": "ex/danl200-cw-11.html",
    "title": "DANL 200 - Classwork 11 - Joins",
    "section": "",
    "text": "Show the code\nlibrary(tidyverse)\nlibrary(nycflights13)\nlibrary(skimr)"
  },
  {
    "objectID": "ex/danl200-cw-11.html#q1a",
    "href": "ex/danl200-cw-11.html#q1a",
    "title": "DANL 200 - Classwork 11 - Joins",
    "section": "Q1a",
    "text": "Q1a\nWrite a R code to join the two given data.frames along rows and assign all data.\n\n\nShow the code\ndf_r <- rbind(student_data1, student_data2)"
  },
  {
    "objectID": "ex/danl200-cw-11.html#q1b",
    "href": "ex/danl200-cw-11.html#q1b",
    "title": "DANL 200 - Classwork 11 - Joins",
    "section": "Q1b",
    "text": "Q1b\nWrite a R code to join the two given data.frames along columns and assign all data.\n\n\nShow the code\ndf_c <- cbind(student_data1, student_data2)"
  },
  {
    "objectID": "ex/danl200-cw-11.html#q2a",
    "href": "ex/danl200-cw-11.html#q2a",
    "title": "DANL 200 - Classwork 11 - Joins",
    "section": "Q2a",
    "text": "Q2a\nJoin flights with airports, so that we can see information about each flight’s destination airport in the flights data.frame.\n\n\nShow the code\nq2a <- flights %>% \n  left_join(airports, by = c('dest' = 'faa'))"
  },
  {
    "objectID": "ex/danl200-cw-11.html#q2b",
    "href": "ex/danl200-cw-11.html#q2b",
    "title": "DANL 200 - Classwork 11 - Joins",
    "section": "Q2b",
    "text": "Q2b\nFind the airline that has the longest positive dep_delay on average.\n\n\nShow the code\nflights <- flights %>% \n  left_join(airlines)\n\nq2b <- flights %>% \n  group_by(carrier, name) %>% \n  summarize(delay_mean = mean(dep_delay[dep_delay> 0],\n                              na.rm = T)\n            ) %>% \n  arrange(-delay_mean)"
  },
  {
    "objectID": "ex/danl200-cw-11.html#q2c",
    "href": "ex/danl200-cw-11.html#q2c",
    "title": "DANL 200 - Classwork 11 - Joins",
    "section": "Q2c",
    "text": "Q2c\nFind the airline that has the largest proportion of flights with longer than 30-minute dep_delay.\n\n\nShow the code\nq2c <- flights %>% \n  mutate(delay_over_30 = ifelse(dep_delay > 30, \n                                1, 0) ) %>% \n  group_by(carrier, name) %>% \n  summarize(pct = 100 * mean(delay_over_30,\n                              na.rm = T)) %>% \n  arrange(-pct)"
  },
  {
    "objectID": "ex/danl200-cw-9.html",
    "href": "ex/danl200-cw-9.html",
    "title": "DANL 200: Classwork 9 - Data visualization and transformation",
    "section": "",
    "text": "For Question 1, run the following R command to read the nyc_dogs_cleaned.csv file.\n\n\nnyc_dogs <- read_csv('https://bcdanl.github.io/data/nyc_dogs_cleaned.csv')\n\n\n\n\n  \n\n\n\n\n\n\nFind the five most popular breeds.\n\n\nq1a <- nyc_dogs %>% \n  filter(!is.na(breed)) %>% \n  group_by(breed) %>% \n  summarise(n = n()) %>% \n  arrange(-n) \n\n\n\n\n  \n\n\n\n\n\n\n\n\nProvide both (1) ggplot code and (2) a simple comment to describe the relationship between the five popular breeds and borough.\n\n\nq1b <- nyc_dogs %>% \n  filter(breed %in% q1a$breed[1:5],\n         !is.na(breed) ) \n  \nggplot(data = q1b) +\n  geom_bar(aes(y = breed, fill = breed),\n           show.legend = F) +\n  facet_wrap(.~borough)\n\n\n\nggplot(data = q1b) +\n  geom_bar(aes(y = breed, fill = breed),\n           position = \"dodge\",\n           show.legend = F) +\n  facet_wrap(.~borough)\n\n\n\nggplot(data = q1b) +\n  geom_bar(aes(y = breed, fill = breed),\n           position = \"fill\",\n           show.legend = F) +\n  facet_wrap(.~borough)\n\n\n\nggplot(data = q1b) +\n  geom_bar(aes(y = breed, fill = borough, \n               x = stat(prop), group = borough), \n           position = \"dodge\") \n\n\n\nggplot(data = q1b) +\n  geom_bar(aes(y = borough, fill = breed, \n               x = stat(prop), group = breed), \n           position = \"dodge\")\n\n\n\n\n\n# What if the filtered data could not be obtained ... \nggplot(data = nyc_dogs)+\n  geom_bar(mapping = aes(x=borough))+\n  facet_wrap(~breed, ncol = 4, scales = \"free_y\") +\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))  # optional\n\n\n\n\n\n\n\n\n\nFind the five most popular breeds in each borough.\n\n\nq1c <- nyc_dogs %>% \n  filter(!is.na(breed)) %>% \n  group_by(breed, borough) %>% \n  summarize(n = n()) %>% \n  arrange(borough, -n)\n\nq1c <- nyc_dogs %>% \n  filter(!is.na(breed)) %>% \n  group_by(breed, borough) %>% \n  mutate(n = n()) %>% \n  group_by(borough) %>% \n  mutate(rank = dense_rank(-n) ) %>% \n  filter(rank <= 10 ) %>% \n  select(breed, n, rank, borough) %>% \n  distinct() %>% \n  arrange(borough,-n)\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\nFind the five most popular dog names for each gender.\n\n\nq1d <- nyc_dogs %>% \n  group_by(gender, name) %>% \n  summarise(n = n()) %>% \n  arrange(gender, -n) %>% \n  slice_head( n = 5)\n\n\nq1d <- nyc_dogs %>% \n  group_by(gender, name) %>% \n  summarise(n = n()) %>% \n  mutate(ranking = dense_rank(-n)) %>% \n  filter(ranking <= 5)\n\n\n\n\n\n\nFind the five most popular dog names for each gender in each borough.\n\n\nq1e <- nyc_dogs %>% \n  group_by(borough, gender, name) %>% \n  summarise(n = n()) %>% \n  arrange(gender, -n)\n\nq1e <- nyc_dogs %>% \n  group_by(borough, gender, name) %>% \n  summarise(n = n()) %>% \n  mutate(ranking = dense_rank(-n)) %>% \n  filter(ranking <= 5)\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\nAssume that all dogs in the nyc_dogs data frame are alive as of today.\n\nProvide both (1) ggplot code and (2) a simple comment to describe the distribution of age for each borough.\n\n\n\nnyc_dogs <- nyc_dogs %>% \n  mutate( age = 2023 - birth_year )\n\nggplot( nyc_dogs ) +\n  geom_freqpoly(aes(x = age, color = borough), \n                 binwidth = 1) \n\n\n\nggplot( filter(nyc_dogs, \n               age <= 25) ) +\n  geom_histogram(aes(x = age), \n                 binwidth = 1) + \n  facet_wrap(~borough)\n\n\n\n\nAdd some comments here …."
  },
  {
    "objectID": "ex/econ340-cw-10.html",
    "href": "ex/econ340-cw-10.html",
    "title": "ECON 340: Classwork 10 - Mock-up Exam II",
    "section": "",
    "text": "Grand Teton National Park is located 10 minutes away from city Jackson and 20 minutes away from city Teton. Cities Jackson and Teton have 25,000 and 10,000 inhabitants respectively, and residents in both cities have the same income and preferences for national parks. Assume that the cost for an individual to go to a national park is represented by the cost of the time it takes her to get into the park. Also assume that the cost of time for individuals in cities Jackson and Teton is $.50 per minute. You observe that each inhabitant of city Jackson goes to Grand Teton ten times a year while each inhabitant of city Teton goes only five times a year. Assume the following: the only people who go to the park are the residents of cities Jackson and Teton; the cost of running Grand Teton is $1,000,000 a year; and the social discount rate is 1%. Also assume that the park lasts forever."
  },
  {
    "objectID": "ex/econ340-cw-10.html#q1a.",
    "href": "ex/econ340-cw-10.html#q1a.",
    "title": "ECON 340: Classwork 10 - Mock-up Exam II",
    "section": "Q1a.",
    "text": "Q1a.\nCompute the cost per visit to Grand Teton for an inhabitant of each city.\n\nAnswer:\nA day at the park will cost a resident of city Jackson $10 (10 minutes each way × $.50 per minute) and a resident of city Teton $20 (20 minutes each way × $.50 per minute)."
  },
  {
    "objectID": "ex/econ340-cw-10.html#q1b.",
    "href": "ex/econ340-cw-10.html#q1b.",
    "title": "ECON 340: Classwork 10 - Mock-up Exam II",
    "section": "Q1b.",
    "text": "Q1b.\nAssuming that those two observations (cost per visit and number of visits per inhabitant of city Jackson, and cost per visit and number of visits per inhabitant of city Teton) correspond to two points of the same linear individual demand curve for visits to Grand Teton, derive that demand curve. What is the consumer surplus for inhabitants of each city? What is the total consumer surplus?\n\nAnswer:\nCity Jackson residents account for 250,000 visits at a price of $10; city Teton residents account for 50,000 visits at a price of $20.\nIf the demand function is linear, every $10 price increase is associated with a decrease in quantity of 200,000 visits. Thus, the demand function is Price = 22.5 - Q/(2*10^4)\n\\[\nP = 22.5 - \\frac{1}{20000}Q\n\\]\n\n\n\n\n\nCity Jackson residents have a consumer surplus of\n\\[\n\\begin{align}\nCS_{Jackson} &= \\frac{1}{2}\\times (22.5 - 10)\\times 250,000\\\\\n&= \\text{\\$}1,562,500\n\\end{align}\n\\]\nCity Teton residents have a consumer surplus of\n\\[\n\\begin{align}\nCS_{Teton} &= \\frac{1}{2}\\times (22.5 - 20)\\times 50,000\\\\\n&= \\text{\\$}62,500\n\\end{align}\n\\]\nTotal consumer surplus is $1,625,000."
  },
  {
    "objectID": "ex/econ340-cw-10.html#q1c.",
    "href": "ex/econ340-cw-10.html#q1c.",
    "title": "ECON 340: Classwork 10 - Mock-up Exam II",
    "section": "Q1c.",
    "text": "Q1c.\nThere is a timber developer who wants to buy Grand Teton to run his business. He is offering $50 million for the park. Should the park be sold?\n\nAnswer:\nEach year consumer surplus is $1,625,000 and operating costs are $1 million, for a net benefit of $625,000. Applying the social discount rate of 1% yields a PDV of\n\\[\n\\begin{align}\nPDV &= \\frac{625,000}{.01} \\\\\n&= \\text{\\$}62.5\\;\\text{million},\n\\end{align}\n\\]\nwhich is much more than the timber developer’s offer. The park should not be sold."
  },
  {
    "objectID": "ex/econ340-hw-5.html",
    "href": "ex/econ340-hw-5.html",
    "title": "ECON 340: Homework Assignment 5",
    "section": "",
    "text": "Two plants are emitting a uniformly mixed pollutant called gunk into the beautiful sky over Tourist Town. The city government decides that it can tolerate total emissions of no more than 100 kgs of gunk per day. Plant \\(G\\) has marginal reduction costs of \\(100 - 4x\\), and is currently polluting at a level of 25, while plant \\(K\\) has marginal reduction costs of \\(150 - y\\), and currently pollutes at a level of 150. (\\(x\\) and \\(y\\) are the level of emissions at each plant).\n\n\nWhat is the cost effective pollution level for each plant if total pollution must equal 100? Suppose the city government knows marginal reduction costs at the two plants. In this case could the city obtain cost effective pollution reduction using a CAC approach? If so, how?\n\nAnswer:\n\nWe know two things:\n\n\\[\n\\begin{matrix}\nx+y=100\\;   & \\text{(total pollution equals 100)}\\\\\n100-4x = 150-y &\\text{(marginal reduction costs at both plants are equal)}\n\\end{matrix}\n\\]\n\nThe second condition must hold for the solution to be cost-effective. One can now solve for the two unknowns, \\(x\\) and \\(y\\). The result is \\(x=10\\) and \\(y=90\\). (Check: marginal reduction costs equal \\(60\\) for both firms).\n\n\n\n\n\nIn reality, why might the city have a hard time getting this information? What are the two “Incentive Based” policies that could be used to get a cost effective reduction of pollution to 100 units, without knowing the MC of the two firms? Be specific. Discuss two advantages each method has over the other.\n\nAnswer:\n\nThe cost of pollution reduction is plant specific, and is probably known (roughly) only by the plant’s engineers and managers. The city council could impose a pollution tax equal to $60 per Kg; or it could issue 100 marketable permits. At a tax of $60, plant \\(G\\) would cut back to 10 units of pollution, since for units 25 to 10, cutting back is cheaper than paying the tax. Below 10 units however, the firm would rather pay the tax than cut back. For similar reasons, plant \\(K\\) would cut back to 90 units.\nIf 100 permits were issued, the two plants would have an incentive to buy and sell them until plant \\(G\\) wound up with 10 permits, and plant \\(K\\) 90.\nDisadvantages of taxes vis-à-vis permits: the regulators would not know where exactly to set the tax to get at most 100 units of pollution. The tax would have to be imposed, than adjusted. In addition, firms bear a higher cost. (See Q1c. below)\nDisadvantages of permits vis-à-vis taxes: issues of thin markets and market power are avoided. Revenues to the government provide an incentive for enforcement.\n\n\n\n\n\nSuppose the authorities are considering a tradeable emission permit system in which they give half the permits to each firm, or a tax system. If both systems work perfectly, how much will the firms have to pay, in total, for pollution reduction under the two schemes? Could this explain why Tourist Town would be more likely to adopt a permit give-away system?\n\nAnswer:\nFor this one, it is best to draw graphs for each firm.\n\n\n\n\n\nUnder the tax system, the firms will have to pay clean-up costs equal to the triangles \\(i\\) and \\(l\\). In addition, they will have to pay taxes equal to the rectangles \\(j\\) and \\(h\\).\n\\[\n\\begin{align}\n\\text{Cost for plant } G &= \\frac{1}{2}\\times 15 \\times 60 + 10 \\times 60 = 1050\\\\\n\\text{Cost for plant } K &=  \\frac{1}{2}\\times 60 \\times 60 + 90 \\times 60 = 7200\n\\end{align}\n\\]\nUnder the permit system, each plant will begin with 50 permits, but we know that they will trade until plant \\(K\\) has 90 permits and plant \\(G\\) has 10. Thus, each plant still faces the same clean-up costs, areas \\(i\\) and \\(l\\). But how much will they have to pay for permits? If we assume that permits sell at the market clearing price of $60, plant \\(K\\) will have to buy 40 permits from plant \\(G\\).\n\\[\n\\begin{align}\n\\text{Cost for plant } G &= \\frac{1}{2}\\times 15 \\times 60 - 40 \\times 60 = -1950\\\\\n\\text{Cost for plant } K &=  \\frac{1}{2}\\times 60 \\times 60 + 40 \\times 60 = 4200\n\\end{align}\n\\]\nFrom the firm’s perspective, the permit give-away is much preferred: plant \\(G\\) actually profits from the sale of permits to the tune of 1950.\n\n\n\n\nSeveral theoretical studies have shown that Incentive Based policies might generate huge cost savings, with the IB approach being as much as 22 times cheaper as a CAC approach. Discuss at least three reasons why Tourist Town might not get such substantial savings in moving from CAC regulation to a marketable permit system.\n\nAnswer:\n\nHere’s a list.\n\nMarket power\nThin markets\nMonitoring and compliance\nPerverse relocation incentive\n\nWe can explain how each of these obstacles might reduce the potential for cost-saving from IB regulation.\n\n\n\n\n\nWould a CAC system in Tourist Town generate benefits in the form of either “over-control” or a reduction in hot-spots, relative to an incentive-based approach?\n\nAnswer:\nNo. Both overcontrol and a reduction in hot-spots from CAC regulation would only occur for a non-uniformly mixed pollutant. The problems states that gunk is a uniformly-mixed pollutant.\n\n\n\n\nSuppose the marginal benefits of pollution reduction in Tourist Town are constant and equal to $64. (Each unit of pollution reduction brings in one more tourist, who spends $64.). Is 100 units of pollution, obtained cost effectively, an efficient level? If not, will efficiency be achieved through more or less pollution? Why?\n\nAnswer:\n100 units of pollution is still too much from an efficiency perspective. At 100 units, the marginal cost of reduction is $60, while the marginal benefit is $64. For efficiency, total pollution should be reduced back to 95 units, with plant \\(G\\) polluting 9 and plant \\(K\\) polluting 86. In this case, the marginal cost of reduction is now $64 at each plant.\n\\[\n\\begin{align}\nMC_{G} &= 100 - 4\\times9=64;\\\\\nMC_{K} &= 150 - 86 = 64\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/danl200-hw-4.html",
    "href": "ex/danl200-hw-4.html",
    "title": "DANL 200: Homework Assignment 4",
    "section": "",
    "text": "For Question 1, run the following R command to read the CSV file, spotify_all.csv as data.frame, spotify_all:\n\nspotify_all <- read_csv('https://bcdanl.github.io/data/spotify_all.csv')\n\n\nrmarkdown::paged_table(spotify_all)\n\n\n\n  \n\n\n\n\nThe data.frame spotify_all includes information about Spotify users’ playlists.\n\nThe unit of observation in spotify_all is a track in a music playlist.\n\n\n\n\n\npid: playlist ID; unique ID for playlist\nplaylist_name: a name of playlist\npos: a position of the track within a playlist (starting from 0)\nartist_name: name of the track’s primary artist\ntrack_name: name of the track\nduration_ms: duration of the track in milliseconds\nalbum_name: name of the track’s album\n\n\n\n\n\n\nFind the ten most popular song.\n\nA value of a song is defined as a combination of a artist_name value and a track_name value.\nWho are artists for those ten most popular song?\n\n\n\nQ1a <- spotify_all %>% \n  count(artist_name, track_name) %>% \n  arrange(-n) %>% \n  head(10)\n\nQ1a\n\n# A tibble: 10 × 3\n   artist_name      track_name                              n\n   <chr>            <chr>                               <int>\n 1 Drake            One Dance                             143\n 2 Kendrick Lamar   HUMBLE.                               142\n 3 The Chainsmokers Closer                                129\n 4 DRAM             Broccoli (feat. Lil Yachty)           127\n 5 Post Malone      Congratulations                       119\n 6 Migos            Bad and Boujee (feat. Lil Uzi Vert)   117\n 7 KYLE             iSpy (feat. Lil Yachty)               115\n 8 Lil Uzi Vert     XO TOUR Llif3                         113\n 9 Aminé            Caroline                              107\n10 Khalid           Location                              102\n\n\n\n\n\n\n\n\nFind the five most popular artist in terms of the number of occurrences in the data.frame, spotify_all.\nWhat is the most popular song for each of the five most popular artist?\n\n\nQ1b <- spotify_all %>% \n  group_by(artist_name) %>% \n  mutate(n_popular_artist = n()) %>% \n  ungroup() %>% \n  mutate( artist_ranking = dense_rank( desc(n_popular_artist) ) ) %>% \n  filter( artist_ranking <= 5) %>% \n  group_by(artist_name, track_name) %>% \n  mutate(n_popular_track = n()) %>% \n  group_by(artist_name) %>% \n  mutate(track_ranking = dense_rank( desc(n_popular_track) ) ) %>% \n  filter( track_ranking <= 2) %>%   # I just wanted to see the top two tracks for each artist\n  select(artist_name, artist_ranking, n_popular_artist, track_name, track_ranking, n_popular_track) %>% \n  distinct() %>% \n  arrange(artist_ranking, track_ranking)\n\nQ1b\n\n# A tibble: 10 × 6\n# Groups:   artist_name [5]\n   artist_name    artist_ranking n_popular_artist track_name  track_ranking\n   <chr>                   <int>            <int> <chr>               <int>\n 1 Drake                       1             2715 One Dance               1\n 2 Drake                       1             2715 Jumpman                 2\n 3 Kanye West                  2             1065 Gold Digger             1\n 4 Kanye West                  2             1065 Stronger                2\n 5 Kendrick Lamar              3             1035 HUMBLE.                 1\n 6 Kendrick Lamar              3             1035 DNA.                    2\n 7 Rihanna                     4              915 Needed Me               1\n 8 Rihanna                     4              915 Work                    2\n 9 The Weeknd                  5              913 Starboy                 1\n10 The Weeknd                  5              913 The Hills               2\n# ℹ 1 more variable: n_popular_track <int>\n\n\n\n\n\n\n\n\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between pos and the ten most popular artists.\n\nQ1c <- spotify_all %>% \n  group_by(artist_name) %>% \n  mutate(n_popular_artist = n()) %>% \n  ungroup() %>% \n  mutate( artist_ranking = dense_rank( desc(n_popular_artist) ) ) %>% \n  filter( artist_ranking <= 10) \n  \n# boxplot\nggplot(Q1c,\n       aes(x = pos, y = fct_reorder(artist_name, -artist_ranking)) ) +\n  geom_boxplot() +\n  stat_summary(\n    fun = mean,\n    color = 'red'\n  )\n\n\n\n# histogram\nggplot(Q1c) +\n  geom_histogram(aes(x = pos), binwidth = 1) + \n  facet_grid(fct_reorder(artist_name, artist_ranking) ~ .  , switch = \"y\") +\n  theme(strip.text.y.left = element_text(angle = 0))\n\n\n\n\n\nAll are skewed right.\n\nUsers tend to locate these popular artists’ songs early in their playlist.\n\nThe distribution of pos does not seem to vary a lot across the ten most popular artists.\nAnything noticeable can be mentioned.\n\n\n\n\n\nCreate the data.frame with pid-artist level of observations with the following four variables:\n\npid: playlist id\nplaylist_name: name of playlist\nartist: name of the track’s primary artist, which appears only once within a playlist\nn_artist: number of occurrences of artist within a playlist\n\n\nQ1d <- spotify_all %>% \n  count(pid, playlist_name, artist_name) %>% \n  rename(n_artist = n) %>% \n  arrange(pid, -n_artist, artist_name)\n\nFor example, the resulting data.frame for this question looks as follows:\n\nrmarkdown::paged_table(Q1d)"
  },
  {
    "objectID": "ex/danl200-hw-4.html#variable-description-1",
    "href": "ex/danl200-hw-4.html#variable-description-1",
    "title": "DANL 200: Homework Assignment 4",
    "section": "Variable Description",
    "text": "Variable Description\n\n\nhh: an identifier of the household;\nX_purchase_desc: details on the purchased item;\nquantity: the number of items purchased;\nbrand: Bud Light, Busch Light, Coors Light, Miller Lite, or Natural Light;\ndollar_spent: total dollar value of purchase;\nbeer_floz: total volume of beer, in fluid ounces;\nprice_per_floz: price per fl.oz. (i.e., beer spent/beer floz);\ncontainer: the type of container;\npromo: Whether the item was promoted (coupon or otherwise);\nmarket: Scan-track market (or state if rural);\ndemographic data, including gender, marital status, household income, class of work, race, education, age, the size of household, and whether or not the household has a microwave or a dishwasher."
  },
  {
    "objectID": "ex/danl200-hw-4.html#q2a",
    "href": "ex/danl200-hw-4.html#q2a",
    "title": "DANL 200: Homework Assignment 4",
    "section": "Q2a",
    "text": "Q2a\n\nFind the top 5 markets in terms of the total beer_floz.\nFind the top 5 markets in terms of the total beer_floz of BUD LIGHT.\nFind the top 5 markets in terms of the total beer_floz of BUSCH LIGHT.\nFind the top 5 markets in terms of the total beer_floz of COORS LIGHT.\nFind the top 5 markets in terms of the total beer_floz of MILLER LITE.\nFind the top 5 markets in terms of the total beer_floz of NATURAL LIGHT.\n\n\nQ2a1 <- beer_mkts %>% \n   group_by(market) %>% \n   summarize(beer_floz_tot = sum(beer_floz, na.rm = T)) %>% \n   arrange(-beer_floz_tot) %>% \n   slice(1:5)\n\nQ2a_bud <- beer_mkts %>% \n  filter(brand == \"BUD LIGHT\") %>% \n  group_by(market) %>% \n  summarize(beer_floz_tot = sum(beer_floz, na.rm = T)) %>% \n  arrange(-beer_floz_tot) %>% \n  slice(1:5)\n\nQ2a_busch <- beer_mkts %>% \n  filter(brand == \"BUSCH LIGHT\") %>% \n  group_by(market) %>% \n  summarize(beer_floz_tot = sum(beer_floz, na.rm = T)) %>% \n  arrange(-beer_floz_tot) %>% \n  slice(1:5)\n\nQ2a_coors <- beer_mkts %>% \n  filter(brand == \"COORS LIGHT\") %>% \n  group_by(market) %>% \n  summarize(beer_floz_tot = sum(beer_floz, na.rm = T)) %>% \n  arrange(-beer_floz_tot) %>% \n  slice(1:5)\n\nQ2a_miller <- beer_mkts %>% \n  filter(brand == \"MILLER LITE\") %>% \n  group_by(market) %>% \n  summarize(beer_floz_tot = sum(beer_floz, na.rm = T)) %>% \n  arrange(-beer_floz_tot) %>% \n  slice(1:5)\n\nQ2a_natural <- beer_mkts %>% \n  filter(brand == \"NATURAL LIGHT\") %>% \n  group_by(market) %>% \n  summarize(beer_floz_tot = sum(beer_floz, na.rm = T)) %>% \n  arrange(-beer_floz_tot) %>% \n  slice(1:5)"
  },
  {
    "objectID": "ex/danl200-hw-4.html#q2b",
    "href": "ex/danl200-hw-4.html#q2b",
    "title": "DANL 200: Homework Assignment 4",
    "section": "Q2b",
    "text": "Q2b\n\nFor households that purchased BUD LIGHT at least once, what fraction of households did purchase only BUD LIGHT?\nFor households that purchased BUSCH LIGHT at least once, what fraction of households did purchase only BUSCH LIGHT?\nFor households that purchased COORS LIGHT at least once, what fraction of households did purchase only COORS LIGHT?\nFor households that purchased MILLER LITE at least once, what fraction of households did purchase only MILLER LITE?\nFor households that purchased NATURAL LIGHT at least once, what fraction of households did purchase only NATURAL LIGHT?\nWhich beer brand does have the largest proportion of such loyal consumers?\n\n\nq2b <- beer_mkts %>% \n  mutate(bud = ifelse(brand==\"BUD LIGHT\", 1, 0), # 1 if brand==\"BUD LIGHT\"; 0 otherwise\n         busch = ifelse(brand==\"BUSCH LIGHT\", 1, 0),\n         coors = ifelse(brand==\"COORS LIGHT\", 1, 0),\n         miller = ifelse(brand==\"MILLER LITE\", 1, 0),\n         natural = ifelse(brand==\"NATURAL LIGHT\", 1, 0),\n         .after = hh) %>% \n  select(hh:natural) %>%  # select the variables we need\n  group_by(hh) %>% \n  summarise(n_transactions = n(), # number of beer transactions for each hh\n            n_bud = sum(bud), # number of BUD LIGHT transactions for each hh\n            n_busch = sum(busch), \n            n_coors = sum(coors), \n            n_miller = sum(miller), \n            n_natural = sum(natural) \n  ) %>% \n  summarise(loyal_bud = sum(n_transactions == n_bud) / sum(n_bud > 0), \n              # sum(n_transactions == n_bud) : the number of households that purchased BUD LIGHT only\n              # sum(n_bud > 0) : the number of households that purchased BUD LIGHT at least once.\n            loyal_busch = sum(n_transactions == n_busch) / sum(n_busch > 0),\n            loyal_coors = sum(n_transactions == n_coors) / sum(n_coors > 0),\n            loyal_miller = sum(n_transactions == n_miller) / sum(n_miller > 0),\n            loyal_natural = sum(n_transactions == n_natural) / sum(n_natural > 0)\n  )\n\nq2b\n\n# A tibble: 1 × 5\n  loyal_bud loyal_busch loyal_coors loyal_miller loyal_natural\n      <dbl>       <dbl>       <dbl>        <dbl>         <dbl>\n1     0.660       0.473       0.639        0.631         0.510"
  },
  {
    "objectID": "ex/danl200-hw-4.html#q2c",
    "href": "ex/danl200-hw-4.html#q2c",
    "title": "DANL 200: Homework Assignment 4",
    "section": "Q2c",
    "text": "Q2c\n\nFor each household, calculate the number of beer transactions.\nFor each household, calculate the proportion of each beer brand choice.\n\n\nq2c <- beer_mkts %>% \n  count(hh, brand) %>% \n  group_by(hh) %>% \n  mutate(n_tot = sum(n)) %>%  # n_tot : the number of beer transactions\n  arrange(hh, brand) %>% \n  mutate( prop = n / n_tot ) # prop: the proportion of each beer brand choice\n\nq2c\n\n# A tibble: 13,202 × 5\n# Groups:   hh [10,408]\n        hh brand           n n_tot  prop\n     <dbl> <chr>       <int> <int> <dbl>\n 1 2000235 BUD LIGHT       1     1 1    \n 2 2000417 COORS LIGHT     8     8 1    \n 3 2000711 COORS LIGHT    13    13 1    \n 4 2000946 BUD LIGHT       1     2 0.5  \n 5 2000946 MILLER LITE     1     2 0.5  \n 6 2001521 BUD LIGHT       6    11 0.545\n 7 2001521 COORS LIGHT     3    11 0.273\n 8 2001521 MILLER LITE     2    11 0.182\n 9 2001531 BUSCH LIGHT     1     1 1    \n10 2001581 BUSCH LIGHT     5     5 1    \n# ℹ 13,192 more rows"
  },
  {
    "objectID": "ex/danl200-hw-5.html",
    "href": "ex/danl200-hw-5.html",
    "title": "DANL 200: Homework Assignment 5",
    "section": "",
    "text": "Submit the danl200-hw5-YOUR_LAST_NAME-YOUR_FIRST_NAME.qmd file to Brightspace for Q1a and Question 2 in Homework Assignment 5.\n\nRendering the file, danl200-hw5-YOUR_LAST_NAME-YOUR_FIRST_NAME.qmd, should not give any errors.\n\nDue is December 11, 11:59 P.M."
  },
  {
    "objectID": "ex/danl200-hw-5.html#q1a.",
    "href": "ex/danl200-hw-5.html#q1a.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q1a.",
    "text": "Q1a.\n\nProvide a link for your GihtHub repository, https://github.com/YOUR_GITHUB_USERNAME/YOUR_GITHUB_USERNAME.github.io\nAdd a URL for your website (https://YOUR_GITHUB_USERNAME.github.io/) in the About section in your GihtHub repository webpage by clicking the setting. For example, the below shows the :\n\n\nknitr::include_graphics(\"github-repo.png\")"
  },
  {
    "objectID": "ex/danl200-hw-5.html#q1b.",
    "href": "ex/danl200-hw-5.html#q1b.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q1b.",
    "text": "Q1b.\n\nMake sure that your GitHub repository, named YOUR_GITHUB_USERNAME.github.io, is set to public.\nUpdate your website at https://YOUR_GITHUB_USERNAME.github.io/index.html to:\n\nInclude links to (1) your LinkedIn page, (2) GitHub page (https://github.com/YOUR_GITHUB_USERNAME), and (3) a PDF file of your Rèsume (https://YOUR_GITHUB_USERNAME.github.io/YOUR_RESUME.pdf).\nOffer a description of yourself, detailing your education background and professional experience.\nDisplay your own profile picture with your face, not the one shown below."
  },
  {
    "objectID": "ex/danl200-hw-5.html#q1c.",
    "href": "ex/danl200-hw-5.html#q1c.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q1c.",
    "text": "Q1c.\n\nChange the title of your blog.\n\nThat is, to replace Insightful Analytics with your own blog name.\n\nRemove the blog posts Post With Code, Starwars, and Beer Markets.\nRevise the Welcome To My Blog post.\nPost three different blog articles based on data analysis using the following three CSV files:\n\nhttps://bcdanl.github.io/data/DOHMH_NYC_Restaurant_Inspection.csv\nhttps://bcdanl.github.io/data/spotify_all.csv\nhttps://bcdanl.github.io/data/beer_markets.csv\n\n\nMake sure that each blog post has categories and is associated with a proper image file that is displayed as a thumbnail at the list page of the blog.\nMake sure that each blog post uses emojis properly. (E.g., 😄 🍺 🎶 🍕)\nMake sure that each blog post includes its thumbnail image and at least three ggplot figures.\nYou can refer to the previous DANL 200 Homework Assignments and Exams for your blog posts."
  },
  {
    "objectID": "ex/danl200-hw-5.html#variable-description",
    "href": "ex/danl200-hw-5.html#variable-description",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Variable description",
    "text": "Variable description\n\nplay_id: Numeric play identifier that when used with game_id and drive provides the unique identifier for a single play\ngame_id: Ten digit identifier for NFL game.\ndrive: Numeric drive number in the game.\nweek: Season week.\nposteam: String abbreviation for the team with possession.\nqtr: Quarter of the game (5 is overtime).\nhalf_seconds_remaining: Numeric seconds remaining in the half.\ndown: The down for the given play.\n\nBasically you get four attempts (aka downs) to move the ball 10 yards (by either running with it or passing it).\nIf you make 10 yards then you get another set of four downs.\n\npass: Binary indicator if the play was a pass play.\nwp: Estimated winning probability for the posteam given the current situation at the start of the given play."
  },
  {
    "objectID": "ex/danl200-hw-5.html#q2a.",
    "href": "ex/danl200-hw-5.html#q2a.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q2a.",
    "text": "Q2a.\nIn data.frame, NFL2022_stuffs, remove observations for which values of posteam is missing.\nAnswer:\n\nq2a <- NFL2022_stuffs %>% \n  filter(!is.na(posteam))"
  },
  {
    "objectID": "ex/danl200-hw-5.html#q2b.",
    "href": "ex/danl200-hw-5.html#q2b.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q2b.",
    "text": "Q2b.\n\nSummarize the mean value of pass for each posteam when all the following conditions hold:\n\nwp is greater than 20% and less than 75%;\ndown is less than or equal to 2; and\nhalf_seconds_remaining is greater than 120.\n\n\nAnswer:\n\nq2b <- q2a %>%\n  filter(wp > .20, wp < .80, down <= 2, qtr <= 2, \n         half_seconds_remaining > 120) %>%\n  group_by(posteam) %>%\n  summarize(mean_pass = mean(pass), \n            plays = n()) %>%\n  arrange(mean_pass)"
  },
  {
    "objectID": "ex/danl200-hw-5.html#q2c.",
    "href": "ex/danl200-hw-5.html#q2c.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q2c.",
    "text": "Q2c.\n\nProvide both (1) a ggplot code with geom_point() using the resulting data.frame in Q2b and (2) a simple comments to describe the mean value of pass for each posteam.\n\nIn the ggplot, reorder the posteam categories based on the mean value of pass in ascending or in descending order.\n\n\nAnswer:\n\nggplot(data = q2b,\n       aes( y = reorder(posteam, mean_pass), \n            x = mean_pass)) +\n  geom_point() +\n  labs(y = \"Team with possession\",\n       x = \"Percentage of pass plays\",\n       title = \"Passing stats in NFL 2022\")"
  },
  {
    "objectID": "ex/danl200-hw-5.html#q2d.",
    "href": "ex/danl200-hw-5.html#q2d.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q2d.",
    "text": "Q2d.\n\nConsider the following data.frame, NFL2022_epa:\n\n\nNFL2022_epa <- read_csv('https://bcdanl.github.io/data/NFL2022_epa.csv')\n\nrmarkdown::paged_table(NFL2022_epa)\n\n\n\n  \n\n\n\nVariable description for NFL2022_epa\n\nplay_id: Numeric play identifier that when used with game_id and drive provides the unique identifier for a single play\ngame_id: Ten digit identifier for NFL game.\ndrive: Numeric drive number in the game.\nposteam: String abbreviation for the team with possession.\npasser: Name of the player who passed a ball to a receiver by initially taking a three-step drop and backpedaling into the pocket to make a pass. (Mostly, they are quarterbacks)\nreceiver: Name of the receiver.\nepa: Expected points added (EPA) by the posteam for the given play.\n\nCreate the data.frame, NFL2022_stuffs_EPA, that includes\n\nAll the variables in the data.frame, NFL2022_stuffs;\nThe variables, passer, receiver, and epa, from the data.frame, NFL2022_epa. by joining the two data.frames.\n\nIn the resulting data.frame, NFL2022_stuffs_EPA, remove observations with NA in passer.\n\nAnswer:\n\nq2d <- NFL2022_stuffs %>% \n  left_join(NFL2022_epa) %>% \n  filter(!is.na(passer))"
  },
  {
    "objectID": "ex/danl200-hw-5.html#q2e.",
    "href": "ex/danl200-hw-5.html#q2e.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q2e.",
    "text": "Q2e.\n\nProvide both (1) a single ggplot and (2) a simple comment to describe the NFL weekly trend of weekly mean value of epa for each of the following two passers,\n\n\"J.Allen\"\n\"P.Mahomes\"\n\n\nAnswer:\n\nq2e <- q2d %>%\n  filter( str_detect(passer, \"J.Allen\") | \n            str_detect(passer, \"P.Mahomes\"))%>%\n  group_by(week, passer) %>% \n  summarize(mean_epa = mean(epa, na.rm = TRUE))\n\n\nggplot( q2e, \n        aes(x = week, y = mean_epa, color = passer) ) +\n  geom_line(size = 1) + geom_point(size = 2) +\n  labs(x = \"Week\",\n       y = \"Mean value of expected points added (EPA)\",\n       color = \"Passer\") +\n  # scale_color_tableau() +\n  scale_color_fivethirtyeight() +\n  theme(legend.position = 'top')"
  },
  {
    "objectID": "ex/danl200-hw-5.html#q2f.",
    "href": "ex/danl200-hw-5.html#q2f.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q2f.",
    "text": "Q2f.\nCalculate the difference between the mean value of epa for \"J.Allen\" the mean value of epa for \"P.Mahomes\" for each value of week.\nAnswer:\n\nq2f <- q2e %>% \n  pivot_wider(values_from = mean_epa,\n              names_from = passer) %>% \n  mutate(diff_epa = J.Allen - P.Mahomes)"
  },
  {
    "objectID": "ex/danl200-hw-5.html#q2g.",
    "href": "ex/danl200-hw-5.html#q2g.",
    "title": "DANL 200: Homework Assignment 5",
    "section": "Q2g.",
    "text": "Q2g.\n\nSummarize the resulting data.frame in Q2d, with the following four variables:\n\nposteam: String abbreviation for the team with possession.\npasser: Name of the player who passed a ball to a receiver by initially taking a three-step drop, and backpedaling into the pocket to make a pass. (Mostly, they are quarterbacks.)\nmean_epa: Mean value of epa in 2022 for each passer\nn_pass: Number of observations for each passer\n\nThen find the top 10 NFL passers in 2022 in terms of the mean value of epa, conditioning that n_pass must be greater than or equal to the third quantile level of n_pass.\n\nAnswer:\n\nq2g <- q2d %>%\n  group_by(posteam, passer) %>% \n  summarize(mean_epa = mean(epa, na.rm = TRUE),\n            n_pass = n()) \n# skimr::skim(q2g) # \n\nq2g <- q2g %>% \n  ungroup() %>% \n  filter(n_pass > quantile(q2g$n_pass, probs = .75)) %>% \n  arrange(-mean_epa)"
  },
  {
    "objectID": "ex/econ340-hw-4.html",
    "href": "ex/econ340-hw-4.html",
    "title": "ECON 340: Homework Assignment 4",
    "section": "",
    "text": "One of the Clean Air Act Amendments passed by the U.S. government in 1990 was designed to control the emission of hazardous air pollutants. The EPA released a publication that year which estimated that at 149 industrial facilities nation-wide, cancer risks to the most exposed local residents from air-borne toxics were greater than 1 in 10 thousand; at 45 plants risks were greater than 1 in 1 thousand.\nThe new air toxics law required firms to impose control technology that, it was hoped, would reduce risks to below the 1 in 10 thousand level. After the control technologies are installed, a follow-up risk analysis will be conducted to see if further control is necessary to further reduce any unsafe exposure. While the legislation does not require risk reduction to the 1 in 1 million level, that remains the long run target.\n\n\n\nClearly, air toxics control is justified on safety grounds. Suppose that total benefits of the legislation just matched total costs, at $5 billion annually.\nWould air toxics control be justified on efficiency grounds? \n\nAnswer:\nNo. If total benefits equal total costs, net benefits are zero, and pollution control is (generally) too strict from an efficiency perspective. Efficiency occurs where marginal costs and benefits are equal.\n\n\n\n\n\nSome economist has in fact criticized the legislation from an efficiency perspective. - He puts estimated total costs at $6 to $10 billion per year, with total benefits at $0 to $ 4 billion per year. The air toxics legislation attacks some fairly significant risks.\nHow can the estimated benefits be so low (as low as zero)?\n\n\nAnswer:\nAlthough the risks from exposure to airborne toxics are significant, as with landfills they are fairly localized. Thus, not that many folks are actually exposed. (As we noted in the chapter, those who are exposed are more likely to be poor or working class, and/or members of racial minorities.) Some economist argues that 500 reduced cancer deaths per year is a “generous” estimate of the impact of the policy; indeed, he suggests it may be as low as 0. Five hundred fewer cancer deaths registers in the efficiency framework as monetary benefits of from $1 to $5 billion.\n\n\n\n\n\nSuppose the air toxics regulations raised household expenditures on gasoline (due to extra controls on oil refineries) by an average of $20 per year.\nIf millionaire Mary and janitor Jane each paid the extra $20, in what sense is the impact of the legislation regressive?\n\n\nAnswer:\nRegressive policies occur when poor folks pay a higher percentage of their income than do rich folks. Any regulation which costs all people the same dollar amount will thus be regressive."
  },
  {
    "objectID": "ex/econ340-hw-4.html#q2a.",
    "href": "ex/econ340-hw-4.html#q2a.",
    "title": "ECON 340: Homework Assignment 4",
    "section": "Q2a.",
    "text": "Q2a.\n\nWhat is the present value of $450 in ten years at a discount rate of 10%?\n\n\nAnswer: \\[\nPDV=\\frac{450}{1.1^{10}} = 173.49\n\\]"
  },
  {
    "objectID": "ex/econ340-hw-4.html#q2b.",
    "href": "ex/econ340-hw-4.html#q2b.",
    "title": "ECON 340: Homework Assignment 4",
    "section": "Q2b.",
    "text": "Q2b.\n\nIn the absence of regulation, SUNY is likely to bury the stuff and save $175.\n\nIf the interest rate is 10%, is it efficient for SUNY to bury her waste in the landfill?\nTo answer this, discuss how Geneseo could maximize his utility if he had the legal right to prevent the dumping (and was not an ardent environmentalist).\nWhat does this say about the relative size of the total net monetary benefits under the two alternatives?\nHow do total net benefits relate to efficiency?\n\n\n\nAnswer:\nBurial is efficient, since if SUNY banked $173.49, in 10 years time she would have enough to compensate Bacchus for his ruined vineyard. Since she would save $1.51 today, everyone would be better off and no one worse off. If Bacchus could prohibit the dumping, he would nevertheless agree to it, provided SUNY paid him a little more than $173.49 today—thus he would come out ahead too. Note however, that even if Bacchus is not compensated at all for the damage, dumping is still efficient. Efficiency always maximizes total net measurable monetary benefits, that is, the size of the economic pie. When the pie is enlarged, its always possible for everyone to get a bigger slice."
  },
  {
    "objectID": "ex/econ340-hw-4.html#q2c.",
    "href": "ex/econ340-hw-4.html#q2c.",
    "title": "ECON 340: Homework Assignment 4",
    "section": "Q2c.",
    "text": "Q2c.\n\nIs burying the waste equitable? Why or why not? Could the use of an environmental bond satisfy a fairness problem if it exists?\n\n\nAnswer:\nIf Bacchus is not compensated, dumping would be unfair by most people’s standards. If SUNY were forced to post an environmental bond of $173.49, than Bacchus would be compensated for damages when they occurred, leading to an outcome that is both efficient and fair."
  },
  {
    "objectID": "ex/econ340-hw-4.html#q2d.",
    "href": "ex/econ340-hw-4.html#q2d.",
    "title": "ECON 340: Homework Assignment 4",
    "section": "Q2d.",
    "text": "Q2d.\n\nDiscuss burying the waste through the lenses of weak and strong sustainability.\n\n\nAnswer:\nStrong sustainability proponents tend to argue that natural capital is not easily replaced; the action would thus only weakly sustainable if the natural capital that is destroyed– a high-quality vineyard– is in fact replaced by created capital. In this case, for example, the created capital might be biotechnology grapes capable of growing on previously underutilized soil."
  },
  {
    "objectID": "ex/econ340-cw-11.html",
    "href": "ex/econ340-cw-11.html",
    "title": "ECON 340: Classwork 11 - Price vs. Quantity",
    "section": "",
    "text": "Suppose that the (external) damage done by polluting goods \\(Q\\) is known to be \\(MD = 300 + 5Q\\), and the (private) cost and benefit are given by \\(MC = 100 + 2Q\\) and \\(MB = D_{0} + 2Q\\), where \\(D_{0}\\) is not precisely known."
  },
  {
    "objectID": "ex/econ340-cw-11.html#q1a.",
    "href": "ex/econ340-cw-11.html#q1a.",
    "title": "ECON 340: Classwork 11 - Price vs. Quantity",
    "section": "Q1a.",
    "text": "Q1a.\nIf \\(D_{0} = 1,000\\), what would be the optimal quantity? What tax would be necessary in order for that to be the equilibrium quantity?"
  },
  {
    "objectID": "ex/econ340-cw-11.html#q1b.",
    "href": "ex/econ340-cw-11.html#q1b.",
    "title": "ECON 340: Classwork 11 - Price vs. Quantity",
    "section": "Q1b.",
    "text": "Q1b.\nSuppose that, based on the result from Q1a, a cap-and-trade system is imposed to allow the optimal quantity of pollution to be produced. If \\(D_{0} = 900\\), what would be the deadweight loss associated with having the wrong quantity?"
  },
  {
    "objectID": "ex/econ340-cw-11.html#q1c.",
    "href": "ex/econ340-cw-11.html#q1c.",
    "title": "ECON 340: Classwork 11 - Price vs. Quantity",
    "section": "Q1c.",
    "text": "Q1c.\nSuppose that, based on the result from part Q1a, a tax is imposed to allow the optimal quantity of pollution to be produced. If \\(D_{0} = 900\\), what would be the deadweight loss associated with having the wrong tax level?"
  },
  {
    "objectID": "ex/econ340-cw-11.html#q1d.",
    "href": "ex/econ340-cw-11.html#q1d.",
    "title": "ECON 340: Classwork 11 - Price vs. Quantity",
    "section": "Q1d.",
    "text": "Q1d.\nIf \\(D_{0}\\) is not exactly known, which is likely to give better results, a cap-and-trade system or a tax? What would be the answer to this question if the marginal damage were \\(300 + 3Q\\) instead of \\(300 + 5Q\\)?"
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html",
    "href": "ex/econ340-midterm-1-a.html",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "",
    "text": "I solemnly swear that I will not cheat or engage in any form of academic dishonesty during this exam.\nI will not communicate with other students or use unauthorized materials.\nI will uphold the integrity of this exam and demonstrate my own knowledge and abilities.\nBy taking this pledge, I acknowledge that academic dishonesty undermines the academic process and is a violation of the trust placed in me as a student.\nI accept the consequences of any violation of this promise.\n\nStudent’s Name:\nStudent’s ID:\nStudent’s Signature:"
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1a.",
    "href": "ex/econ340-midterm-1-a.html#q1a.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1a.",
    "text": "Q1a.\nWho will win or share Nobel Prize in Economic Science this year?\nAnswer:\n\n\n\n\n\nMore details in Professor Goldin’s contribution can be found here: https://www.nobelprize.org/prizes/economic-sciences/2023/press-release/."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1b.",
    "href": "ex/econ340-midterm-1-a.html#q1b.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1b.",
    "text": "Q1b.\n\n Market goods  include tomatoes, VCRs and basketball shoes. Nonmarket goods include clean air, charitable deeds, and the view from a mountain top."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1c.",
    "href": "ex/econ340-midterm-1-a.html#q1c.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1c.",
    "text": "Q1c.\n\nProponents of a safety standard argue that people have a right to protection from unsolicited damage to their health."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1d.",
    "href": "ex/econ340-midterm-1-a.html#q1d.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1d.",
    "text": "Q1d.\n\nBoth sources and sinks make up natural capital : the inputs that nature provides for our production and consumption proccesses."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1e.",
    "href": "ex/econ340-midterm-1-a.html#q1e.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1e.",
    "text": "Q1e.\n\nGovernment regulation of pollution is one way of internalizing externalities."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1f.",
    "href": "ex/econ340-midterm-1-a.html#q1f.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1f.",
    "text": "Q1f.\nWhat is the definition of Pareto efficieny?\nAnswer:\nPareto efficiency describes a situation in which it is impossible to make one person better off without making anyone else worse off."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1g.",
    "href": "ex/econ340-midterm-1-a.html#q1g.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1g.",
    "text": "Q1g.\nWhat does Coase Theorem says?\nAnswer:\nIf (1) polluter and victim can bargain costlessly, (2) property rights are well-defined, and (3) there is no free-riding, then private negotiation should arrive at the efficient outcome regardless of who has the initial right to pollute or prevent pollution."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1h.",
    "href": "ex/econ340-midterm-1-a.html#q1h.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1h.",
    "text": "Q1h.\nWhat are the definitions of the willingness to pay (WTP) and the willingness to accept (WTA) for environmental quality?\nAnswer:\n\nWTP measures the monetary value one is willing to pay to attain improved quality, while maintaining the same level of utility experienced prior to the quality improvement.\nWTA measures the monetary compensation one is willing to accept to forgo the improved quality, ensuring that the level of utility remains as what it would be with the quality improvement."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1i.",
    "href": "ex/econ340-midterm-1-a.html#q1i.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1i.",
    "text": "Q1i.\nA “tragedy of the commons” occurs for resources like the air that are commonly owned\n\nbecause users weigh the full social costs against private benefits.\n\nb. when there is free access to the resource.\n\nwhen there is effective regulation of resource use.\nwhen the population is small and stable.\nbecause users internalize the negative externality associated with the resource use."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q1j.",
    "href": "ex/econ340-midterm-1-a.html#q1j.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q1j.",
    "text": "Q1j.\n\nEconomists use survey approaches for measuring the benefits of environmental protections called contingent valuation. The four possible errors in these survey estimates are:\n\n\nHypothetical bias\nFree-riding\nStrategic bias\nEmbedding bias"
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q2a.",
    "href": "ex/econ340-midterm-1-a.html#q2a.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q2a.",
    "text": "Q2a.\nDraw curves for (1) demand, (2) marginal private cost, and (3) marginal social cost.\nAnswer:\nNote that the demand curve is represented by the following inverse demand curve: \\[\nP(Q) = 10 - \\frac{1}{2}Q.\n\\]\nSince the time of Alfred Marshall, price has been represented on the y-axis and quantity on the x-axis.\nThe following functions describe curves for (1) marginal private cost (MPC) and (2) marginal social cost (MSC).\n\nMPC: \\(MPC(Q) = \\frac{PC(Q)}{dQ} = Q + 1\\)\nMSC: \\(MSC(Q) = MPC + MEC = Q + 5\\), where \\(MEC = \\frac{dEC(Q)}{dQ} = 4\\)."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q2b.",
    "href": "ex/econ340-midterm-1-a.html#q2b.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q2b.",
    "text": "Q2b.\nWhat is the size of the social damage caused by the producer’s activity?\nAnswer:\nFailing to internalize the external cost of pollution results in overproduction, which in turn reduces both consumer and producer surplus. This harm, in terms of lost welfare, is referred to as the deadweight loss (DWL).\n\n\nThe size of DWL caused by the overproduction is represented as the shaded triangle area \\(\\Delta ABC\\) below:\n\n\n\n\n\n\nWith no government intervention on pollution control, the equilibrium point is \\(A\\), where \\((Q^{*}, P^{*}) = (6,7)\\).\nWith internalizing the external cost, the equilibrium point is \\(B\\), where \\((Q^{o}, P^{o}) = \\left(\\frac{10}{3},\\frac{25}{3}\\right)\\).\n\nTherefore, \\(DWL = \\Delta ABC\\) is:\n\\[\n\\begin{align}\nDWL &= \\frac{1}{2}\\times\\left(6 - \\frac{10}{3}\\right)\\times 4 \\\\\n&= \\frac{16}{3}.\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q2c.",
    "href": "ex/econ340-midterm-1-a.html#q2c.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q2c.",
    "text": "Q2c.\n\nLet \\(T\\) denote the tax levied on each unit of the goods produced, and the regulatory authority decides to internalize social damage by this Pigouvian tax scheme.\n\nSolve the optimal value for \\(T\\).\nHow much is the tax revenue?\n\n\nAnswer:\nThe Pigouvian tax is set to the marginal external cost! Given that this cost is 4, the optimal tax rate \\(T\\) is 4. Accordingly, the tax revenue is calculated as \\(4 \\times \\frac{10}{3} = \\frac{40}{3}\\).\nGraphically, the Pigouvian tax shifts the firm’s marginal private cost (MPC) curve upward by the amount of the tax rate \\(T\\). After the tax, the MPC becomes equivalent to the MSC curve, achieving the socially optimal level of production \\(Q^{o}\\).\nAnalytically, we can also derive the optimal tax by setting the firm’s profit maximization problem with per-unit tax \\(T\\). Taking the price \\(P\\) as given, the firm solves the following problem: \\[\n\\begin{align}\n\\max_{Q}\\,\\Pi\\,= \\, P\\times Q - PC(Q) - TQ\\tag{Profit-max}\n\\end{align}\n\\] Here the firm is a price taker. First-order condition for problem (Profit-max) is: \\[\n\\begin{align}\n\\frac{d\\Pi}{dQ} &= P - MPC(Q) - T = 0 \\tag{FOC-T}\n\\end{align}\n\\] Since the optimal tax \\(T^{*}\\) must induce the firm to produce \\(Q^{o} = \\frac{10}{3}\\), (FOC-T) implies that\n\\[\n\\begin{align}\nT^{*} &= P(Q^{o}) - MPC(Q^{o})\\\\\n&= 10 - \\frac{1}{2}Q^{o} - (Q^{o} + 1)\\\\\n&= 9 - \\frac{3}{2}Q^{o}\\\\\n&= 4.\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q3a.",
    "href": "ex/econ340-midterm-1-a.html#q3a.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q3a.",
    "text": "Q3a.\nIn equilibrium, how much would each individual contribute to the fund?\nAnswer:\nNotice that each person \\(i\\)’s utility strictly decreases with \\(g_{i}\\).\n\\[\n\\begin{align}\n\\frac{d U_{i}}{d g_{i}} = -1 + \\frac{R}{N} < 0.\\tag{FOC-i}\n\\end{align}\n\\] Therefore, \\(g_{i}^{*} = 0\\).\nImplicitly, the constraint for \\(g_{i}\\) is \\(0\\leq g_{i} \\leq y\\)."
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q3b.",
    "href": "ex/econ340-midterm-1-a.html#q3b.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q3b.",
    "text": "Q3b.\nUnder the efficiency standard, what is the social welfare function?\nAnswer:\nSince all villagers are identical, the social welfare function is \\(N\\) times \\(U_{i}\\):\n\\[\n\\begin{align}\nSW &= N \\times U_{i}\\qquad\\text{ for any villager }\\; i = 1, 2, \\cdots, N\\\\\n&= N \\times \\left(\\,y - g_{i} + \\frac{R}{N} \\times G\\,\\right) \\\\\n&= Ny +( R - 1 )\\times G\\\\\n&= Ny +( R - 1 )\\times (G_{-i} + g_{i})\\\\\n&= Ny +( R - 1 )\\times (g_{1} + g_{2} + \\cdots + g_{N})\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-midterm-1-a.html#q3c.",
    "href": "ex/econ340-midterm-1-a.html#q3c.",
    "title": "Fall 2023 ECON 340 Midterm Exam 1",
    "section": "Q3c.",
    "text": "Q3c.\nWhat is the socially optimal level of \\(g_{i}\\), for which the Social Planner chooses?\nAnswer:\nNotice that the social welfare strictly increases with \\(g_{i}\\).\n\\[\n\\begin{align}\n\\frac{\\partial SW}{\\partial g_{i}} = R - 1 > 0.\\tag{FOC-SP}\n\\end{align}\n\\]\nTherefore, \\(g_{i}^{o} = y\\).\nNote that the above solution ignores the resource constraint the Social Planner faces:\n\\[\nNy\\,\\geq\\, g_{1} + g_{2} + \\cdots + g_{N} \\,\\geq\\, 0.\\tag{RC}\n\\]\nIf we take into account (RC), the solution is\n\\[\n\\left\\{(g_{1}^{o}, g_{2}^{o}, \\cdots, g_{N}^{o}) :  g_{1}^{o} + g_{2}^{o} + \\cdots + g_{N}^{o} = Ny,\\; g_{i}^{o} \\geq 0 \\text{ for all } i = 1, 2, \\cdots, N. \\right\\}\n\\]"
  },
  {
    "objectID": "ex/econ340-hw-3-sol.html",
    "href": "ex/econ340-hw-3-sol.html",
    "title": "ECON 340: Homework Assignment 3",
    "section": "",
    "text": "The town of Geneseo has two residents: Ben and Tiana. The town currently funds its sustainability department solely from the individual contributions of Ben and Tiana.\nBen and Tiana have their own utility functions, \\(U_{B}\\) and \\(U_{T}\\) respectively, over private goods ( \\(X\\) ) and total sustainability workers ( \\(M\\) ) of the forms:\n\\[U_{B} = 3 × \\log(X_{B}) + 3 × \\log(M).\\] \\[U_{T} = 4 × \\log(X_{T}) + 2 × \\log(M).\\]\nThe total provision of sustainability workers hired, \\(M\\), is the sum of the number hired by each of the two persons:\n\\[M = M_{B} + M_{T}.\\]\nBen and Tiana both have income of \\(\\$100\\), and the price of both the private good and the sustainability worker is \\(\\$1\\). Therefore, they are limited to providing between 0 and 100 sustainability workers.\n\n\n\n\nHow many sustainability workers are hired if the Geneseo government does not intervene?\n\nHow many are paid for by Ben? By Tiana?\nDescribe the Ben’s and the Tiana’s decisions on provision of sustainability workers using a graph in the \\((M_{B}, M_{T})\\) space.\n\n\n\nTaking the Tiana’s action and the prices of the private good and the sustainability worker as given, Ben maximizes his utility:\n\\[\n\\begin{align}\n\\max_{M_{B}}\\; U_{B} &= 3 × \\log(100 -  M_{B}) + 3 × \\log(M_{B} + M_{T}),\\tag{UMax-B}\n\\end{align}\n\\] where \\(X_{B} = 100 - M_{B}\\).\nThe first-order condition for problem (Umax-B) is:\n\\[\n\\frac{d U_{B}}{dM_{B}} = -\\frac{3}{100-M_{B}} + \\frac{3}{M_{B} + M_{T}} = 0.\\tag{FOC-B}\n\\] (FOC-B) simplifies to\n\\[\nM_{B} = 50 - \\frac{1}{2}M_{T}.\\tag{Action-B}\n\\]\nTaking the Ben’s action and the prices of the private good and the sustainability worker as given, Tiana maximizes his utility:\n\\[\n\\begin{align}\n\\max_{M_{T}}\\; U_{T} &= 4 × \\log(100 -  M_{T}) + 2 × \\log(M_{B} + M_{T}),\\tag{UMax-T}\n\\end{align}\n\\] where \\(X_{T} = 100 - M_{T}\\).\nThe first-order condition for problem (Umax-T) is:\n\\[\n\\frac{d U_{T}}{dM_{T}} = -\\frac{4}{100-M_{T}} + \\frac{2}{M_{T} + M_{T}} = 0.\\tag{FOC-T}\n\\] (FOC-T) simplifies to\n\\[\nM_{T} = \\frac{1}{3}(100 - 2M_{B}).\\tag{Action-T}\n\\]\nBoth Ben’s and Tiana’s optimal decisions on how many sustainability workers to hire are characterized by (Action-B) and (Action-T), respectively. Solving the two unknowns—\\(M_{B}\\) and \\(M_{T}\\)—in the two equations—(Action-B) and (Action-T)—gives us:\n\\[\n(M_{B}^{*}, M_{T}^{*}) = (50, 0).\n\\] Therefore, the total provision of sustainability workers under no government intervention is \\(M^{*} = M_{B}^{*} + M_{T}^{*} = 50\\). \nThe following describes Ben’s and Tiana’s reactions to the other individual’s choice on the number of sustainability workers to hire:\n\n\n\n\n\n\n\n\n\nWhat is the socially optimal number of sustainability workers if the Social planner appreciates each individual’s budget constraint?\n\n\nTaking both Ben’s and Tiana’s budget constraints as given, the Social Planner chooses \\(M_{B}\\) and \\(M_{T}\\) to maximize the social welfare \\(SW = U_{B} + U_{T}\\): \\[\n\\begin{align}\n\\max_{M_{B}, M_{T}}\\; SW &= 3 × \\log(100 -  M_{B}) + 4 × \\log(100 -  M_{T}) + 5 × \\log(M_{B} + M_{T}),\\tag{SWMax}\n\\end{align}\n\\]\nFirst-order conditions for problem (SWMax) are:\n\\[\n\\begin{align}\n\\frac{\\partial SW}{\\partial M_{B}} = -\\frac{3}{100-M_{B}} + \\frac{5}{M_{B}+M_{T}} = 0; \\tag{FOC-SW-B}\\\\\n\\frac{\\partial SW}{\\partial M_{B}} = -\\frac{4}{100-M_{T}} + \\frac{5}{M_{B}+M_{T}} = 0. \\tag{FOC-SW-T}\n\\end{align}\n\\] (FOC-SW-B) and (FOC-SW-T) simplify to\n\\[\n\\begin{align}\nM_{B} = \\frac{1}{8}(500 - 3M_{T});\\tag{Action-SW-B}\\\\\nM_{T} = \\frac{1}{9}(100 - 4M_{B}).\\tag{Action-SW-T}\n\\end{align}\n\\]\nThe Social Planner’s allocation of the number of Ben’s and Tiana’s sustainability workers is characterized by (Action-SW-B) and (Action-SW-T). Solving the two unknowns—\\(M_{B}\\) and \\(M_{T}\\)—in the two equations—(Action-SW-B) and (Action-SW-T)—gives us:\n\\[\n(M_{B}^{o}, M_{T}^{o}) = \\left(50, \\frac{100}{3}\\right).\n\\] Therefore, the socially optimal level of sustainability workers is \\(M^{o} = M_{B}^{o} + M_{T}^{o} = \\frac{250}{3}\\), which is greater than the one in Q1a. The sustainability workers are underprovided in the private market.\n\nThe following plots (Action-SW-B) and (Action-SW-T), describing how the Social Planner allocates Ben’s and Tiana’s sustainability workers:\n\n\n\n\n\n\nThe allocation proposed by the Social Planner serves as a benchmark for environmental protection that the Geneseo government aims to implement.\n\n\n\n\n\nIf your answer in Q1b differs from Q1a, explain economically and intuitively why they are different.\n\n\n\nThe socially optimal level of provision of sustainability workers is larger than the one without the Geneseo government’s intervention.\nNotice that Ben’s contribution to sustainability goes down as Tiana’s contribution goes up, and vice versa. This implies that both individuals have incentive to free ride on each other’s.\nIntuitively, in the computation in Q1a, we set the marginal utility of the last sustainability worker to each resident equal to the marginal utility of consumption for that resident. In Q1b, we set the sum of the marginal utilities of the last sustainability worker—the social marginal utility of the sustainability worker—equal to the marginal utility of consumption for either resident. Since the social marginal utility of sustainability workers exceeds the individual marginal utilities of that sustainability workers, Geneseo optimally hires more than individuals would if they were acting alone."
  },
  {
    "objectID": "ex/econ340-hw-3-sol.html#q2a.",
    "href": "ex/econ340-hw-3-sol.html#q2a.",
    "title": "ECON 340: Homework Assignment 3",
    "section": "Q2a.",
    "text": "Q2a.\n\nWhat is your estimate of the “value of a statistical life” (VSL)?\n\nWhat does this VSL mean?\n\n\n\n\nAnswer: If we draw a line through the points, we notice that for each \\(\\frac{1}{10,000}\\) increase in mortality risk, the wage premium rises by about $500. Thus, 10,000 workers trade $500 each for a total of $5 million per life lost: the value of a “statistical life”."
  },
  {
    "objectID": "ex/econ340-hw-3-sol.html#q2b.",
    "href": "ex/econ340-hw-3-sol.html#q2b.",
    "title": "ECON 340: Homework Assignment 3",
    "section": "Q2b.",
    "text": "Q2b.\n\nWhy might this VSL value be a poor estimate of the value placed on lives saved from pollution reduction? (Three reasons)\n\n\n\nThree reasons:\n\nThis is WTA for voluntary risk; environmental risk can be involuntary.\nSample selection bias: are the individuals surveyed (e.g., police officers, fire fighters) more “risk lovers” than the average individual?\nRationality: do the individuals really know the risk they are shouldering in exchange for the wage premium?"
  },
  {
    "objectID": "ex/econ340-feedback-jack-jacob.html",
    "href": "ex/econ340-feedback-jack-jacob.html",
    "title": "ECON 340: Team Project",
    "section": "",
    "text": "Include a brief summary on the references you guys have.\nInclude more specific examples or case studies.\nFor empirical part of your research, you guys may need data about consumer side.\n\nIf you guys do not think you can finish it by the due, it is okay to do instead literature review regarding the objectives/problems.\nIt is okay not to to obtain additional data. You guys can focus on what you can do with data you guys have.\n\nProvide additional details on the economic model and theoretical analysis approach.\nThe following materials may help proceed your research:\n\nJoshua Linn, Can State-Level Regulations Help Reduce National Emissions from Passenger Vehicles? (2023) [Link]\nJoshua Linn, How Much Do Regulations for Fuel Economy and Emissions Incentivize the Production of Larger Vehicles? (2023) [Link]\nJoshua Linn, Emissions Standards and Electric Vehicle Targets for Passenger Vehicles, Springer (2023) [Link]"
  },
  {
    "objectID": "ex/econ340-feedback-jack-jacob.html#consumer",
    "href": "ex/econ340-feedback-jack-jacob.html#consumer",
    "title": "ECON 340: Team Project",
    "section": "Consumer",
    "text": "Consumer\nTaking the prices of clean and dirty passenger vehicles \\(p_{c}\\) and \\(p_{d}\\) as given, consumer maximizes her utility by choosing a numeraire good \\(x\\), amount of clean/dirty passenger vehicles \\(v_{c}\\) and \\(v_{d}\\):\n\\[\n\\begin{align}\n\\max_{x, v_{c}, v_{d}}\\, U &= x + u_{c}(v_{c}) + u_{d}(v_{d})\\\\\n\\text{subject to }\\; Y &= x + p_{c}v_{c} + p_{d}v_{d}\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-jack-jacob.html#vehicle-firm",
    "href": "ex/econ340-feedback-jack-jacob.html#vehicle-firm",
    "title": "ECON 340: Team Project",
    "section": "Vehicle firm",
    "text": "Vehicle firm\n\nVehicle firm produces clean and dirty vehicles, respectively.\nVehicle firm’s total cost of producing clean/dirty vehicles consists of production cost \\(C_{i}(v_{i})\\) and emission abatement cost \\(E_{i}(v_{i})\\):\n\n\\[\n\\begin{align}\nTC_{c} &= C_{c}(v_{c}) + E_{c}(v_{c}) \\\\\nTC_{d} &= C_{d}(v_{d}) + E_{d}(v_{d}),\n\\end{align}\n\\]\nwhere \\(E_{c}'(v) < E_{d}'(v)\\) for any level of vehicle production \\(v\\).\n\nTaking the vehicle prices \\(p_{c}\\) and \\(p_{d}\\) as given, the vehicle producer maximizes its profit by choosing how much to produce clean/dirty vehicles \\(v_{c}\\) and \\(v_{d}\\): \\[\n\\begin{align}\n\\max_{v_{c}, v_{d}}\\;\\Pi &=  p_{c}v_{c} + p_{d}v_{d} - C_{c}(v_{c})  - C_{d}(v_{d}) - E_{c}(v_{c})  - E_{d}(v_{d})\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-jack-jacob.html#vehicle-market",
    "href": "ex/econ340-feedback-jack-jacob.html#vehicle-market",
    "title": "ECON 340: Team Project",
    "section": "Vehicle Market",
    "text": "Vehicle Market\nIn the vehicle market, the vehicle prices \\(p_{c}\\) and \\(p_{d}\\) are such that the supply and the demand for clean/dirty vehicles are met:\n\\[\n\\begin{align}\nu_{c}'(v_{c}) &= C_{c}'(v_{c}) + E_{c}'(v_{c})\\\\\nu_{d}'(v_{d}) &= C_{d}'(v_{d}) + E_{d}'(v_{d})\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-jack-jacob.html#social-planner",
    "href": "ex/econ340-feedback-jack-jacob.html#social-planner",
    "title": "ECON 340: Team Project",
    "section": "Social planner",
    "text": "Social planner\n\nSocial planner maximizes social welfare, which takes into account the damage caused by dirty vehicle, as a function of \\(v_{d}\\)\n\n\\[\n\\begin{align}\n\\max_{v_{c}, v_{d}}\\;SW &= U + \\Pi - D\\\\\n&= Y + u_{c}(v_{c}) + u_{d}(v_{d}) - C_{c}'(v_{c}) - E_{c}'(v_{c}) - C_{d}'(v_{d}) - E_{d}'(v_{d}) - D(v_{d}),\n\\end{align}\n\\] where the damage \\(D(v_{d})\\) increases with \\(v_{d}\\) at an increasing rate."
  },
  {
    "objectID": "ex/econ340-feedback-jack-jacob.html#government",
    "href": "ex/econ340-feedback-jack-jacob.html#government",
    "title": "ECON 340: Team Project",
    "section": "Government",
    "text": "Government\n\nGovernment can consider various policies:\n\nTax dirty vehicles\nSubsidy clean vehicles\nSetting stricter emission standards to dirty vehicles"
  },
  {
    "objectID": "ex/danl200-cw-2.html",
    "href": "ex/danl200-cw-2.html",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "",
    "text": "Load the following data.frame, mpg.\n\nlibrary(tidyverse)\nmpg <- ggplot2::mpg\n\n\n\n\n\n  \n\n\n\n\nlibrary(skimr)\nskim(mpg)\n\n\nData summary\n\n\nName\nmpg\n\n\nNumber of rows\n234\n\n\nNumber of columns\n11\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n6\n\n\nnumeric\n5\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nmanufacturer\n0\n1\n4\n10\n0\n15\n0\n\n\nmodel\n0\n1\n2\n22\n0\n38\n0\n\n\ntrans\n0\n1\n8\n10\n0\n10\n0\n\n\ndrv\n0\n1\n1\n1\n0\n3\n0\n\n\nfl\n0\n1\n1\n1\n0\n5\n0\n\n\nclass\n0\n1\n3\n10\n0\n7\n0\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ndispl\n0\n1\n3.47\n1.29\n1.6\n2.4\n3.3\n4.6\n7\n▇▆▆▃▁\n\n\nyear\n0\n1\n2003.50\n4.51\n1999.0\n1999.0\n2003.5\n2008.0\n2008\n▇▁▁▁▇\n\n\ncyl\n0\n1\n5.89\n1.61\n4.0\n4.0\n6.0\n8.0\n8\n▇▁▇▁▇\n\n\ncty\n0\n1\n16.86\n4.26\n9.0\n14.0\n17.0\n19.0\n35\n▆▇▃▁▁\n\n\nhwy\n0\n1\n23.44\n5.95\n12.0\n18.0\n24.0\n27.0\n44\n▅▅▇▁▁\n\n\n\n\n\n\n\nRun ggplot(data = mpg). What do you see?\n\n\n\n\n\n\n\nWrite a ggplot code to make a scatterplot of hwy vs. cyl.\n\n\n\n\n\n\n\n\nWhat happens if you make a scatterplot of class vs. drv?\n\nWhy is the plot not useful?"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q2a.",
    "href": "ex/danl200-cw-2.html#q2a.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q2a.",
    "text": "Q2a.\n\nWhich variables in mpg are categorical?\nWhich variables are continuous?"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q2b.",
    "href": "ex/danl200-cw-2.html#q2b.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q2b.",
    "text": "Q2b.\n\nMap a continuous variable to color, size, and shape.\nHow do these aesthetics behave differently for categorical vs. continuous variables?"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q2d.",
    "href": "ex/danl200-cw-2.html#q2d.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q2d.",
    "text": "Q2d.\nWhat happens if you map an aesthetic to something other than a variable name, like aes(color = displ < 5)?"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q3a.",
    "href": "ex/danl200-cw-2.html#q3a.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q3a.",
    "text": "Q3a.\nWhat happens if you facet on a continuous variable?"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q3b.",
    "href": "ex/danl200-cw-2.html#q3b.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q3b.",
    "text": "Q3b.\n\nWhat do the empty cells in the scatterplot of displ vs. hwy with facet_grid(drv ~ cyl) mean?\n\nHow do they relate to this plot?\n\n\n\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = drv, y = cyl))"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q3c.",
    "href": "ex/danl200-cw-2.html#q3c.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q3c.",
    "text": "Q3c.\nWhat plots does the following code make? What does . do?\n\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy),\n             alpha = .5) +\n  facet_grid(drv ~ .)\n\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy),\n             alpha = .5) +\n  facet_grid(drv ~ .)\n\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy),\n             alpha = .5) +\n  facet_grid(. ~ cyl)"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q3d.",
    "href": "ex/danl200-cw-2.html#q3d.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q3d.",
    "text": "Q3d.\nConsider the following faceted plot:\n\nggplot(data = mpg) + \n  geom_point(mapping = aes(x = displ, y = hwy),\n             alpha = .5) + \n  facet_wrap(~ class, nrow = 2)\n\n\nWhat are the advantages to using faceting instead of the color aesthetic?\nWhat are the disadvantages?\nHow might the balance change if you had a larger dataset?"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q3e.",
    "href": "ex/danl200-cw-2.html#q3e.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q3e.",
    "text": "Q3e.\n\nRead ?facet_wrap.\n\nWhat does nrow do?\nWhat does ncol do?\nWhat other options control the layout of the individual panels?\nWhy doesn’t facet_grid() have nrow and ncol arguments?"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q3f.",
    "href": "ex/danl200-cw-2.html#q3f.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q3f.",
    "text": "Q3f.\nWhen using facet_grid(), you should usually put the variable with more unique levels in the columns. Why?"
  },
  {
    "objectID": "ex/danl200-cw-2.html#q3g.",
    "href": "ex/danl200-cw-2.html#q3g.",
    "title": "DANL 200: Classwork 2 - Data Visualization",
    "section": "Q3g.",
    "text": "Q3g.\nUse the following data.frame.\n\ntvshows_web <- read_csv(\n        'https://bcdanl.github.io/data/tvshows.csv')\n\n\nDescribe the relationship between audience size (GRP) and audience engagement (PE) using ggplot.\nExplain the relationship in words."
  },
  {
    "objectID": "ex/econ340-cw-3.html",
    "href": "ex/econ340-cw-3.html",
    "title": "ECON 340: Classwork 3",
    "section": "",
    "text": "The Public Goods Game is a standard of experimental economics used primarily to study the free-rider problem and cooperation among individuals. In this game, participants are given a sum of money and are offered the opportunity to contribute some or all of it to a public pot. The money in this pot is then multiplied by a factor greater than one but less than the number of players, and the resulting amount is distributed equally among all players, regardless of their individual contributions.\n\n\n\nInitial Endowment: Each player starts with an initial amount of money (e.g., $10).\nContribution: Players decide how much of their initial endowment to contribute to a public pot. They can contribute nothing, everything, or anything in between.\nMultiplication: The total amount in the public pot is multiplied by a factor (e.g., 1.5).\nDistribution: The multiplied amount is then equally distributed among all players, irrespective of their individual contributions.\n\n\n\n\nLet’s consider a simple example with four players, each initially endowed with $10. They have to decide how much to contribute to a public pot.\n\nPlayer A contributes $8\nPlayer B contributes $6\nPlayer C contributes $0 (free-rider)\nPlayer D contributes $4\n\nThe total amount in the public pot is (8 + 6 + 0 + 4 = $18).\nThis amount is then multiplied by a factor, say 1.5, resulting in (18 = $27).\nFinally, the $27 is distributed equally among the four players, giving each (27 / 4 = $6.75).\n\n\n\n\nPlayer A: Started with $10, contributed $8, received $6.75. Final amount: (10 - 8 + 6.75 = $8.75)\nPlayer B: Started with $10, contributed $6, received $6.75. Final amount: (10 - 6 + 6.75 = $10.75)\nPlayer C: Started with $10, contributed $0, received $6.75. Final amount: (10 - 0 + 6.75 = $16.75) (benefited most by free-riding)\nPlayer D: Started with $10, contributed $4, received $6.75. Final amount: (10 - 4 + 6.75 = $12.75)\n\n\n\n\n\nFree-Rider Problem: Players like C who contribute nothing still receive a share of the public good, illustrating the free-rider problem.\nIncentive to Defect: Rational, self-interested players have an incentive to contribute nothing and free-ride on the contributions of others.\nCollective Action Problem: If everyone acts in their self-interest, the public good is under-provided, leading to suboptimal outcomes for the group.\nCooperation and Norms: In many real-world experiments, some level of contribution is observed, indicating that factors like altruism, social norms, or the prospect of future interactions can promote cooperation.\n\nThe Public Goods Game is a powerful tool for studying the complexities of cooperation and the provision of public goods, offering insights into how and why people contribute to collective endeavors."
  },
  {
    "objectID": "ex/econ340-cw-2.html",
    "href": "ex/econ340-cw-2.html",
    "title": "ECON 340: Classwork 2",
    "section": "",
    "text": "The Cobb-Douglas utility function is\n\\[\n\\begin{align}\nu(x_{1}, x_{2}) = x_{1}^{\\alpha}x_{2}^{\\beta}.\n\\end{align}\n\\] Since utility functions are only defined up to a monotonic transformation, it is convenient to take logs of this expression and work with:\n\\[\n\\begin{align}\n\\log u(x_{1}, x_{2}) = \\alpha \\log x_{1} + \\beta \\log x_{2}.\n\\end{align}\n\\]\n\nBy the way, a monotonic transformation is a way of transforming one set of numbers into another set of numbers in a way that the order of the numbers is preserved.\n\nTherefore, a monotonic transformation of a utility function preserves the order of the utility values.\nIf bundle \\(A\\) is preferred to bundle \\(B\\), then a monotonic transformation of the utility function will still show that \\(A\\) is preferred to \\(B\\).\n\n\nLet’s find the demand functions for \\(x_1\\) and \\(x_2\\) for the Cobb-Douglas utility function. The problem we want to solve is\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}}&\\; \\log u(x_{1}, x_{2}) = \\alpha \\log x_{1} + \\beta \\log x_{2} \\tag{1}\\\\\n\\text{such that}&\\quad Y \\;\\geq\\; p_{1}x_{1} + p_{2}x_{2} \\tag{2}\n\\end{align}\n\\]\nThere are at least two ways to solve this problem.\n\n\nSince “the more, the better” holds for this consumer, the budget constraint holds with equality at the optimum. Using this fact, we can then substitute out \\(x_{2}\\) in problem (1) using the budget constraint (2) with equality.\n\\[\n\\begin{align}\n\\max_{x_{1}}&\\; \\log u(x_{1}) = \\alpha \\log x_{1} + \\beta \\log \\left(\\frac{Y - p_{1}x_{1}}{p_{2}}\\right) \\tag{3}\n\\end{align}\n\\] The first order condition for problem (3) is\n\\[\n\\begin{align}\n\\frac{\\alpha}{x_{1}} + \\frac{\\beta}{\\left(\\frac{Y - p_{1}x_{1}}{p_{2}}\\right)}\\left(-\\frac{p_{1}}{p_{2}}\\right) \\,=\\, 0.  \\tag{4}\n\\end{align}\n\\] Re-arranging the first-order condition (4) and the budget constraint (2) with equality gives the demand for \\(x_{1}\\) and \\(x_{2}\\):\n\\[\n\\begin{align}\nx_{1}^{*} = \\frac{\\alpha}{\\alpha + \\beta} \\frac{Y}{p_{1}},\\\\\nx_{2}^{*} = \\frac{\\beta}{\\alpha + \\beta} \\frac{Y}{p_{2}}.\n\\end{align}\n\\]\n\n\n\nNow for Lagrange’s method for the problem (1) with constraint (2). Set up the Lagrangian: \\[\n\\mathcal{L} = \\alpha\\log x_{1} + \\beta\\log x_{2} + \\lambda(Y - p_{1}x_{1} - p_{2}x_{2}). \\tag{5}\n\\] Differentiate (5) with respect to each of the choice variables, \\(x_{1}, x_{2}\\), and \\(\\lambda\\) to get the three first-order conditions:\n\\[\n\\begin{align}\n\\frac{\\partial\\mathcal{L}}{\\partial x_{1}} &= \\frac{\\alpha}{x_{1}} - \\lambda p_{1} = 0, \\tag{6}\\\\\n\\frac{\\partial\\mathcal{L}}{\\partial x_{2}} &= \\frac{\\beta}{x_{2}} - \\lambda p_{2} = 0, \\tag{7}\\\\\n\\frac{\\partial\\mathcal{L}}{\\partial x_{1}} &= Y - p_{1}x_{1} - p_{2}x_{2} = 0. \\tag{8}\\\\\n\\end{align}\n\\] Now we are to solve the system of equations—three unknowns (\\(x_{1}, x_{2}\\), and \\(\\lambda\\)), three equations (6), (7), and (8).\nRearranging (6) and (7) gives: \\[\n\\begin{align}\nx_{1} = \\frac{\\alpha}{\\lambda p_{1}},\\tag{8}\\\\\nx_{2} = \\frac{\\beta}{\\lambda p_{2}}.\\tag{9}\n\\end{align}\n\\]\nNow we need to find \\(\\lambda\\).\nRearranging (6) and (7) also gives: \\[\n\\begin{align}\n\\alpha  &= \\lambda p_{1}x_{1},\\\\\n\\beta  &= \\lambda p_{2}x_{2}.\n\\end{align}\n\\] Adding the equations above gives:\n\\[\n\\alpha + \\beta = \\lambda(p_{1}x_{1} + p_{2}x_{2}) = \\lambda Y,\n\\] which gives us\n\\[\n\\lambda = \\frac{\\alpha + \\beta}{Y}.\\tag{10}\n\\]\nSubstitute (10) back into (8) and (9) and solve for \\(x_{1}\\) and \\(x_{2}\\) to get\n\\[\n\\begin{align}\nx_{1}^{*} = \\frac{\\alpha}{\\alpha + \\beta} \\frac{Y}{p_{1}},\\\\\nx_{2}^{*} = \\frac{\\beta}{\\alpha + \\beta} \\frac{Y}{p_{2}},\n\\end{align}\n\\]\njust as before."
  },
  {
    "objectID": "ex/danl200-cw-3.html",
    "href": "ex/danl200-cw-3.html",
    "title": "DANL 200: Classwork 3 - Data Visualization",
    "section": "",
    "text": "Run this code in your head and predict what the output will look like. Then, run the code in R and check your predictions.\n\nggplot(data = mpg, \n       mapping = aes(x = displ, y = hwy, \n                     color = drv)) +\n  geom_point(alpha = .4) +\n  geom_smooth(se = FALSE)\n\n\n\n\n\nWhat does show.legend = FALSE do? What happens if you remove it? Why do you think I used it earlier in the lecture?\n\nAnswer: show.legend = FALSE turns off the legend in ggplot.\n\nggplot(data = mpg) +\n  geom_point(mapping = aes(x = displ, y = hwy, \n                           color = drv),\n             alpha = .5,\n             show.legend = FALSE)\n\n\n\n\nThe default is show.legend = TRUE:\n\nggplot(data = mpg) +\n  geom_point(mapping = aes(x = displ, y = hwy, \n                           color = drv),\n             alpha = .5,\n             show.legend = TRUE)\n\n\n\n\nSometimes, we do not need to have a separate legend in ggplot, for example, geom_boxplot() with fill mapping.\n\n\n\nRecreate the R code necessary to generate the following graphs.\n\n\n\n\nCode\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(alpha = .4) +\n  geom_smooth(se = FALSE)\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_smooth(mapping = aes(group = drv), \n              se = FALSE) +\n  geom_point(alpha = .4)\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(mpg, aes(x = displ, y = hwy, \n                color = drv)) +\n  geom_point(alpha = .4) +\n  geom_smooth(se = FALSE)\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = drv), alpha = .4) +\n  geom_smooth(se = FALSE)\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = drv), alpha = .4) +\n  geom_smooth(aes(linetype = drv), se = FALSE)\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(mpg, \n       aes(x = displ, y = hwy)) +\n  geom_point(size = 4, color = \"white\") +\n  geom_point(aes(color = drv), alpha = .4) +\n  theme_gray()\n\n\n\n\n\n\n\n\n\n\n\nUse the data.frame, organdata_simple to visualize the yearly trend of the variable donors for each country.\n\n\norgandata_simple <- read_csv('https://bcdanl.github.io/data/organdata_simple.csv')"
  },
  {
    "objectID": "ex/danl200-cw-3.html#q2a.",
    "href": "ex/danl200-cw-3.html#q2a.",
    "title": "DANL 200: Classwork 3 - Data Visualization",
    "section": "Q2a.",
    "text": "Q2a.\nWhat does geom_col() do? How is it different to geom_bar()?\nAnswer:\nLet’s consider the bar chart for the distribution of manufacturer in the mpg data.frame.\n\nggplot(mpg) +\n  geom_bar(aes(y = manufacturer))\n\n\n\n\nTo compare between geom_bar() and geom_col(), create the data.frame, q2a that is the data.frame of table(mpg$manufacturer):\n\n# we can use as.data.frame() \n# to convert to data.frame from table or vectors \nq2a <- as.data.frame(\n  table(mpg$manufacturer)\n  )\n\nq2a has the two variables, Var1 and Freq.\n\nq2a\n\n         Var1 Freq\n1        audi   18\n2   chevrolet   19\n3       dodge   37\n4        ford   25\n5       honda    9\n6     hyundai   14\n7        jeep    8\n8  land rover    4\n9     lincoln    3\n10    mercury    4\n11     nissan   13\n12    pontiac    5\n13     subaru   14\n14     toyota   34\n15 volkswagen   27\n\n\n\ngeom_bar(aes(y = ... , x = ... )) causes error:\n\n\n\ngeom_bar(aes(y = Var1, x = Freq), stat = \"identity\") will directly use the values of Freq to visualize a bar height for each category of Var1:\n\nggplot(q2a) +\n  geom_bar(aes(y = Var1, x = Freq),\n           stat = \"identity\")\n\n\n\n\nWe can do the same with geom_col(aes(y = Var1, x = Freq)):\n\nggplot(q2a) +\n  geom_col(aes(y = Var1, x = Freq))"
  },
  {
    "objectID": "ex/danl200-cw-3.html#q2b.",
    "href": "ex/danl200-cw-3.html#q2b.",
    "title": "DANL 200: Classwork 3 - Data Visualization",
    "section": "Q2b.",
    "text": "Q2b.\n\nInstall the R package, nycflights13, which provides the flights data.frame.\n\nAnswer:\n\ninstall.packages(\"nycflights13\")\n\n\n\nnycflights13::flights includes on-time data for all flights that departed NYC (i.e. JFK, LGA or EWR) in 2013.\n\nA unit of observation is flight.\n\n\n\nlibrary(nycflights13)\nhead(flights)\n\n# A tibble: 6 × 19\n   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n  <int> <int> <int>    <int>          <int>     <dbl>    <int>          <int>\n1  2013     1     1      517            515         2      830            819\n2  2013     1     1      533            529         4      850            830\n3  2013     1     1      542            540         2      923            850\n4  2013     1     1      544            545        -1     1004           1022\n5  2013     1     1      554            600        -6      812            837\n6  2013     1     1      554            558        -4      740            728\n# ℹ 11 more variables: arr_delay <dbl>, carrier <chr>, flight <int>,\n#   tailnum <chr>, origin <chr>, dest <chr>, air_time <dbl>, distance <dbl>,\n#   hour <dbl>, minute <dbl>, time_hour <dttm>\n\n\n\nVisualize the distribution of carrier.\n\nAnswer:\n\nBar chart\n\n\nlibrary(nycflights13)\nggplot(flights) +\n  geom_bar(aes(y = carrier))\n\n\n\n\n\nProportional bar chart\n\n\nggplot(flights) +\n  geom_bar(aes(y = carrier, \n               x = stat(prop), group = 1))\n\n\n\n\n\n\nVisualize how the distribution of carrier varies by origin.\n\nAnswer:\n\nFacet\n\n\nggplot(flights) +\n  geom_bar(aes(y = carrier)) +\n  facet_wrap( . ~ origin)\n\n\n\n\n\nStacked bar chart\n\n\nggplot(flights) +\n  geom_bar(aes(y = carrier, fill = origin)) \n\n\n\n\n\nStacked proportional bar chart\n\n\nggplot(flights) +\n  geom_bar(aes(y = carrier, fill = origin),\n           position = \"fill\") \n\n\n\n\n\nSide-by-side bar chart\n\n\nggplot(flights) +\n  geom_bar(aes(y = carrier, fill = origin),\n           position = \"dodge\") \n\n\n\n\n\nggplot(flights) +\n  geom_bar(aes(y = origin, fill = carrier),\n           position = \"dodge\")"
  },
  {
    "objectID": "ex/danl200-cw-1.html",
    "href": "ex/danl200-cw-1.html",
    "title": "DANL 200: Classwork 1",
    "section": "",
    "text": "Load the following data.frame, tvshows.\n\n\nShow the code\nlibrary(tidyverse)\ntvshows <- read_csv(\n        'https://bcdanl.github.io/data/tvshows.csv')\n\n\n\n\n\n\n  \n\n\n\n\n\nProvide the R code to return the shows whose Duration values are 30.\n\n\nShow the code\nq1a <- tvshows[tvshows$Duration == 30, ]\n\n\n\n\nShow the code\nq1a_indices <- which(tvshows$Duration == 30)\nq1a <- tvshows[ q1a_indices, ]\n\n\n\n\n\n\n  \n\n\n\nThe number of shows whose Duration is 30 is 13.\n\n\n\n\nProvide the R code to return the shows whose GRP values are greater than the mean value of GRP in all the shows in the tvshows data.frame.\nHint: We can calculate the mean value of numeric vector x using the mean(x) function.\n\n\nShow the code\nq1b <- tvshows[tvshows$GRP > mean(tvshows$GRP), ]\n\n\nThe mean value of GRP is 823.905.\n\n\n\n\n  \n\n\n\n\n\n\n\nProvide the R code to return the data.frame with only three variables—Show, PE, and GRP—for which PE values are greater than the mean value of PE.\n\n\nShow the code\nq1c <- tvshows[tvshows$PE > mean(tvshows$PE), ]\nq1c <- q1c[ , c(\"Show\", \"PE\", \"GRP\")]"
  },
  {
    "objectID": "ex/econ340-cw-9-tmp.html",
    "href": "ex/econ340-cw-9-tmp.html",
    "title": "ECON 340: Classwork 9 - Double Dividend",
    "section": "",
    "text": "Taxing Labor and Pollution\nConsider an economy with the representative consumer and the representative firm that produces a polluting good \\(Q\\) with government that finances its budget \\(G\\) by taxing on the consumer’s labor income and the firm’s pollution.\nThe representative consumer is endowed with time \\(\\overline{L}\\), for which the consumer allocates to leisure ( \\(N\\) ) and labor ( \\(\\overline{L} - N\\) ). The representative consumer gets paid with a wage rate \\(w\\), and pays a proportional labor tax \\(m\\).\nThe representative consumer values consumption of numeraire good \\(X\\), polluting good \\(Q\\) and leisure \\(N\\), so that her utility function is:\n\\[\n\\begin{align}\nU &= U(X, Q, N) \\\\\n&= \\left(\\alpha Q - \\beta\\frac{Q^{2}}{2}\\right) + \\left(\\gamma N - \\phi\\frac{N^{2}}{2}\\right) + X.\n\\end{align}\n\\]\nNote that if \\(\\eta>0\\), consumption of the polluting good and leisure are substitutes, which we refer to as the normal case. When \\(\\eta<0\\) leisure and the polluting good are complements.\nThe price of the polluting good \\(Q\\) is \\(p\\). The government transfer the tax revenue \\(G\\) to the consumer in a lump-sum fashion. The representative consumer’s budget constraint is: \\[\n(1-m)w(\\overline{L}-N) + G = X + pQ.\n\\]\nThe firm’s cost of producing the quantity of output \\(Q\\) is defined as \\[\nC(Q) = \\frac{c}{2}Q^{2}.\n\\]\nThe firm pays the per-unit tax \\(\\tau\\) on each unit of the goods produced.\nThe government tax revenue \\(G\\) balances:\n\\[\nG = wm(\\overline{L} - N) + \\tau Q.\n\\]\nThe external cost of pollution is\n\\[\nD(Q) = \\frac{d}{2}Q^{2}\n\\]\n\n\n\na.\nTaking the price \\(p\\), the wage \\(w\\), and the labor tax \\(m\\) as given, solve the consumer’s utility maximization problem.\n\n\n\nb.\nTaking the price \\(p\\) and the per-unit pollution tax \\(\\tau\\) as given, solve the firm’s profit maximization problem.\n\n\n\nc.\nTaking the consumer’s budget constraint, the government budget balance condition as given, solve the Social planner’s welfare maximization problem.\n\nSocial welfare is the sum of the consumer’s utility and the firm’s profit minus the external cost.\n\n\n\n\nd.\n\nUsing the first-order conditions in the consumer’s utility maximization problem and the firm’s profit maximization problem, characterize the equilibrium allocation \\((Q^{*}, N^{*})\\) and the equilibrium price \\(P\\) in terms of exogenous parameters \\((\\alpha, \\beta, c, d, w, \\gamma, \\phi)\\) and tax rates \\((m, \\tau)\\).\nHow do the equilibrium levels of polluting good and leisure change with the pollution tax?"
  },
  {
    "objectID": "ex/econ340-hw-2-a.html",
    "href": "ex/econ340-hw-2-a.html",
    "title": "ECON 340: Homework Assignment 2",
    "section": "",
    "text": "Consider a society with just two consumers. Consumer 1 can get positive utility from a positive amount of some activity \\(h\\) that she chooses the level of, but consumer 2 gets negative utility from that activity. We can think of \\(h\\) as some non-market good, for example, “hours” of loud music played by consumer 1, disturbing consumer 2’s peace and quiet. Consumer 1 therefore imposes a negative externality on consumer 2. Assume there is no other cost associated with the activity.\nAssume that both consumers gain utilities from consuming a numeraire good \\(x\\), whose price is 1, but may have different incomes \\(Y_{1}\\) and \\(Y_{2}\\).\n\nConsumer 1’s utility is \\(U_{1} = x_{1} + h(4-h)\\).\nConsumer 2’s utility is \\(U_{2} = x_{2} - h^{2}\\).\n\n\n\n\n\nSuppose that, instead of a tax or a subsidy, the government introduces a marketable-permit scheme.\n\nIt gives consumer 2 a bunch of pieces of paper called “permits,” each of which states that the holder of the permit has the legal right to “produce” one unit of \\(h\\).\nIt then allows consumer 2 to sell those permits to consumer 1 at some uniform price \\(p_{h}\\).\n\nAssume that the permit market is competitive.\n\nThis means that each consumer takes the price \\(p_{h}\\) as given.\nYou can think of each consumer as “representing” a large number of consumers of the same type.\n\nShow that the scheme will also achieve the socially optimal outcome \\(h^{o}\\).\n\nAnswer:\nLet \\(h_{s}\\) denote the amount of permits supplied by consumer 2. Given the price \\(p_{h}\\), consumer 2 solves problem (C-2-permit-s) choosing how much to consume \\(x_{2}\\) and how much to sell \\(h_{s}\\):\n\\[\n\\begin{align}\n\\max_{x_{2}, h_{s}} \\; &U_{2} =  x_{2} - h_{s}^{2} \\tag{C-2-permit-s}\\\\\n\\text{subject to}\\quad &Y_{2} + p_{h}h_{s} = x_{2} \\tag{BC-2-permit-s}\n\\end{align}\n\\]\nSubstituting \\(x_{2}\\) in the \\(U_{2}\\) using (BC-2-permit-s) simplifies problem (C-2-permit-s) to: \\[\n\\begin{align}\n\\max_{h_{s}} \\; &U_{2} =  Y_{2} + p_{h}h_{s} - h_{s}^{2} \\tag{C-2-permit-s'}\n\\end{align}\n\\]\nFirst-order condition for problem (C-2-permit-s’) is\n\\[\n\\frac{d U_{2}}{d h_{s}} = p_{h} - 2h_{s} = 0,\\tag{FOC-C-2-h-s}\n\\] which determines the supply curve for permits, \\(h_{s}(p_{h}) = \\frac{1}{2}p_{h}\\).\nLet \\(h_{d}\\) denote the amount of permits consumer 1 buys. Given the price \\(p_{h}\\), consumer 1 solves problem (C-1-permit-d) choosing how much to consume \\(x_{1}\\) and how much to buy \\(h_{d}\\):\n\\[\n\\begin{align}\n\\max_{x_{1}, h_{d}} \\; &U_{1} =  x_{1} + h_{d}(4-h_{d}) \\tag{C-1-permit-d}\\\\\n\\text{subject to}\\quad &Y_{1} = x_{1} + p_{h}h_{d}\\tag{BC-1-permit-d}\n\\end{align}\n\\]\nSubstituting \\(x_{1}\\) in the \\(U_{1}\\) using (BC-1-permit-d) simplifies problem (C-1-permit-d) to: \\[\n\\begin{align}\n\\max_{h_{d}} \\; &U_{1} =  Y_{1} - p_{h}h_{s} + h_{d}(4-h_{d}) \\tag{C-1-permit-d'}\n\\end{align}\n\\]\nFirst-order condition for problem (C-1-permit-d’) is\n\\[\n\\frac{d U_{1}}{d h_{d}} = -p_{h} + 4 - 2h_{d} = 0,\\tag{FOC-C-1-h-d}\n\\] which determines the demand curve for permits, \\(h_{d}(p_{h}) = 2 - \\frac{1}{2}p_{h}\\).\nNext, we move up to the market outcome. In the permit market, the equilibrium price \\(p_{h}^{*}\\) is determined in a way that clears the permit market—the quantity supplied equals the quantity demanded:\n\\[\n\\begin{align}\nh_{s}(p_{h}^{*}) &= h_{d}(p_{h}^{*})\\tag{market}\\\\\n\\Leftrightarrow\\qquad \\frac{1}{2}p_{h}^{*} &= 2 - \\frac{1}{2}p_{h}^{*}\n\\end{align}\n\\] Therefore, the price and the quantity in the equilibrium are \\(p_{h}^{*} = 2\\) and \\(h_{s}^{*} = h_{d}^{*} = h^{o} = 1\\), achieving the socially optimal outcome \\(h^{o}\\).\n\n\n\n\n\nSame question as Q1e, but now the government introduces a marketable-permit scheme that gives a bunch of permits to consumer 1, and then gives consumer 2 an opportunity to buy them away from consumer 1 and “retire” them.\n\nAnswer:\nLet \\(h_{s}\\) denote the amount of permits demanded by consumer 2. Given the price \\(p_{h}\\), consumer 2 solves problem (C-2-permit-s) choosing how much to consume \\(x_{2}\\) and how much to buy and retire \\(h_{d}\\):\n\\[\n\\begin{align}\n\\max_{x_{2}, h_{d}} \\; &U_{2} =  x_{2} - (h^{*} - h_{d})^{2} \\tag{C-2-permit-d}\\\\\n\\text{subject to}\\quad &Y_{2} = x_{2} + p_{h}h_{d} \\tag{BC-2-permit-d}\n\\end{align}\n\\]\nNote that the amount of activity \\(h^{*}-h_{d}\\) is the amount of that activity consumer 1 will enjoy, where \\(h^{*}\\) is the free market level consumer 1 chooses in Q1b.\nSubstituting \\(x_{2}\\) in the \\(U_{2}\\) using (BC-2-permit-d) simplifies problem (C-2-permit-d) to: \\[\n\\begin{align}\n\\max_{h_{d}} \\; &U_{2} =  Y_{2} - p_{h}h_{d} - (h^{*}-h_{d})^{2} \\tag{C-2-permit-d'}\n\\end{align}\n\\]\nFirst-order condition for problem (C-2-permit-d’) is\n\\[\n\\frac{d U_{2}}{d h_{s}} = -p_{h} + 2(h^{*}-h_{d}) = 0,\\tag{FOC-C-2-h-d}\n\\] which determines the demand curve for permits, \\(h_{d}(p_{h}) = h^{*}-\\frac{1}{2}p_{h}\\).\nLet \\(h_{s}\\) denote the amount of permits consumer 1 sells. Given the price \\(p_{h}\\), consumer 1 solves problem (C-1-permit-s) choosing how much to consume \\(x_{1}\\) and how much to sell \\(h_{s}\\):\n\\[\n\\begin{align}\n\\max_{x_{1}, h_{s}} \\; &U_{1} =  x_{1} + (h^{*}-h_{s})[4-(h^{*}-h_{s})] \\tag{C-1-permit-s}\\\\\n\\text{subject to}\\quad &Y_{1} + p_{h}h_{s} = x_{1} \\tag{BC-1-permit-s}\n\\end{align}\n\\]\nSubstituting \\(x_{1}\\) in the \\(U_{1}\\) using (BC-1-permit-s) simplifies problem (C-1-permit-s) to: \\[\n\\begin{align}\n\\max_{h_{d}} \\; &U_{1} =  Y_{1} + p_{h}h_{s} + (h^{*}-h_{s})[4-(h^{*}-h_{s})] \\tag{C-1-permit-s'}\n\\end{align}\n\\]\nFirst-order condition for problem (C-1-permit-s’) is\n\\[\n\\frac{d U_{1}}{d h_{s}} = p_{h} -[4-(h^{*}-h_{s})] + (h^{*}-h_{s}) = 0,\\tag{FOC-C-1-h-s}\n\\] which determines the supply curve for permits, \\(h_{s}(p_{h}) = \\frac{1}{2}p_{h} + h^{*} - 2\\).\nNext, we move up to the market outcome. In the permit market, the equilibrium price \\(p_{h}^{**}\\) is determined in a way that clears the permit market—the quantity supplied equals the quantity demanded:\n\\[\n\\begin{align}\nh_{s}(p_{h}^{**}) &= h_{d}(p_{h}^{**})\\tag{market'}\\\\\n\\Leftrightarrow\\qquad \\frac{1}{2}p_{h} + h^{*} - 2 &=h^{*}-\\frac{1}{2}p_{h}\n\\end{align}\n\\] Therefore, the price and the quantity in the equilibrium are \\(p_{h}^{**} = 2\\) and \\(h_{s}^{**} = h_{d}^{**} = h^{**} - 1 = h^{o}\\), achieving the socially optimal outcome \\(h^{o}\\).\n\n\n\n\n\nSuppose that, instead of trying to intervene in the market, the government just passes a law giving consumer 2 a clearly defined right to have \\(h = 0\\) (e.g., it imposes a noise ordinance that forbids consumer 1 from playing loud music), but then allows consumer 1 to effectively “bribe” consumer 2 to give up some of that right (i.e., allow some music playing) in exchange for a lump-sum transfer \\(T\\).\nShow that this, too, will restore social optimality.\n\nAnswer:\nFor convenience, let \\(U_{2}(x_{2}, h )\\) denote consumer 2’s utility. Consumer 2 will accept the consumer 1’s lump-sum transfer \\(T\\) when her utility with accepting the transfer is no less than her utility with insisting on her right to have \\(h = 0\\):\n\\[\n\\begin{align}\nU_{2}(x_{2}, h )  + T \\;\\geq\\; & U_{2}(x_{2}, 0) \\tag{min-T-2} \\\\\n\\Leftrightarrow\\qquad x_{2} - h^{2} + T \\;\\geq\\; & x_{2} \\\\\n\\Leftrightarrow\\qquad\\qquad\\qquad\\;\\, T \\;\\geq\\; & h^{2}\n\\end{align}\n\\]\nNotice that bargaining condition (min-T-2) holds with equality at the optimum. In the bargaining process for choosing \\(T\\) and \\(h\\), consumer 1 tries to minimize the amount of bribery transfer, while respecting consumer 2’s bargaining condition (min-T-2). Consumer 1 will end up exactly compensating consumer 2 for the disutility from \\(h\\) imposed.\nAnticipating consumer 2’s response to the transfer, (min-T-2) with equality, consumer 1 solves problem (C-1-bargain-T) by choosing how much to consume \\(x_{2}\\), how much to do the activity \\(h\\), and how much to transfer \\(T\\): \\[\n\\begin{align}\n\\max_{x_{1}, h, T} \\; &U_{1} =  x_{1} + h(4-h) \\tag{C-1-bargain-T}\\\\\n\\text{subject to}\\quad &Y_{1} = x_{1} + T \\tag{BC-1-bargain-T}\\\\\n&T \\;=\\, h^{2} \\tag{min-T-2'}\n\\end{align}\n\\]\nSubstituting \\(x_{1}\\) in the \\(U_{1}\\) using (BC-1-bargain-T) simplifies problem (C-1-bargain-T) to: \\[\n\\begin{align}\n\\max_{h, T} \\; &U_{1} =  Y_{1} - T + h(4-h) \\tag{C-1-bargain-T'}\\\\\n\\text{subject to}\\quad &T \\;=\\, h^{2} \\tag{min-T-2'}\n\\end{align}\n\\] Substituting \\(T\\) in the \\(U_{1}\\) using (min-T-2’) simplifies problem (C-1-bargain-T’) further: \\[\n\\begin{align}\n\\max_{h} \\; &U_{1} =  Y_{1} - h^{2} + h(4-h) \\tag{C-1-bargain-T''}\n\\end{align}\n\\] Notice that consumer 1 ends up maximizing welfare when it comes to choosing \\(h\\)! First-order condition for problem (C-1-bargain-T’’) is\n\\[\n\\frac{d U_{1}}{d h} = -2h + 4 - 2h = 0.\n\\] Therefore, \\(h^{b} = h^{o} = 1\\), restoring socially optimal level of \\(h\\).\nIn this Coasian bargaining, consumer 1 ends up exactly compensating consumer 2 for the disutility from \\(h\\) imposed, and in that sense “internalizing” the externality.\n\n\n\n\n\nSame question as Q1g, but now the government gives consumer 1 a clear legal right to \\(h^{*}\\) (i.e., in our example, a right to play as much loud music as she likes), and then allows consumer 2 to effectively “bribe” consumer 1 to give up some of that right (i.e., cut back on her music playing) in exchange for a lump-sum transfer \\(T\\).\n\nAnswer:\nFor convenience, let \\(U_{1}(x_{1}, h )\\) denote consumer 1’s utility. Consumer 1 will accept the consumer 2’s lump-sum transfer \\(T\\) when his utility with accepting the transfer is no less than his utility with insisting on his right to have \\(h = h^{*}\\):\n\\[\n\\begin{align}\nU_{1}(x_{1}, h )  + T \\;\\geq\\; & U_{1}(x_{1}, h^{*})\\tag{min-T-1} \\\\\n\\Leftrightarrow\\quad x_{1} + h(4-h) + T \\;\\geq\\; & x_{1} + h^{*}(4-h^{*}) \\\\\n\\Leftrightarrow\\qquad\\qquad\\qquad\\qquad\\, T \\;\\geq\\; & h^{*}(4-h^{*}) - h(4-h)\n\\end{align}\n\\] Notice that bargaining condition (min-T-1) holds with equality at the optimum. In the bargaining process for choosing \\(T\\) and \\(h\\), consumer 2 tries to minimize the amount of bribery transfer, while respecting consumer 1’s bargaining condition (min-T-1). Consumer 2 will end up exactly compensating consumer 1 for his “disutility” by reducing activity from \\(h^{*}\\) to \\(h\\).\nAnticipating consumer 1’s response to the transfer, (min-T-1) with equality, consumer 2 solves problem (C-2-bargain-T) by choosing how much to consume \\(x_{2}\\), how much to transfer \\(T\\), and how much to let consumer 1 do \\(h\\) with the transfer: \\[\n\\begin{align}\n\\max_{x_{2}, T, h} \\; &U_{2} =  x_{2} - h^{2} \\tag{C-2-bargain-T}\\\\\n\\text{subject to}\\quad &Y_{2} = x_{2} + T \\tag{BC-2-bargain-T}\\\\\n&T \\;=\\, h^{*}(4-h^{*}) - h(4-h) \\tag{min-T-2'}\n\\end{align}\n\\]\nSubstituting \\(x_{2}\\) in the \\(U_{2}\\) using (BC-2-bargain-T) simplifies problem (C-2-bargain-T) to: \\[\n\\begin{align}\n\\max_{T, h} \\; &U_{2} =  Y_{2} - T - h^{2} \\tag{C-2-bargain-T'}\\\\\n\\text{subject to}\\quad &T \\;=\\, h^{*}(4-h^{*}) - h(4-h) \\tag{min-T-1'}\n\\end{align}\n\\]\nSubstituting \\(T\\) in the \\(U_{2}\\) using (min-T-1’) simplifies problem (C-2-bargain-T’) further: \\[\n\\begin{align}\n\\max_{h} \\; &U_{2} =  Y_{2} - h^{*}(4-h^{*}) + h(4-h) - h^{2} \\tag{C-2-bargain-T''}\n\\end{align}\n\\]\nNotice that consumer 2 ends up maximizing welfare when it comes to inducing \\(h\\)! First-order condition for problem (C-2-bargain-T’’) is\n\\[\n\\frac{d U_{2}}{d h} = -2h + 4 - 2h = 0.\n\\] Therefore, \\(h^{b'} = h^{o} = 1\\), restoring again socially optimal level of \\(h\\)."
  },
  {
    "objectID": "ex/econ340-hw-2-a.html#q2a.",
    "href": "ex/econ340-hw-2-a.html#q2a.",
    "title": "ECON 340: Homework Assignment 2",
    "section": "Q2a.",
    "text": "Q2a.\n\nWhat amount is Amazon willing to pay (WTP) to expand the forest area to four times its current size?\nWhat compensation is Amazon willing to accept (WTA) to forego the “Quadrupling the Amazon Forest” project?\n\nAnswer:\nLet \\(WTP\\) denote Amazon’s willingness to pay to expand the forest area to four times its current size. Also, let \\(WTA\\) denote Amazon’s willingness to accept to forego the “Quadrupling the Amazon Forest” project. Let \\(q_{0}\\) denote the current size of the forest area. For convenience, let \\(\\hat{x} = 10^9\\).\nBy the definition of WTP and WTA, the following equations hold: \\[\n\\begin{align}\nU(\\hat{x} - WTP,\\, 4q_{0}) &=\\; U(\\hat{x},\\, q_{0})\\tag{eq-WTP}\\\\\nU(\\hat{x} + WTA,\\, q_{0}) &=\\; U(\\hat{x},\\, 4q_{0})\\tag{eq-WTA}\n\\end{align}\n\\] Equation (eq-WTP) implies that \\[\n\\begin{align}\n(\\hat{x} - WTP)^{\\frac{2}{3}} (4q_{0})^{\\frac{1}{3}} &=\\; (\\hat{x})^{\\frac{2}{3}} (q_{0})^{\\frac{1}{3}}\\\\\n\\Leftrightarrow\\qquad (\\hat{x} - WTP) (4q_{0})^{\\frac{1}{2}} &=\\; (\\hat{x}) (q_{0})^{\\frac{1}{2}}\\\\\n\\Leftrightarrow\\qquad\\qquad\\quad\\;\\, \\hat{x} - WTP &=\\;\\frac{\\hat{x}}{2}  \n\\end{align}\n\\] Therefore, \\(WTP\\) = $500,000,000.\nEquation (eq-WTA) implies that \\[\n\\begin{align}\n(\\hat{x} + WTA)^{\\frac{2}{3}} (q_{0})^{\\frac{1}{3}} &=\\; (\\hat{x})^{\\frac{2}{3}} (4q_{0})^{\\frac{1}{3}}\\\\\n\\Leftrightarrow\\qquad (\\hat{x} + WTA) (q_{0})^{\\frac{1}{2}} &=\\; (\\hat{x}) (4q_{0})^{\\frac{1}{2}}\\\\\n\\Leftrightarrow\\qquad\\qquad\\quad\\;\\, \\hat{x} + WTA &=\\;2\\hat{x}  \n\\end{align}\n\\] Therefore, \\(WTA\\) = $1,000,000,000."
  },
  {
    "objectID": "ex/econ340-hw-2-a.html#q2b.",
    "href": "ex/econ340-hw-2-a.html#q2b.",
    "title": "ECON 340: Homework Assignment 2",
    "section": "Q2b.",
    "text": "Q2b.\nAre your calculations for WTP and WTA identical or do they differ? Please explain the reasons behind your assessment of their similarity or difference.\nAnswer:\n\\(WTA\\) is twice greater than \\(WTP\\). The reason is that Amazon’s utility displays diminishing marginal rate of substitution (MRS), meaning that as Amazon possesses more dollars relative to forests, the MRS decreases.\n\\[\nMRS = \\frac{\\frac{\\partial U}{\\partial x}}{\\frac{\\partial U}{\\partial q}} = 2\\times\\frac{q}{x}.\n\\] For your information, Amazon’s MRS represents the rate at which Amazon is willing to substitute one dollar for forest while keeping her utility constant.\nAmazon’s MRS means that as Amazon is willing to give up fewer units of forest to get an additional dollar as she possess more dollars. Because Amazon is actually made richer when she is compensated for giving up the “Quadrupling the Amazon Forest” project than when she pays to expand the forest area, WTA is higher than WTP."
  },
  {
    "objectID": "ex/econ340-hw-2-a.html#q3a.",
    "href": "ex/econ340-hw-2-a.html#q3a.",
    "title": "ECON 340: Homework Assignment 2",
    "section": "Q3a.",
    "text": "Q3a.\n\nGraph the demand curve for hiking trips as a function of the “price”—the travel cost.\n\nAnswer:\nAssuming the demand curve is linear, we can graph it as follows:"
  },
  {
    "objectID": "ex/econ340-hw-2-a.html#q3b.",
    "href": "ex/econ340-hw-2-a.html#q3b.",
    "title": "ECON 340: Homework Assignment 2",
    "section": "Q3b.",
    "text": "Q3b.\n\nBased on demographic information about the people living in the vicinity of the proposed park, you have estimated that 50,000 people will take an average of 4 hiking trips per year.\nFor the average person, calculate:\n\nThe consumer surplus for a single visit to the new park by a visitor with travel costs of $20;\nThe total consumer surplus for an average visitor (hint: the area of a triangle is \\(\\frac{1}{2}(B*H)\\) ); and\nThe total expected consumer surplus per year from the proposed park.\n\n\nAnswer:\n\nCS for the first trip is the WTP less the travel cost; Then, CS is \\(\\$90 - \\$20 = \\$70\\).\nCS for the average person is the triangle area under the demand curve for the average number of trips (4) and above the cost curve. The average travel costs must be $60, if 4 trips are taken. Therefore, CS is \\(\\frac{1}{2}\\times(100-60)\\times4 = \\$80\\).\nTotal CS is average CS times the expected number of visitors: \\(50,000*\\$80 = \\$4,000,000\\)."
  },
  {
    "objectID": "ex/econ340-cw-1.html",
    "href": "ex/econ340-cw-1.html",
    "title": "ECON 340: Classwork 1",
    "section": "",
    "text": "Recently, the U.S. Environmental Protection Agency issued regulations covering the design and construction of landfills for municipal solid waste. Landfills can represent a threat to environmental health if toxic chemicals leach from the waste into surrounding ground or surface waters. \nThe regulations require certain design, construction and maintenance standards extending beyond the post-closure period, including, in most cases, installation of impermeable liners and covers and groundwater monitoring. The purpose of the regulations was to ensure safe containment of solid waste and to prevent future generations from having to bear clean-up costs from poorly-disposed waste. \nEven with the new regulations, just under 10% of landfills will still pose what the EPA considers to be a “moderate” health risk for individuals who depend on contaminated groundwater: a greater than 1 in 1,000,000 increase in the risk of contracting cancer. However, because so few people actually depend on ground water within leaching distance of a landfill, the new regulations were predicted to reduce cancer by only 2 or 3 cases over the next 300 years. Potential benefits of the regulation not quantified by the EPA include: increased ease of siting landfills, reduced damage to surface water, fairness to future generations and an overall reduction in waste generation and related “upstream” pollution encouraged by higher disposal costs. \nIn aggregate, the regulations are expensive: about $5.8 billion, or around $2 billion per cancer case reduced. On a per household basis, this works out to an annual cost of $4.10 in increased garbage bills over the twenty-year life of a landfill. \n\n\nUsing the concept of social welfare represented respectively by equations (1) and (3),\n\\[\n\\begin{align}\nSW &= U_{1}\\left(\\, X_{1},\\, P_{1} \\,\\right) \\,+\\, U_{2}\\left(\\, X_{2},\\, P_{2} \\,\\right) \\,+\\, \\cdots\\quad &(1)\\\\\nSW &= U_{1}\\left(\\, X_{1},\\, w\\times P_{1} \\,\\right) \\,+\\, U_{2}\\left(\\, X_{2},\\, P_{2} \\,\\right) \\,+\\, \\cdots\\quad &(3)\n\\end{align}\n\\] explain why the EPA’s landfill regulation is (a) too strict and (b) not strict enough."
  },
  {
    "objectID": "ex/econ340-cw-1.html#q2a.",
    "href": "ex/econ340-cw-1.html#q2a.",
    "title": "ECON 340: Classwork 1",
    "section": "Q2a.",
    "text": "Q2a.\nRank the solutions in terms of efficiency. Explain your reasoning."
  },
  {
    "objectID": "ex/econ340-cw-1.html#q2b.",
    "href": "ex/econ340-cw-1.html#q2b.",
    "title": "ECON 340: Classwork 1",
    "section": "Q2b.",
    "text": "Q2b.\nRank the solutions in terms of safety. Explain your reasoning."
  },
  {
    "objectID": "ex/danl200-cw-4.html",
    "href": "ex/danl200-cw-4.html",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "",
    "text": "Download the yaml file, ny_colleges.yaml, and the xlsx file, ny_colleges_vars.xlsx from our Brightspace.\n\n\n\n\n\n\n\n(1) median debt of college students,\n\n\nnet price of college\n\n\nnumber of college students,\n\n\ncollege majors\n\n\n\nwith a variety of segmentation.\n\nA description of each variable in NY_colleges.csv is provided in ny_colleges.yaml, which we can open in RStudio or other text editors.\nA description of values of each variable in NY_colleges.csv is provided in columns, VARIABLE_NAME, VALUE, and LABEL, in ny_colleges_vars.xlsx, which we can open in Microsoft Excel.\nUsing Ctrl + F (cmd + F for mac users) would be useful to find the variable description.\nI recommend you to copy and paste the description of the variable you use in your R code to your R script with a comment (# …).\nFrom the file, ny_colleges_vars.xlsx, we can find that\n\nCIP**BACHL, whose value is either 0, 1, or 2, indicates whether a university offers a bachelor’s degree in SOME MAJOR.\n\n0: Program not offered\n1: Program offered\n2: Program offered through an exclusively distance-education program"
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1a",
    "href": "ex/danl200-cw-4.html#q1a",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1a",
    "text": "Q1a\nRead the data file, NY_colleges.csv, as the data.frame object with the name, NY_colleges, using (1) the read_csv() function and (2) the absolute path name of the file NY_colleges.csv from the web URL, 'https://bcdanl.github.io/data/NY_colleges.csv'.\nAnswer:\n\n\nCode\npath <- 'https://bcdanl.github.io/data/NY_colleges.csv'\nNY_colleges <- read_csv(path)"
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1b",
    "href": "ex/danl200-cw-4.html#q1b",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1b",
    "text": "Q1b\nWhat are the mean, median1, minimum, maximum, and standard deviation for each of the following variables?\n\n\naverage net price of public institution;\n\n\naverage net price of private institution;\n\n\nmedian debt for students who have completed;\n\n\nmedian debt for students who have not completed.\n\n\nAnswer:\n\n\nCode\nlibrary(skimr)\nskim(NY_colleges$NPT4_PUB) # it does not give us a meaningful summary.\n\n\n\nData summary\n\n\nName\nNY_colleges$NPT4_PUB\n\n\nNumber of rows\n4776\n\n\nNumber of columns\n1\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\ndata\n0\n1\n4\n5\n0\n422\n0\n\n\n\n\n\nCode\n                           # this is because NPT4_PUB is character type.\n\n\n\nAfter converting the variables into numeric types, we can get the summary statistics for NPT4_PUB and NPT4_PRIV.\n\n\n\nCode\n# Base-R way to add a new variable to data.frame!\n  # as.numeric() can convert any variable type into a numeric type.\nNY_colleges$NPT4_PUB <- as.numeric( NY_colleges$NPT4_PUB ) \nNY_colleges$NPT4_PRIV <- as.numeric( NY_colleges$NPT4_PRIV )\n\nskim(NY_colleges$NPT4_PUB)\n\n\n\nData summary\n\n\nName\nNY_colleges$NPT4_PUB\n\n\nNumber of rows\n4776\n\n\nNumber of columns\n1\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ndata\n4347\n0.09\n11809.64\n5126.4\n1814\n6476\n13412\n15926\n20616\n▅▃▃▇▃\n\n\n\n\n\nCode\nskim(NY_colleges$NPT4_PRIV)\n\n\n\nData summary\n\n\nName\nNY_colleges$NPT4_PRIV\n\n\nNumber of rows\n4776\n\n\nNumber of columns\n1\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ndata\n3209\n0.33\n19859\n9714.22\n1053\n12001\n20085\n26628.5\n54902\n▆▇▇▂▁\n\n\n\n\n\n\nThe following is the summary statistics for GRAD_DEBT_MDN and WDRAW_DEBT_MDN.\n\n\n\nCode\nskim(NY_colleges$GRAD_DEBT_MDN)\n\n\n\nData summary\n\n\nName\nNY_colleges$GRAD_DEBT_MDN\n\n\nNumber of rows\n4776\n\n\nNumber of columns\n1\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ndata\n1545\n0.68\n17174.19\n6073.82\n2500\n13625\n17125\n21600\n39467\n▂▇▅▂▁\n\n\n\n\n\nCode\nskim(NY_colleges$WDRAW_DEBT_MDN)\n\n\n\nData summary\n\n\nName\nNY_colleges$WDRAW_DEBT_MD…\n\n\nNumber of rows\n4776\n\n\nNumber of columns\n1\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\nnumeric\n1\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\ndata\n1555\n0.67\n6929.58\n2872.37\n1050\n5216\n6500\n8750\n25979\n▇▇▁▁▁"
  },
  {
    "objectID": "ex/danl200-cw-4.html#instruction-for-q1c-q1i",
    "href": "ex/danl200-cw-4.html#instruction-for-q1c-q1i",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Instruction for Q1c-Q1i",
    "text": "Instruction for Q1c-Q1i\nFrom Q1c to Q1g, provide both (1) ggplot codes and (2) a couple of sentences to answer the questions."
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1c",
    "href": "ex/danl200-cw-4.html#q1c",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1c",
    "text": "Q1c\nCompare between public institutions and private institutions in terms of the distribution of average net price.\nAnswer:\n\n\nCode\nggplot( data = NY_colleges ) + \n  geom_freqpoly( mapping = aes( x = NPT4_PUB),\n                 color = \"blue\",\n                 bins = 50 ) +   # blue for public type\n  geom_freqpoly( mapping = aes( x = NPT4_PRIV),\n                 color = \"red\",\n                 bins = 50  ) +  # red for private type\n\n\n\n\n\n\n\n\nPrivate institutions tend to have a higher average net price than public ones."
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1d",
    "href": "ex/danl200-cw-4.html#q1d",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1d",
    "text": "Q1d\nCompare between public institutions and private institutions in terms of the relationship between (1) average net price and (2) median debt for students who have completed.\nAnswer:\n\n\nCode\nggplot( data = NY_colleges,\n        mapping = aes( y = GRAD_DEBT_MDN ) ) + \n  geom_point( mapping = aes( x = NPT4_PUB ),\n              color = \"blue\",\n              alpha = .2 ) +   # blue for public type+\n  geom_smooth( mapping = aes( x = NPT4_PUB ),\n               color = \"blue\", \n               method = lm ) +   # blue for public type\n  geom_point( mapping = aes( x = NPT4_PRIV),\n              color = \"red\",\n              alpha = .2  ) +  # red for private type\n  geom_smooth( mapping = aes( x = NPT4_PRIV),\n               color = \"red\", \n               method = lm ) \n\n\n\n\n\n\n\n\nThe association between average net price and median debt is stronger in public than in private.\nThe levels of average net price and median debt tend to be lower in public than in private."
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1e",
    "href": "ex/danl200-cw-4.html#q1e",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1e",
    "text": "Q1e\nHow does the relationship between (1) average net price and (2) median debt for students who have completed vary by levels of family income?\nAnswer:\n\n\nCode\nggplot( data = NY_colleges,\n        mapping = aes( y = LO_INC_DEBT_MDN ) ) + \n  geom_point( mapping = aes( x = NPT4_PUB ),\n              color = \"blue\",\n              alpha = .2 ) +   # blue for public type+\n  geom_smooth( mapping = aes( x = NPT4_PUB ),\n               color = \"blue\", \n               method = lm ) +   # blue for public type\n  geom_point( mapping = aes( x = NPT4_PRIV),\n              color = \"red\",\n              alpha = .2  ) +  # red for private type\n  geom_smooth( mapping = aes( x = NPT4_PRIV),\n               color = \"red\", \n               method = lm )\n\n\n\n\n\n\n\n\n\nCode\nggplot( data = NY_colleges,\n        mapping = aes( y = MD_INC_DEBT_MDN ) ) + \n  geom_point( mapping = aes( x = NPT4_PUB ),\n              color = \"blue\",\n              alpha = .2 ) +   # blue for public type+\n  geom_smooth( mapping = aes( x = NPT4_PUB ),\n               color = \"blue\", \n               method = lm ) +   # blue for public type\n  geom_point( mapping = aes( x = NPT4_PRIV),\n              color = \"red\",\n              alpha = .2  ) +  # red for private type\n  geom_smooth( mapping = aes( x = NPT4_PRIV),\n               color = \"red\", \n               method = lm )\n\n\n\n\n\n\n\n\n\nCode\nggplot( data = NY_colleges,\n        mapping = aes( y = HI_INC_DEBT_MDN ) ) + \n  geom_point( mapping = aes( x = NPT4_PUB ),\n              color = \"blue\",\n              alpha = .2 ) +   # blue for public type+\n  geom_smooth( mapping = aes( x = NPT4_PUB ),\n               color = \"blue\", \n               method = lm ) +   # blue for public type\n  geom_point( mapping = aes( x = NPT4_PRIV),\n              color = \"red\",\n              alpha = .2  ) +  # red for private type\n  geom_smooth( mapping = aes( x = NPT4_PRIV),\n               color = \"red\", \n               method = lm )\n\n\n\n\n\n\n\n\nRegardless of the levels of family income, the association between average net price and median debt is stronger in public than in private.\nRegardless of the levels of family income, the levels of average net price and median debt tend to be lower in public than in private."
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1f",
    "href": "ex/danl200-cw-4.html#q1f",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1f",
    "text": "Q1f\nCompare between public institutions and private institutions in terms of the proportion of high-income students.\nAnswer:\n\n\nCode\nggplot( data = NY_colleges ) + \n  geom_histogram( mapping = aes( x = HI_INC_YR4_N / OVERALL_YR4_N ),\n                  binwidth = .015 ) +\n  facet_wrap( .~ as.factor(CONTROL) )\n\n\n\n\n\n\n\n\nPrivate nonprofit tends to have the larger proportion of high-income students than public and private for-profit."
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1g",
    "href": "ex/danl200-cw-4.html#q1g",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1g",
    "text": "Q1g\nDescribe how the number of students in a college varies by whether or not a college offers bachelor’s degree in Business, Management, Marketing, and Related Support Services.\nAnswer:\n\n\nCode\nggplot( data = NY_colleges) +\n  geom_histogram( mapping = aes(x = OVERALL_YR4_N ),\n                  binwidth = 200 ) +\n  facet_grid( factor(CIP52BACHL) ~ .)\n\n\nggplot( data = NY_colleges ) +\n  geom_boxplot(mapping = aes(y = factor(CIP52BACHL),\n                             x = OVERALL_YR4_N,\n                             fill = factor(CIP52BACHL) ),\n                ) \n\n\n\n\n\n\n\n\n\n\n\nLog transformation can be useful when a distribution of a variable of interest is highly skewed.\n\nIn such case, log transformation make the distribution more normal-ish.\n\n\n\n\nCode\nggplot( data = NY_colleges) +\n  geom_histogram( mapping = aes(x = log(OVERALL_YR4_N) ) ) +\n  facet_grid( factor(CIP52BACHL) ~ .)\n\n\nggplot( data = NY_colleges ) +\n  geom_boxplot(mapping = aes(y = factor(CIP52BACHL),\n                             x = log(OVERALL_YR4_N),\n                             fill = factor(CIP52BACHL) ),\n                ) \n\n\n\n\n\n\n\n\n\n\n\nSchools that offer a business major tend to have more students than schools that do not offer one."
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1h",
    "href": "ex/danl200-cw-4.html#q1h",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1h",
    "text": "Q1h\nDescribe how the median debt for students who have completed varies by whether or not a college offers bachelor’s degree in Business, Management, Marketing, and Related Support Services.\nAnswer:\n\n\nCode\nggplot( data = NY_colleges) +\n  geom_histogram( mapping = aes(x = GRAD_DEBT_MDN ),\n                  binwidth = 200 ) +\n  facet_grid( factor(CIP52BACHL) ~ .)\n\n\nggplot( data = NY_colleges ) +\n  geom_boxplot(mapping = aes(y = factor(CIP52BACHL),\n                             x = GRAD_DEBT_MDN,\n                             fill = factor(CIP52BACHL) ),\n               ) \n\n\n\n\n\n\n\n\n\n\n\nThe levels of median debt tends to be larger for schools that offers a business major online exclusively."
  },
  {
    "objectID": "ex/danl200-cw-4.html#q1i",
    "href": "ex/danl200-cw-4.html#q1i",
    "title": "Spring 2023, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1i",
    "text": "Q1i\nDescribe how the yearly trend of the median debt for students varies by levels of family income.\nAnswer:\n\n\nCode\nggplot( NY_colleges,\n              aes(x = as.factor(YEAR) ) ) +\n  geom_boxplot(fill = 'red',\n               aes( y = LO_INC_DEBT_MDN) ) +\n  ylim(c(0,30000))\n\n\n\n\n\n\n\n\n\nCode\nggplot( NY_colleges,\n              aes(x = as.factor(YEAR) ) ) +\n  geom_boxplot(fill = 'green',\n               aes( y = MD_INC_DEBT_MDN) ) +\n  ylim(c(0,30000)) \n\n\n\n\n\n\n\n\n\nCode\nggplot( NY_colleges,\n              aes(x = as.factor(YEAR) ) ) +\n  geom_boxplot(fill = 'blue',\n               aes( y = HI_INC_DEBT_MDN) ) +\n  ylim(c(0,30000)) \n\n\n\n\n\n\n\n\nThe median debt from low-income students tends to increase less than that from median-income and high-income students."
  },
  {
    "objectID": "ex/econ340-cw-5.html",
    "href": "ex/econ340-cw-5.html",
    "title": "ECON 340: Classwork 5",
    "section": "",
    "text": "Let’s find the demand functions for \\(x_1\\) and \\(x_2\\) for the quasi-linear utility function. The problem we want to solve is\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}}&\\; u(x_{1}, x_{2}) = x_{1} + \\log(x_{2}) \\tag{1}\\\\\n\\text{such that}&\\quad Y \\;\\geq\\; p_{1}x_{1} + p_{2}x_{2} \\tag{2}\n\\end{align}\n\\]\nNow for Lagrange’s method for the problem (1) with constraint (2).\nAt the optimum of \\(x_{1}\\) and \\(x_{2}\\), the budget constraint (2) binds. So, instead, we can solve:\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}}&\\; u(x_{1}, x_{2}) = x_{1} + \\log(x_{2}) \\tag{1}\\\\\n\\text{such that}&\\quad Y \\;=\\; p_{1}x_{1} + p_{2}x_{2} \\tag{3}\n\\end{align}\n\\]\nStep 1. Set up the Lagrangian: \\[\n\\mathcal{L} = x_{1} + \\log(x_{2}) + \\lambda(Y - p_{1}x_{1} - p_{2}x_{2}). \\tag{4}\n\\] Step 2. Derive the first order conditions: \\[\n\\begin{align}\n\\frac{\\partial\\mathcal{L}}{\\partial x_{1}} &= 1 - \\lambda p_{1} = 0, \\tag{5}\\\\\n\\frac{\\partial\\mathcal{L}}{\\partial x_{2}} &= \\frac{1}{x_{2}} - \\lambda p_{2} = 0, \\tag{6}\\\\\n\\frac{\\partial\\mathcal{L}}{\\partial x_{1}} &= Y - p_{1}x_{1} - p_{2}x_{2} = 0. \\tag{7}\\\\\n\\end{align}\n\\] Step 3. Solve the system of equations from the first-order conditions.\n\\[\n\\begin{align}\n\\lambda^{*} &= \\frac{1}{p_{1}},\\\\\nx_{2}^{*} &= \\frac{p_{1}}{p_{2}},\\\\\nx_{1}^{*} &= \\frac{Y}{p_{1}} - 1.\n\\end{align}\n\\] Notice that \\(x_{2}^{*}\\) does not depend on the income level at all!\n\n\n\n\nLet the constraints \\(h_{1}(x, y, z), h_{2}(x, y, z)\\), and the objective \\(f(x, y, z)\\) be differentible functions of 3 variables, \\(x, y\\), and \\(z\\). Consider the problem of maximizing \\(f(x, y, z)\\) on the constraints\n\\[\n\\begin{align}\nh_{1}(x, y, z) &= a_{1}\\\\\nh_{2}(x, y, z) &= a_{2}\n\\end{align}\n\\] Step 1. Set up the Lagrangian. - If possible, substitute the constraint into the objective function \\(f(x,y,z)\\).\n\\[\n\\mathcal{L} = f(x, y, z) - \\lambda_{1}(h_{1}(x, y, z) - a_{1})  - \\lambda_{2}(h_{2}(x, y, z) - a_{2})\n\\]\nStep 2. Derive the first order conditions:\n\\[\n\\begin{align}\n\\frac{\\partial\\mathcal{L}}{\\partial x} &= 0,\\\\\n\\frac{\\partial\\mathcal{L}}{\\partial y} &= 0,\\\\\n\\frac{\\partial\\mathcal{L}}{\\partial z} &= 0,\\\\\n\\frac{\\partial\\mathcal{L}}{\\partial \\lambda_{1}} &= 0,\\\\\n\\frac{\\partial\\mathcal{L}}{\\partial \\lambda_{2}} &= 0.\\\\\n\\end{align}\n\\]\nStep 3. Solve the system of equations from the first-order conditions.\n\n\n\nMaximize \\(f(x,y,z) = yz + xz\\) subject to \\(y^{2} + z^{2} = 1\\) and \\(xz = 3\\)."
  },
  {
    "objectID": "ex/econ340-cw-10-v2.html",
    "href": "ex/econ340-cw-10-v2.html",
    "title": "ECON 340: Classwork 10 - Mock-up Exam II",
    "section": "",
    "text": "Grand Teton National Park is located 10 minutes away from city Jackson and 20 minutes away from city Teton. Cities Jackson and Teton have 25,000 and 10,000 inhabitants respectively, and residents in both cities have the same income and preferences for national parks. Assume that the cost for an individual to go to a national park is represented by the cost of the time it takes her to get into the park. Also assume that the cost of time for individuals in cities Jackson and Teton is $.50 per minute. You observe that each inhabitant of city Jackson goes to Grand Teton ten times a year while each inhabitant of city Teton goes only five times a year. Assume the following: the only people who go to the park are the residents of cities Jackson and Teton; the cost of running Grand Teton is $1,000,000 a year; and the social discount rate is 1%. Also assume that the park lasts forever."
  },
  {
    "objectID": "ex/econ340-cw-10-v2.html#q1a.",
    "href": "ex/econ340-cw-10-v2.html#q1a.",
    "title": "ECON 340: Classwork 10 - Mock-up Exam II",
    "section": "Q1a.",
    "text": "Q1a.\nCompute the cost per visit to Grand Teton for an inhabitant of each city.\n\nAnswer:\nA day at the park will cost a resident of city Jackson $10 (10 minutes each way × $.50 per minute) and a resident of city Teton $20 (20 minutes each way × $.50 per minute)."
  },
  {
    "objectID": "ex/econ340-cw-10-v2.html#q1b.",
    "href": "ex/econ340-cw-10-v2.html#q1b.",
    "title": "ECON 340: Classwork 10 - Mock-up Exam II",
    "section": "Q1b.",
    "text": "Q1b.\nAssuming that those two observations (cost per visit and number of visits per inhabitant of city Jackson, and cost per visit and number of visits per inhabitant of city Teton) correspond to two points of the same linear individual demand curve for visits to Grand Teton, derive that demand curve. What is the consumer surplus for inhabitants of each city? What is the total consumer surplus?\n\nAnswer:\n\nEach resident in City Jackson accounts for 10 visits at a price of $10;\nEach resident in City Teton accounts for 5 visits at a price of $20\n\nIf the demand function for the number of visit per year per person is linear, every $10 price increase is associated with a decrease in quantity of 5 visits. Thus, the demand function is \\[\np = 30 - 2q\n\\]\n\n\n\n\n\nCity Jackson residents have a consumer surplus of\n\\[\n\\begin{align}\nCS_{Jackson} &= \\underbrace{\\frac{1}{2}\\times (30 - 10)\\times 10}_{\\text{CS per person in Jackson}} \\times \\underbrace{25,000}_{\\text{Number of residents in Jackson}}\\\\\n&= \\text{\\$} 2,500,000\n\\end{align}\n\\]\nCity Teton residents have a consumer surplus of\n\\[\n\\begin{align}\nCS_{Teton} &= \\underbrace{\\frac{1}{2}\\times (30 - 20)\\times 5}_{\\text{CS per person in Teton}} \\times \\underbrace{10,000}_{\\text{Number of residents in Teton}}\\\\\n&= \\text{\\$}250,000\n\\end{align}\n\\]\nTotal consumer surplus is $2,750,000."
  },
  {
    "objectID": "ex/econ340-cw-10-v2.html#q1c.",
    "href": "ex/econ340-cw-10-v2.html#q1c.",
    "title": "ECON 340: Classwork 10 - Mock-up Exam II",
    "section": "Q1c.",
    "text": "Q1c.\nThere is a timber developer who wants to buy Grand Teton to run his business. He is offering $50 million for the park. Should the park be sold?\n\nAnswer:\nEach year consumer surplus is $1,625,000 and operating costs are $1 million, for a net benefit of $625,000. Applying the social discount rate of 1% yields a PDV of\n\\[\n\\begin{align}\nPDV &= \\frac{1,750,000}{.01} \\\\\n&= \\text{\\$}175\\;\\text{million},\n\\end{align}\n\\]\nwhich is much more than the timber developer’s offer. The park should not be sold."
  },
  {
    "objectID": "ex/econ340-cw-4.html",
    "href": "ex/econ340-cw-4.html",
    "title": "ECON 340: Classwork 4",
    "section": "",
    "text": "Market Equilibrium: In a competitive equilibrium, supply equals demand in every market, and every agent maximizes their utility or profit given market prices. In this state, no one has an incentive to change their behavior, as they are already optimizing given the current prices and allocations.\nSocial planner: Let us assume the existence of a benevolent social planner who makes all the decisions in the economy. The social planner is benevolent because the social planner’s objective is to maximize the social welfare by allocating available resources in the economy. While prices coordinate exchanges between agents in the competitive markets, the social planner does not follow prices when allocating resources.\nGovernment: Government’s objective is the same as the social planner’s one—maximizing the social welfare. Unlike the social planner, however, government cannot freely allocate available resources in the economy. Instead, government uses policy tools, such as taxes and subsidies, to achieve the socially optimal allocation of resources given the agents’ optimizing behaviors.\n\n\n\nConsider a society with just two consumers. Consumer 1 can get positive utility from a positive amount of some activity \\(h\\) that she chooses the level of, but consumer 2 gets negative utility from that activity. We can think of \\(h\\) as some non-market good, for example, “hours” of loud music played by consumer 1, disturbing consumer 2’s peace and quiet. Consumer 1 therefore imposes a negative externality on consumer 2. Assume there is no other cost associated with the activity.\nAssume that both consumers gain utilities from consuming a numeraire good \\(x\\), whose price is 1, but may have different incomes \\(Y_{1}\\) and \\(Y_{2}\\).\n\nConsumer 1’s utility is \\(U_{1} = u_{1}(x_{1}, h)\\);\nConsumer 2’s utility is \\(U_{2} = u_{2}(x_{2}, h)\\).\n\n\n\n\nEach consumer’s object is to maximize his/her own utility subject to his/her budget constraint.\n\n\n\n\n\nSocial planner maximizes social welfare subject to resource constraint.\n\n\n\n\n\nEach consumer’s object is to maximize his/her own utility subject to his/her budget constraint.\nGovernment’s object is to maximize social welfare subject to its budget constraint for its policy tools, consumers’ budget constraints, and consumers’ optimizing behaviors."
  },
  {
    "objectID": "ex/danl200-cw-5.html",
    "href": "ex/danl200-cw-5.html",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "",
    "text": "library(tidyverse)\nlibrary(skimr)"
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1a",
    "href": "ex/danl200-cw-5.html#q1a",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1a",
    "text": "Q1a\nRead the data file, bikeshare_cleaned.csv, as the data.frame object with the name, bikeshare, using (1) the read_csv() function and (2) its URL, https://bcdanl.github.io/data/bikeshare_cleaned.csv.\nAnswer:\n\n\nCode\nurl <- 'https://bcdanl.github.io/data/bikeshare_cleaned.csv'\nbikeshare <- read_csv(url)\n\nView(bikeshare)\nsummary(bikeshare)\nskim(bikeshare)\n\ntable(bikeshare$wkday)\ntable(bikeshare$month)\ntable(bikeshare$seasons)\ntable(bikeshare$weather_cond)\n\nprop.table( table( bikeshare$wkday ) )\nprop.table( table( bikeshare$month ) )\nprop.table( table( bikeshare$seasons ) )\nprop.table( table( bikeshare$weather_cond ) )\n\n\n\n\nWe can view the data.frame bikeshare: \n\n\n\n\n\n  \n\n\n\n\n\nThe following summarizes the data.frame bikeshare:\n\n\n\n\n\n\n\nData summary\n\n\n\n\nName\n\n\nbikeshare\n\n\n\n\nNumber of rows\n\n\n17376\n\n\n\n\nNumber of columns\n\n\n12\n\n\n\n\n_______________________\n\n\n\n\n\n\nColumn type frequency:\n\n\n\n\n\n\nfactor\n\n\n5\n\n\n\n\nnumeric\n\n\n7\n\n\n\n\n________________________\n\n\n\n\n\n\nGroup variables\n\n\nNone\n\n\n\n\n\nVariable type: factor\n\n\n\n\n\nskim_variable\n\n\nn_missing\n\n\ncomplete_rate\n\n\nordered\n\n\nn_unique\n\n\ntop_counts\n\n\n\n\n\n\nmonth\n\n\n0\n\n\n1\n\n\nFALSE\n\n\n12\n\n\n05: 1488, 07: 1488, 12: 1483, 08: 1475\n\n\n\n\ndate\n\n\n0\n\n\n1\n\n\nFALSE\n\n\n31\n\n\n01: 575, 05: 575, 17: 575, 04: 574\n\n\n\n\nwkday\n\n\n0\n\n\n1\n\n\nFALSE\n\n\n7\n\n\nsat: 2511, sun: 2502, fri: 2487, mon: 2478\n\n\n\n\nseasons\n\n\n0\n\n\n1\n\n\nFALSE\n\n\n4\n\n\nfal: 4496, sum: 4409, spr: 4239, win: 4232\n\n\n\n\nweather_cond\n\n\n0\n\n\n1\n\n\nFALSE\n\n\n3\n\n\nCle: 11413, Mis: 4544, Lig: 1419\n\n\n\n\n\nVariable type: numeric\n\n\n\n\n\nskim_variable\n\n\nn_missing\n\n\ncomplete_rate\n\n\nmean\n\n\nsd\n\n\np0\n\n\np25\n\n\np50\n\n\np75\n\n\np100\n\n\nhist\n\n\n\n\n\n\ncnt\n\n\n0\n\n\n1\n\n\n189.48\n\n\n181.40\n\n\n1.00\n\n\n40.00\n\n\n142.00\n\n\n281.00\n\n\n977.00\n\n\n▇▃▁▁▁\n\n\n\n\nyear\n\n\n0\n\n\n1\n\n\n2011.50\n\n\n0.50\n\n\n2011.00\n\n\n2011.00\n\n\n2012.00\n\n\n2012.00\n\n\n2012.00\n\n\n▇▁▁▁▇\n\n\n\n\nhr\n\n\n0\n\n\n1\n\n\n11.55\n\n\n6.91\n\n\n0.00\n\n\n6.00\n\n\n12.00\n\n\n18.00\n\n\n23.00\n\n\n▇▇▆▇▇\n\n\n\n\nholiday\n\n\n0\n\n\n1\n\n\n0.03\n\n\n0.17\n\n\n0.00\n\n\n0.00\n\n\n0.00\n\n\n0.00\n\n\n1.00\n\n\n▇▁▁▁▁\n\n\n\n\ntemp\n\n\n0\n\n\n1\n\n\n0.00\n\n\n1.00\n\n\n-2.48\n\n\n-0.82\n\n\n0.02\n\n\n0.85\n\n\n2.61\n\n\n▂▇▇▇▁\n\n\n\n\nhum\n\n\n0\n\n\n1\n\n\n0.00\n\n\n1.00\n\n\n-3.25\n\n\n-0.76\n\n\n0.01\n\n\n0.79\n\n\n1.93\n\n\n▁▃▇▇▆\n\n\n\n\nwindspeed\n\n\n0\n\n\n1\n\n\n0.00\n\n\n1.00\n\n\n-1.55\n\n\n-0.70\n\n\n0.03\n\n\n0.52\n\n\n5.40\n\n\n▇▆▂▁▁\n\n\n\n\n\n\n\n\nUse the data.frame bikeshare for the rest of questions in Question 2.\n\nDescription of variables in the data file, bikeshare_cleaned.csv\nThe data set, bikeshare_cleaned.csv, includes 17376 observations of hourly counts from 2011 to 2012 for bike rides (rentals) in Washington D.C.\n\n\ncnt: count of total bikes rented out\nyear: year\nmonth: month\ndate: date\nhr: hours\nwkday: week day\nholiday: holiday if holiday == 1; non-holiday otherwise\nseasons: season\nweather_cond: weather condition\ntemp: temperature, measured in standard deviations from average.\nhum: humidity, measured in standard deviations from average.\nwindspeed: wind speed, measured in standard deviations from average."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1b",
    "href": "ex/danl200-cw-5.html#q1b",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1b",
    "text": "Q1b\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the distribution of cnt.\nAnswer:\n\n\nCode\nggplot(bikeshare) +\n  geom_histogram(aes(x = cnt),\n                 binwidth = 5) \n\n\n\n\n\n\n\n\n\nThe distribution of cnt is right-skewed.\nThe most common values for cnt range from 0 to 50."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1c",
    "href": "ex/danl200-cw-5.html#q1c",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1c",
    "text": "Q1c\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the distribution of cnt by year and month.\nAnswer:\n\n\nCode\n# histogram\nggplot(bikeshare) +\n  geom_histogram( aes(x = cnt, fill = month),\n                  binwidth = 10,\n                  color = NA,\n                  show.legend = F) +\n  facet_grid(month~year) \n\n# boxplot\nggplot(bikeshare) +\n  geom_boxplot( aes(x = cnt, y = month, \n                    fill = month),\n                  show.legend = F) \n\n\n\n\n\n\n\n\n\n\n\n\n\nOverall, the demand for bike rentals tends to be higher in 2012 than in 2011.\nOverall, the demand for bike rentals tends to be lower in winter."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1d",
    "href": "ex/danl200-cw-5.html#q1d",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1d",
    "text": "Q1d\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the distribution of temp by year and month.\nAnswer:\n\n\nCode\nggplot(bikeshare) +\n  geom_histogram(aes(x = temp, fill = month),\n                  binwidth = .1,\n                 show.legend = F) +\n  geom_vline(xintercept = 0, color = 'red') + \n  facet_grid(month ~ year) \n\n\n\n\n\n\n\n\nWe observe the four seasons when it comes to temperature.\nJanuary tends to be the coldest and July is the hottest.\nThe distribution of temperature across months looks similar across years 2011-2012."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1e",
    "href": "ex/danl200-cw-5.html#q1e",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1e",
    "text": "Q1e\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the distribution of hum by year and month.\nAnswer:\n\n\nCode\nggplot(bikeshare) +\n  geom_histogram(aes(x = hum, fill = month),\n                binwidth = .1,\n                show.legend = F) +\n  geom_vline(xintercept = 0, color = 'red') + \n  facet_grid(month ~ year) \n\n\n\n\n\n\n\n\nIn years 2011-2012 in Washington D.C., May, August, and September tend to be more humid than other months.\nIn years 2011-2012 in Washington D.C., January and February tend to be less humid than other months.\nOverall, the distribution of humidity across months looks similar across years 2011-2012 in Washington D.C."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1f",
    "href": "ex/danl200-cw-5.html#q1f",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1f",
    "text": "Q1f\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the distribution of windspeed by year and month.\nAnswer:\n\nggplot(bikeshare) +\n  geom_histogram(aes(x = windspeed), bins = 100) +\n  geom_vline(xintercept = 0, color = 'red') + \n  facet_grid(month ~ year) \n\n\n\n\n\n\n\nOverall, the monthly distribution of wind speed looks similar across years 2011-2012 in Washington D.C.\nIn years 2011-2012 in Washington D.C., noticeably slow wind speed, -1.5, which is a deviation from the standardized mean of wind speed 0, is observed throughout all months."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1g",
    "href": "ex/danl200-cw-5.html#q1g",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1g",
    "text": "Q1g\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between temp and cnt.\nAnswer:\n\n\nCode\nggplot(bikeshare,\n       aes(x = temp, y = cnt)) +\n  geom_hex() +\n  geom_smooth(color = 'red') +\n  geom_smooth(method = lm) \n\n\n\n\n\n\n\n\ntemp and cnt are positively associated with each other.\nToo high temp (above 1.5) may lead to lower cnt."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1h",
    "href": "ex/danl200-cw-5.html#q1h",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1h",
    "text": "Q1h\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between temp and cnt by year and month.\nAnswer:\n\n\nCode\nggplot(bikeshare, aes(x = temp, y = cnt )) +\n    geom_point(alpha = .1)  +\n    geom_smooth(color = \"red3\",\n                fill = \"orchid\",\n                method = lm)  +\n    geom_smooth(color = \"royalblue\",\n                fill = \"orchid\")  +\n  facet_grid(month~year)\n\n\n\n\n\n\n\n\nOverall, temp and cnt are positively associated with each other.\nIn June, July, and August, the association between temp and cnt switches from positive to negative at which temp is around 1.5."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1i",
    "href": "ex/danl200-cw-5.html#q1i",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1i",
    "text": "Q1i\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between weather_cond and cnt.\nAnswer:\n\n\nCode\nggplot(bikeshare) +\n  geom_histogram(aes(x = cnt),\n                 binwidth = 5) + \n  facet_grid(. ~ weather_cond) \n\n\n\n\n\n\n\n\n\n\n\nIn 2012-2013 in Washington D.C., people rented out bikes more often when weather_cond is Clear or Few Cloudy.\nThe most common values for cnt are around 50 across all values of weather_cond.\nWhen weather_cond is Light Snow or Light Rain, people are more likely to rent less number of bikes."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1j",
    "href": "ex/danl200-cw-5.html#q1j",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1j",
    "text": "Q1j\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between weather_cond and cnt by hr.\nAnswer:\n\n\nCode\nggplot(bikeshare) +\n  geom_freqpoly(aes(x = cnt, color = as.factor(hr)),\n               show.legend = F) + \n  facet_grid(hr ~ weather_cond, scale = \"free_y\") \n\n\n\n\n\n\n\n\nThe values of cnt during commuting hours (hr 7:00 A.M.-8:59 A.M. and 5:00 P.M.-7:59 P.M.) are often larger than other commuting hours.\n\nIt implies that a shortage of rental bikes is more likely to happen during these hours."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1k",
    "href": "ex/danl200-cw-5.html#q1k",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1k",
    "text": "Q1k\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between wkday and cnt.\nAnswer:\n\n\nCode\nggplot(bikeshare) +\n  geom_histogram(aes(x = cnt,\n                   fill = as.factor(wkday)),\n                 binwidth = 10,\n               color = NA,\n               show.legend = F) + \n  facet_grid(. ~ wkday)\n\n\nggplot(bikeshare,\n       aes(x = wkday, y = cnt)) +\n  geom_boxplot( aes(fill = wkday),\n                show.legend = F ) +\n  stat_summary(fun = mean)\n\n\n\n\n\n\n\n\n\n\n\nThe distribution of cnt is right-skewed, and looks similar across all values of wkday."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q1l",
    "href": "ex/danl200-cw-5.html#q1l",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q1l",
    "text": "Q1l\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between wkday and cnt by hr.\nAnswer:\n\n\nCode\nggplot(bikeshare) +\n  geom_histogram(aes(x = cnt,\n                     fill = as.factor(hr)),\n                 binwidth = 10,\n               color = NA, \n               show.legend = F) + \n  facet_grid(hr~wkday, scale = \"free_y\") \n\n\n\n\nCode\nggplot(bikeshare) +\n  geom_boxplot(aes(x = cnt,\n                   y = as.factor(hr),\n                   fill = as.factor(hr)),\n               show.legend = F) + \n  facet_grid(.~wkday, scale = \"free_y\") \n\n\n\n\n\n\n\n\n\n\n\n\n\nDuring hours from 10 to 15, people tend to rent out bikes more on Saturday and Sunday than on other week days.\nDuring the morning commuting hours, people tend to rent out bikes less on Saturday and Sunday than on other week days."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q2a",
    "href": "ex/danl200-cw-5.html#q2a",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q2a",
    "text": "Q2a\nRead the data file, NY_school_enrollment_socioecon.csv, as the data.frame object with the name, NY_school_enrollment_socioecon, using (1) the read_csv() function and (2) its URL, https://bcdanl.github.io/data/NY_school_enrollment_socioecon.csv.\nAnswer:\n\n\nCode\nurl2 <- 'https://bcdanl.github.io/data/NY_school_enrollment_socioecon.csv'\nNY_school_enrollment_socioecon <- read_csv(url2)\nView(ny_school_enrollment_socio)\n\n\n\nWe can view the data.frame NY_school_enrollment_socioecon: \n\n\n\n\n\n  \n\n\n\n\nFor description of variables in NY_school_enrollment_socioecon, refer to the file, ny_school_enrollment_socioecon_description.csv, which is in the Files section in our Brightspace web-page. (I recommend you to open the file, ny_school_enrollment_socioecon_description.csv, using Excel or Numbers.)\n\nHere are some details about the data.frame, NY_school_enrollment_socioecon:\nThe geographic and time units of observation (row) in the data.frame, NY_school_enrollment_socioecon, are New York county and year.\n\n\n\n\n\n \n  \n    FIPS \n    year \n    county_name \n    pincp \n    c01_001 \n    c02_002 \n  \n \n\n  \n    36001 \n    2015 \n    Albany \n    55793 \n    84463 \n    4.7 \n  \n\n\n\n\n\n\nFor example, the observation above means that in Albany county in year 2015 …\n\nAverage personal income of people is $55,793.\nPopulation 3 years and over enrolled in school is 84,463.\nPercent of population 3 years and over enrolled in nursery school and preschool is 4.7%.\n\n\n\n\nThe following is sample observations from Bronx and Livingston counties:\n\n\n\n\n\n\n\n\n\n\n\nThe following describes the variables:\n\nc01_010: Total!!Population enrolled in college or graduate school\nSo, c01_010 is total population enrolled in college or graduate school;\nc02_010: Percent!!Population enrolled in college or graduate school\nSo, c02_010 is a percent of total population enrolled in college or graduate school;\nIn which county is more likely for a person to be enrolled in a college or graduate school?\n\n\n\n\nA county’s college enrollment level can be represented by an overall tendency of that county’s residents to be enrolled in college (as long as we are interested in analyzing how human behaves overall).\nThe size of a county’s population enrolled in college or graduate school (c01_010) may not be appropriate to represent a county’s college enrollment level.\n\nA county’s larger size of population enrolled in college does not necessarily mean people in people in that county are likely to be enrolled in college.\n\nConsider the following example:\n\n\n\n\n\n \n  \n    County \n    Total.Population \n    Bachelor.s.Degree \n    High.School \n    Percent.of.Bachelor.s.Degree \n    Percent.of.High.School \n  \n \n\n  \n    A \n    100,000 \n    1,000 \n    99,000 \n    1.0% \n    99.0% \n  \n  \n    B \n    1,000 \n    999 \n    1 \n    99.9% \n    0.1% \n  \n\n\n\n\n\n\nAlthough County A has the larger number of people that have bachelor’s degrees than County B, it is more appropriate to say that people in County B have a higher college enrollment than people in County A.\nThis is because the overall tendency of County B’s people to attend college is stronger than that of County A’s people.\nSimilarly, to represent a standard of living of people in a country, we do not use a country’s gross domestic product (GDP) but its GDP per capita (GDP per capita is GDP devided by population).\n\nFor example, China records the second largest GDP in the world as of now. However, World Bank still considers China a middle-income country, because of its relatively low level of GDP per capita."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q2b",
    "href": "ex/danl200-cw-5.html#q2b",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q2b",
    "text": "Q2b\nProvide both (1) ggplot codes and (2) a couple of sentences to describe the relationship between college enrollment and educational attainment of population 45 to 64 years, and how such relationship varies by the type (public or private) of colleges.\nAnswer:\n\nTo represent a level of educational attainment of population 45 to 64 years in a county, I choose variable, 100 - d01_024, a percent of population 45 to 64 years without bachelor’s degree.\nTo represent a level of college enrollment of population in a county, I choose variable, c02_010, a percent of population enrolled in college or graduate school.\nTo represent a level of public college’s enrollment of population in a county, I choose variable, c04_010, a percent of population enrolled in public college or graduate school.\nTo represent a level of private college’s enrollment of population in a county, I choose variable, c06_010, a percent of population enrolled in private college or graduate school.\nThe following ggplot describes the relationship between college enrollment and educational attainment of population 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon,\n       aes(x = 100 - d01_024, y = c02_010)) +\n  geom_hex()  +\n  geom_smooth(method = lm)  +\n  geom_smooth(color = 'red') +\n  coord_fixed()\n\n\n\n\n\n\n\n\nThe percentage of population 45 to 64 years without Bachelor’s degree is negatively associated with the percentage of population enrolled in college or graduate school.\nThe following ggplot describes the relationship between college enrollment in public schools and educational attainment of population 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon,\n       aes(x = 100 - d01_024, y = c04_010)) +\n  geom_hex()  +\n  geom_smooth(method = lm)  +\n  geom_smooth(color = 'red') +\n  coord_fixed()\n\n\n\n\n\n\n\n\nThe following ggplot describes the relationship between college enrollment in private schools and educational attainment of population 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon,\n       aes(x = 100 - d01_024, y = c06_010)) +\n  geom_hex()  +\n  geom_smooth(method = lm)  +\n  geom_smooth(color = 'red') +\n  coord_fixed()\n\n\n\n\n\n\n\n\nThe percentage of population 45 to 64 years without Bachelor’s degree is positively associated with the percentage of population enrolled in public college or graduate school.\nThe percentage of population 45 to 64 years without Bachelor’s degree is negatively associated with the percentage of population enrolled in private college or graduate school."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q2c",
    "href": "ex/danl200-cw-5.html#q2c",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q2c",
    "text": "Q2c\nProvide both (1) ggplot codes and (2) a couple of sentences to describe how the relationships described in Q3b vary by gender of population 45 to 64 years.\nAnswer:\n\nTo represent a level of educational attainment of male population 45 to 64 years in a county, I choose variable, 100 - d03_024, a percent of male population 45 to 64 years without bachelor’s degree.\nTo represent a level of educational attainment of female population 45 to 64 years in a county, I choose variable, 100 - d05_024, a percent of female population 45 to 64 years without bachelor’s degree.\nThe following ggplot describes the relationship between college enrollment and educational attainment of male/female populations 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon) +\n  geom_point(aes(x = 100 - d03_024, y = c02_010),\n             color = 'blue')  +\n  geom_point(aes(x = 100 - d05_024, y = c02_010),\n             color = 'red')  +\n  geom_smooth(aes(x = 100 - d03_024, y = c02_010),\n              color = 'blue',  \n              method = lm)  +\n  geom_smooth(aes(x = 100 - d05_024, y = c02_010),\n              color = 'red',\n              method = lm) \n\n\n\n\n\n\n\n\nRegardless of a gender of population 45 to 64 years, the percentage of population 45 to 64 years without Bachelor’s degree is negatively associated with the percentage of population enrolled in college or graduate school.\nGiven the same level of the percentage of population enrolled in college or graduate school, male population 45 to 64 years without bachelor’s degree tends to be higher than female population 45 to 64 years without bachelor’s degree.\n\n\n\nThe following ggplot describes the relationship between public college enrollment and educational attainment of male/female populations 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon) +\n  geom_point(aes(x = 100 - d03_024, y = c04_010),\n             color = 'blue')  +\n  geom_point(aes(x = 100 - d05_024, y = c04_010),\n             color = 'red')  +\n  geom_smooth(aes(x = 100 - d03_024, y = c04_010),\n              color = 'blue',  \n              method = lm)  +\n  geom_smooth(aes(x = 100 - d05_024, y = c04_010),\n              color = 'red',\n              method = lm) \n\n\n\n\n\n\n\n\nRegardless of a gender of population 45 to 64 years, the percentage of population 45 to 64 years without Bachelor’s degree is positively associated with the percentage of population enrolled in public college or graduate school.\nFor the same level of the percentage of population 45 to 64 years without Bachelor’s degree, a level of educational attainment of female population 45 to 64 years may be associated with a higher level of public college enrollment than that of male population 45 to 64 years.\nGiven the same level of the percentage of population enrolled in public college or graduate school, male population 45 to 64 years without bachelor’s degree tends to be higher than female population 45 to 64 years without bachelor’s degree.\n\n\n\nThe following ggplot describes the relationship between private college enrollment and educational attainment of male/female populations 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon) +\n  geom_point(aes(x = 100 - d03_024, y = c06_010),\n             color = 'blue')  +\n  geom_point(aes(x = 100 - d05_024, y = c06_010),\n             color = 'red')  +\n  geom_smooth(aes(x = 100 - d03_024, y = c06_010),\n              color = 'blue',  \n              method = lm)  +\n  geom_smooth(aes(x = 100 - d05_024, y = c06_010),\n              color = 'red',\n              method = lm) \n\n\n\n\n\n\n\n\nRegardless of a gender of population 45 to 64 years, the percentage of population 45 to 64 years without Bachelor’s degree is negatively associated with the percentage of population enrolled in private college or graduate school.\nGiven the same level of the percentage of population enrolled in private college or graduate school, male population 45 to 64 years without bachelor’s degree tends to be higher than female population 45 to 64 years without bachelor’s degree."
  },
  {
    "objectID": "ex/danl200-cw-5.html#q2d",
    "href": "ex/danl200-cw-5.html#q2d",
    "title": "Fall 2022, DANL 200: Introduction to Data AnalyticsHomework Assignment 1",
    "section": "Q2d",
    "text": "Q2d\nProvide both (1) ggplot codes and (2) a couple of sentences to describe how the relationships described in Q3b vary by gender of college enrollment.\nAnswer:\n\nTo represent a level of male college enrollment of population in a county, I choose variable, c02_011, a percent of male population enrolled in college or graduate school.\nTo represent a level of female college enrollment of population in a county, I choose variable, c02_012, a percent of female population enrolled in college or graduate school.\nThe following ggplot describes the relationship between male/female college enrollment and educational attainment of populations 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon) +\n  geom_point(aes(x = 100-d01_024, y = c02_011), \n             color = 'blue')  +\n  geom_point(aes(x = 100-d01_024, y = c02_012), \n             color = 'red')  +\n  geom_smooth(aes(x = 100-d01_024, y = c02_011), \n              color = 'blue',\n              method = lm) +\n  geom_smooth(aes(x = 100-d01_024, y = c02_012), \n              color = 'red',\n              method = lm) \n\n\n\n\n\n\n\n\nRegardless of a gender of college enrollment, the percentage of population 45 to 64 years without Bachelor’s degree is negatively associated with the percentage of population enrolled in college or graduate school.\nFor the same level of the percentage of population 45 to 64 years without Bachelor’s degree, a level of educational attainment of population 45 to 64 years may be associated with a higher level of female college enrollment than that of male college enrollment.\nGiven the same level of the percentage of population 45 to 64 years without bachelor’s degree, male population enrolled in college or graduate schools tends to be lower than female population enrolled in college or graduate schools.\n\n\n\nTo represent a level of male public college enrollment of population in a county, I choose variable, c04_011, a percent of male population enrolled in public college or graduate school.\nTo represent a level of female public college enrollment of population in a county, I choose variable, c04_012, a percent of female population enrolled in public college or graduate school.\nThe following ggplot describes the relationship between male/female public college enrollment and educational attainment of populations 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon) +\n  geom_point(aes(x = 100-d01_024, y = c04_011), \n             color = 'blue')  +\n  geom_point(aes(x = 100-d01_024, y = c04_012), \n             color = 'red')  +\n  geom_smooth(aes(x = 100-d01_024, y = c04_011), \n              color = 'blue',\n              method = lm) +\n  geom_smooth(aes(x = 100-d01_024, y = c04_012), \n              color = 'red',\n              method = lm) \n\n\n\n\n\n\n\n\nTo represent a level of male private college enrollment of population in a county, I choose variable, c06_011, a percent of male population enrolled in private college or graduate school.\nTo represent a level of female private college enrollment of population in a county, I choose variable, c06_012, a percent of female population enrolled in private college or graduate school.\nThe following ggplot describes the relationship between male/female public college enrollment and educational attainment of populations 45 to 64 years:\n\n\n\nCode\nggplot(NY_school_enrollment_socioecon) +\n  geom_point(aes(x = 100-d01_024, y = c06_011), \n             color = 'blue')  +\n  geom_point(aes(x = 100-d01_024, y = c06_012), \n             color = 'red')  +\n  geom_smooth(aes(x = 100-d01_024, y = c06_011), \n              color = 'blue',\n              method = lm) +\n  geom_smooth(aes(x = 100-d01_024, y = c06_012), \n              color = 'red',\n              method = lm) \n\n\n\n\n\n\n\n\nRegardless of a gender of college enrollment, the percentage of population 45 to 64 years without Bachelor’s degree is positively associated with the percentage of population enrolled in public college or graduate school.\nRegardless of a gender of college enrollment, the percentage of population 45 to 64 years without Bachelor’s degree is negatively associated with the percentage of population enrolled in private college or graduate school."
  },
  {
    "objectID": "ex/danl200-cw-7.html",
    "href": "ex/danl200-cw-7.html",
    "title": "DANL 200: Classwork 7 - summarize and group oeprations",
    "section": "",
    "text": "Describe the relationship between a plane’s flight frequency and a plane’s arrival delay time.\n\n\n\n\n\n\nLook at the number of cancelled flights per day. Is there a pattern? Is the proportion of cancelled flights related to the average delay?\n\n\n\n\n\n\nWhich carrier has the worst delays? Challenge: can you disentangle the effects of bad airports vs. bad carriers? Why/why not?"
  },
  {
    "objectID": "ex/danl200-cw-7.html#q2a.",
    "href": "ex/danl200-cw-7.html#q2a.",
    "title": "DANL 200: Classwork 7 - summarize and group oeprations",
    "section": "Q2a.",
    "text": "Q2a.\n\nWhich plane (tailnum) has the worst on-time record?"
  },
  {
    "objectID": "ex/danl200-cw-7.html#q2b.",
    "href": "ex/danl200-cw-7.html#q2b.",
    "title": "DANL 200: Classwork 7 - summarize and group oeprations",
    "section": "Q2b.",
    "text": "Q2b.\n\nWhat time of day should you fly if you want to avoid delays as much as possible?"
  },
  {
    "objectID": "ex/danl200-cw-7.html#q2c.",
    "href": "ex/danl200-cw-7.html#q2c.",
    "title": "DANL 200: Classwork 7 - summarize and group oeprations",
    "section": "Q2c.",
    "text": "Q2c.\n\nFor each destination, compute the total minutes of delay. For each flight, compute the proportion of the total delay for its destination."
  },
  {
    "objectID": "ex/danl200-cw-7.html#q2d.",
    "href": "ex/danl200-cw-7.html#q2d.",
    "title": "DANL 200: Classwork 7 - summarize and group oeprations",
    "section": "Q2d.",
    "text": "Q2d.\n\nDelays are typically temporally correlated: even once the problem that caused the initial delay has been resolved, later flights are delayed to allow earlier flights to leave.\nUsing lag(), explore how the delay of a flight is related to the delay of the immediately preceding flight."
  },
  {
    "objectID": "ex/danl200-cw-7.html#q2e.",
    "href": "ex/danl200-cw-7.html#q2e.",
    "title": "DANL 200: Classwork 7 - summarize and group oeprations",
    "section": "Q2e.",
    "text": "Q2e.\n\nLook at each destination. Can you find flights that are suspiciously fast? (i.e. flights that represent a potential data entry error).\nCompute the air time of a flight relative to the shortest flight to that destination. Which flights were most delayed in the air?"
  },
  {
    "objectID": "ex/danl200-cw-7.html#q2f.",
    "href": "ex/danl200-cw-7.html#q2f.",
    "title": "DANL 200: Classwork 7 - summarize and group oeprations",
    "section": "Q2f.",
    "text": "Q2f.\n\nFind all destinations that are flown by at least two carriers. Use that information to rank the carriers."
  },
  {
    "objectID": "ex/danl200-cw-7.html#q2g.",
    "href": "ex/danl200-cw-7.html#q2g.",
    "title": "DANL 200: Classwork 7 - summarize and group oeprations",
    "section": "Q2g.",
    "text": "Q2g.\n\nFor each plane, count the number of flights before the first delay of greater than 1 hour."
  },
  {
    "objectID": "ex/danl-399-midterm.html",
    "href": "ex/danl-399-midterm.html",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "",
    "text": "library(knitr)\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(socviz)\nlibrary(ggthemes)\nlibrary(ggrepel)\nlibrary(ggtext)\nlibrary(hrbrthemes)\nlibrary(gapminder)\nlibrary(stargazer)\nlibrary(broom)"
  },
  {
    "objectID": "ex/danl-399-midterm.html#q1a",
    "href": "ex/danl-399-midterm.html#q1a",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q1a",
    "text": "Q1a\n\nReplicate the following ggplot.\n\nUse the color #0072B2 for dots.\n\n\n\n# Set the data and filter to include only observations from 2007 and exclude Oceania\nggplot(data = filter(gapminder, year == 2007,\n                     continent != 'Oceania'),\n\n       # Set the aesthetics (x-axis and y-axis) to life expectancy and reorder countries by life expectancy\n       aes(x = lifeExp,\n           y = fct_reorder(country, lifeExp))) +\n\n  # Add a layer of points to the plot, setting the color to blue and size to 1.75\n  geom_point(color = \"#0072B2\", size = 1.75) +\n\n  # Add a layer of text labels to the plot, setting the label to life expectancy, hjust to -.25, and size to 2\n  geom_text(aes(label = lifeExp), hjust = -.25,\n            size = 2) +\n\n  # Facet the plot by continent, with y-scales free\n  facet_wrap(.~continent, scales = \"free_y\") +\n\n  # Set the x-axis label to NULL (no name) and limit the x-axis to 35-90\n  scale_x_continuous(\n    name = NULL,\n    lim = c(35, 90)\n  ) +\n\n  # Set the y-axis label to NULL (no name)\n  scale_y_discrete(name = NULL) +\n\n  # Add a title to the plot\n  labs(title = 'Life expectancy in 2007') +\n\n  # Set the theme to minimal\n  theme_minimal() +\n\n  # Customize theme elements: set the y-axis text size, the plot title size and position, and the facet strip text size and font face\n  theme(\n    axis.text.y = element_text(size = rel(.75)),\n    plot.title = element_text(size = rel(1.5),\n                              hjust = 0.5,\n                              face = 'bold'),\n    strip.text = element_text(size = rel(1.25),\n                              face = 'bold')\n  )"
  },
  {
    "objectID": "ex/danl-399-midterm.html#q1b",
    "href": "ex/danl-399-midterm.html#q1b",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q1b",
    "text": "Q1b\n\nMake a simple comment on the visualization result.\n\nAny comment that is not made up is okay."
  },
  {
    "objectID": "ex/danl-399-midterm.html#q2a",
    "href": "ex/danl-399-midterm.html#q2a",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q2a",
    "text": "Q2a\n\nReplicate the following ggplot.\n\nThe following describes the type values:\n\nn_ot_us: Number of US tweets\nn_ot_wrld: Number of worldwide tweets\nn_rt_lk_us: Number of US retweets & likes\nn_rt_lk_wrld: Number of worldwide retweets & likes\n\nUse the colors, maroon and #428bca properly.\n\n\n\n# The following line filters the rows of the n_tweets_long data frame that have a value of \"n_ot_us\" or \"n_ot_wrld\" in the \"type\" column. \n# It then creates a new column called \"type\" that replaces \"n_ot_us\" with \"US\" and \"n_ot_wrld\" with \"Worldwide\".\nn_tweets_long1 <- n_tweets_long %>% \n  filter(type %in% c(\"n_ot_us\", \"n_ot_wrld\") ) %>% \n  mutate(type = ifelse(type == \"n_ot_us\", \"US\", \"Worldwide\"))\n\n\n# The following line filters the rows of the n_tweets_long data frame that have a value of \"n_rt_lk_us\" or \"n_rt_lk_wrld\" in the \"type\" column. \n# It then creates a new column called \"type\" that replaces \"n_rt_lk_us\" with \"US\" and \"n_rt_lk_wrld\" with \"Worldwide\".\nn_tweets_long2 <- n_tweets_long %>% \n  filter(type %in% c(\"n_rt_lk_us\", \"n_rt_lk_wrld\") ) %>% \n  mutate(type = ifelse(type == \"n_rt_lk_us\", \"US\", \"Worldwide\"))\n  \n\n\np2 <- ggplot(mapping = aes(x = year, y = n)) +  # Create a ggplot object with the mapping of the x-axis to the \"year\" variable and y-axis to the \"n\" variable\n  geom_col(n_tweets_long1,  # Add a column chart layer with the \"n_tweets_long1\" data\n           mapping = aes(fill = type),  # Map the \"type\" variable to the fill aesthetic of the chart\n           position = 'dodge', alpha = .67) +  # Set the position of the columns to \"dodge\" and the transparency to 0.67\n  geom_line(n_tweets_long2,  # Add a line chart layer with the \"n_tweets_long2\" data\n            mapping = aes(color = type),  # Map the \"type\" variable to the color aesthetic of the chart\n            size = 1.5) +  # Set the line size to 1.5\n  geom_point(data = n_tweets_long2,  # Add a point chart layer with the \"n_tweets_long2\" data\n             size = 2,  # Set the point size to 2\n             color = 'black')  +  # Set the point color to black\n  scale_x_continuous(breaks = seq(2012, 2017, 1)) +  # Set the x-axis breaks to the sequence from 2012 to 2017 with an interval of 1\n  scale_y_continuous(label = scales::comma) +  # Format the y-axis labels using the comma function from the scales package\n  scale_color_manual(values = c('maroon', '#428bca')) +  # Manually set the color values for the color aesthetic\n  scale_fill_manual(values = c('maroon', '#428bca')) +   # Manually set the color values for the fill aesthetic\n  guides(fill = guide_legend(reverse = TRUE,  # Customize the fill legend guide by reversing the order of the legend, positioning the labels at the bottom, and setting the number of rows to 2 and the key width to 2\n                             # title.position = \"top\",\n                             label.position = \"bottom\",\n                             keywidth = 2,\n                             nrow = 2,\n                             order = 1),\n         color = guide_legend(reverse = TRUE,  # Customize the color legend guide by reversing the order of the legend, positioning the labels at the bottom, and setting the number of rows to 2 and the key width to 2\n                             # title.position = \"top\",\n                             label.position = \"bottom\",\n                             keywidth = 2,\n                             nrow = 2,\n                             order = 2)) +\n  labs(x = \"Year\",  # Add x-axis label \"Year\"\n       y = \"Number of Tweets, Retweets & Likes\\n (in thousand)\",  # Add y-axis label \"Number of Tweets, Retweets & Likes (in thousand)\"\n       fill = \"Tweets\",  # Add fill legend label \"Tweets\"\n       color = \"Retweets and likes\",  # Add color legend label \"Retweets and likes\"\n       caption = 'Source: Choe, \"Social Media Campaigns, Lobbying, and Climate Change Legislation:\\n Evidence from #climatechange/#globalwarming and Energy Lobbies\" (2023)') +  # Add caption with source information\n  theme_ipsum() +  # Use the 'theme_ipsum' theme from the 'ggthemes' package\n  theme(\n  axis.title.y = element_text(\n    size = rel(1.5),\n    margin = margin(t = 0, r = 20, b = 0, l = 0) # set the margin for the y axis title\n  ),\n  axis.title.x = element_text(\n    size = rel(1.5),\n    margin = margin(t = 10, r = 0, b = 0, l = 0) # set the margin for the x axis title\n  ),\n  axis.text.x = element_text(\n    size = rel(1.25) # set the font size for the x axis tick labels\n  ),\n  axis.text.y = element_text(\n    size = rel(1.25) # set the font size for the y axis tick labels\n  ),\n  legend.position = 'top', # set the position of the legend\n  legend.title = element_text(\n    size = rel(1),\n    face = 'bold',\n    hjust = .5 # set the font size, face and horizontal justification for the legend title\n  ),\n  legend.text = element_text(\n    size = rel(1) # set the font size for the legend text\n  ),\n  legend.spacing.x = unit(1.25, \"cm\"), # set the horizontal spacing between legend items\n  plot.caption = element_text(\n    size = rel(1.25),\n    hjust = .5 # set the font size and horizontal justification for the plot caption\n  )\n)\n\n\np2"
  },
  {
    "objectID": "ex/danl-399-midterm.html#q2b.",
    "href": "ex/danl-399-midterm.html#q2b.",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q2b.",
    "text": "Q2b.\n\nMake a simple comment on the visualization result."
  },
  {
    "objectID": "ex/danl-399-midterm.html#q3a",
    "href": "ex/danl-399-midterm.html#q3a",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q3a",
    "text": "Q3a\n\nReplicate the following ggplot.\n\n\nggplot(data = electricity,\n       aes(x = year, y = value)) + \n  geom_line(aes(color = energy),\n            linewidth = 1.25) +\n  geom_hline(yintercept = 0) +  \n  geom_vline(xintercept = min(electricity$year)) +\n  facet_wrap(.~ iso3c, \n             labeller = as_labeller(c('CHN' = \"China\",\n                                      \"USA\" = \"United States\"))) +\n  scale_y_comma() +\n  scale_color_viridis_d(option = \"C\") +\n  guides(color = guide_legend(label.position = \"bottom\",\n                             keywidth = 3,\n                             nrow = 1)) +\n  labs(x = \"Year\", y = \"Electricity\\nGeneration\\n(TWh)\",\n       color = \"Energy\") +\n  hrbrthemes::theme_ipsum() +\n  theme(axis.title.y = element_text(size = rel(1.25),\n                                    angle = 0),\n        axis.title.x = element_text(size = rel(1.25),\n                                    angle = 0),\n        strip.background = element_rect(fill = 'grey90',\n                                        colour = NA),\n        legend.position = 'top')"
  },
  {
    "objectID": "ex/danl-399-midterm.html#q3b",
    "href": "ex/danl-399-midterm.html#q3b",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q3b",
    "text": "Q3b\n\nReplicate the following ggplot.\n\n\nelectricity2 <- electricity %>% \n  group_by(iso3c, year) %>% \n  mutate(tot = sum(value),\n         prop = value / tot)\n\n\nggplot(data = electricity2,\n       aes(x = year, y = prop)) + \n  geom_line(aes(color = energy),\n            linewidth = 1.25) +\n  geom_hline(yintercept = 0) +  \n  geom_vline(xintercept = min(electricity$year)) +\n  facet_wrap(.~ iso3c, \n             labeller = as_labeller(c('CHN' = \"China\",\n                                      \"USA\" = \"United States\"))) +\n  scale_y_percent() +\n  scale_color_viridis_d(option = \"D\") +\n  guides(color = guide_legend(label.position = \"bottom\",\n                              keywidth = 3,\n                              nrow = 1)) +\n  labs(x = \"Year\", y = \"Percentage of\\nElectricity\\nGeneration\\n(TWh)\",\n       color = \"Energy\") +\n  hrbrthemes::theme_ipsum() +\n  theme(axis.title.y = element_text(size = rel(1.25),\n                                    angle = 0),\n        axis.title.x = element_text(size = rel(1.25),\n                                    angle = 0),\n        strip.background = element_rect(fill = 'grey90',\n                                        colour = NA),\n        legend.position = 'top')"
  },
  {
    "objectID": "ex/danl-399-midterm.html#variable-description",
    "href": "ex/danl-399-midterm.html#variable-description",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Variable description",
    "text": "Variable description\n\nProduct_Name: Product Name\nSize: Size of drink (short, tall, grande, venti)\nMilk: Milk Type type of milk used\n\n0 none\n1 nonfat\n2 2%\n3 soy\n4 coconut\n5 whole\n\nWhip: Whip added or not (binary 0/1)\nServ_Size_mL: Serving size in ml\nCalories: KCal\nTotal_Fat_g: Total fat grams\nSaturated_Fat_g: Saturated fat grams\nTrans_Fat_g: Trans fat grams\nCholesterol_mg: Cholesterol mg\nSodium_mg: Sodium milligrams\nTotal_Carbs_g: Total Carbs grams\nFiber_g: Fiber grams\nSugar_g: Sugar grams\nCaffeine_mg: Caffeine in milligrams"
  },
  {
    "objectID": "ex/danl-399-midterm.html#q4a.",
    "href": "ex/danl-399-midterm.html#q4a.",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q4a.",
    "text": "Q4a.\n\nAdd the following two variables to starbucks data.frame\n\ncaffeine_mgml: Caffeine in milligrams per mL\ncalories_kcml: Calories KCal per mL\n\n\n\nstarbucks1 <- starbucks |> \n  mutate(caffeine_mgml = caffeine_mg / serv_size_m_l,\n         calories_kcml = calories/ serv_size_m_l,\n         .before = 1) %>% \n  select(product_name, size, serv_size_m_l, milk, whip, caffeine_mgml, calories_kcml)"
  },
  {
    "objectID": "ex/danl-399-midterm.html#q4b.",
    "href": "ex/danl-399-midterm.html#q4b.",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q4b.",
    "text": "Q4b.\n\nCalculate a mean caffeine_mgml and a mean calories_kcml for each product_name.\n\n\nstarbucks2 <- starbucks1 %>% \n  group_by(product_name) %>% \n  summarise(caffeine_mgml = mean(caffeine_mgml, na.rm = T),\n            calories_kcml = mean(calories_kcml, na.rm = T)\n  ) %>% \n  mutate(rank_caffeine = dense_rank(-caffeine_mgml),\n         rank_calories = dense_rank(-calories_kcml)) %>% \n  filter(rank_caffeine <= 10 |rank_calories <= 10 )"
  },
  {
    "objectID": "ex/danl-399-midterm.html#q4c.",
    "href": "ex/danl-399-midterm.html#q4c.",
    "title": "DANL 399: Data Visualization and Presentation Midterm Exam",
    "section": "Q4c.",
    "text": "Q4c.\n\nFor the top 10 product_name in terms of caffeine_mgml and the top 10 product_name in terms of calories_kcml, replicate the following ggplot.\nUse the following commands for showing texts in the plot:\n\n\n# install.packages(\"showtext\")\nlibrary(showtext)\nshowtext_auto()\nfont_add_google(\"Annie Use Your Telescope\", \"annie\")\n\n\nUse the following annotate() geom to insert the starbucks image in the plot:\n\n\nannotate(\"richtext\", \n           x =  , \n           y =  , \n           label = \"<img src='https://bcdanl.github.io/ex/starbucks.png' width='100'/>\", \n           fill =  ,\n           size =  , \n           color =  )\n\n\nUse the following geom_text_repel() geom to use the annie font\n\n\ngeom_text_repel(max.overlaps = ,\n                  size =  ,\n                  min.segment.length =  ,\n                  point.padding =  ,\n                  box.padding =  ,\n                  show.legend =  ,\n                  family = \"annie\")\n\n\nUse the color, #00704A, for the title.\n\n\nstarbucks_caffeine <- starbucks2 %>% filter(rank_caffeine <= 10)\nstarbucks_calories <- starbucks2 %>% filter(rank_calories <= 10)\n\n\nstarbucks2 %>% \n  ggplot(aes(x = calories_kcml, y = caffeine_mgml, \n             color = product_name, label = product_name)) +\n  geom_point(show.legend = FALSE) +\n  geom_rect(aes(xmin = min(starbucks_caffeine$calories_kcml), xmax = max(starbucks_caffeine$calories_kcml), \n                ymin = min(starbucks_caffeine$caffeine_mgml), ymax = max(starbucks_caffeine$caffeine_mgml)),\n            fill = \"#27251F\", \n            alpha = 0.004, color = NA)+\n  geom_rect(aes(xmin = min(starbucks_calories$calories_kcml), xmax = max(starbucks_calories$calories_kcml), \n                ymin = min(starbucks_calories$caffeine_mgml), ymax = max(starbucks_calories$caffeine_mgml)),\n            fill = \"#27251F\", \n            alpha = 0.004, color = NA)+\n  geom_text_repel(max.overlaps = 6,\n                  size = 4,\n                  min.segment.length = 0.1,\n                  point.padding = 0.4,\n                  box.padding = 0.5,\n                  show.legend = FALSE,\n                  family = \"annie\") +\n  annotate(\"richtext\", \n           x = quantile(starbucks2$calories_kcml, probs = .75), \n           y = quantile(starbucks2$caffeine_mgml, probs = .75), \n           label = \"<img src='https://bcdanl.github.io/ex/starbucks.png' width='100'/>\", \n           fill = NA,\n           size = rel(2.25), \n           color = NA) +\n  scale_x_continuous(breaks = seq(0, 1, .2)) +\n  scale_y_continuous(breaks = seq(0, 1, .2)) +\n  labs(y = expression(paste(\"Caffeine (mg mL\"^\"-1\",\")\")), \n       x = expression(paste(\"Calories (Kcal mL\"^\"-1\",\")\")),\n       caption = \"Source: Starbucks Coffee Company Beverage Nutrition Information\",\n       title = \"STARBUCKS DRINKS\",\n       subtitle = \"Caffeine or Calories, which one you would go?\") +\n  theme_ipsum() +\n  theme(plot.title = element_text(color = \"#00704A\",\n                                  face = 'bold',\n                                  size = rel(2.5)),\n        plot.subtitle = element_text(face = 'bold',\n                                  size = rel(1.75)),\n        axis.title.x = element_text(face = 'bold',\n                                  size = rel(1.25)),\n        axis.title.y = element_text(face = 'bold',\n                                  size = rel(1.25)))"
  },
  {
    "objectID": "ex/econ340-cw-6.html",
    "href": "ex/econ340-cw-6.html",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "",
    "text": "Redo Q1a-Q1d in Homework Assignment 1 under the safety standard with the constant weight \\(\\omega > 1\\).\n\nThat is, the Social Planner uses the following social welfare function, \\(SW\\):\n\n\n\\[\nSW = U_{1}(x_{1},\\, h) + U_{2}(x_{2},\\, \\omega \\times h).\n\\] Answer:\n\n\n\nUnder the safety standard, what is the socially optimal level of \\(h^{os}\\)?\n\nAnswer:\nThe social welfare function is \\[\n\\begin{align}\nSW &= U_{1}(x_{1}, h) + U_{2}(x_{2}, \\omega h)\\\\\n&= x_{1} + x_{2} + h(4-h) - \\omega^{2}h^{2}.\n\\end{align}\n\\] \nTo derive the socially optimal level of \\(h^{os}\\), we should consider the Social Planner’s problem. In Classwork 4, we discussed what the Social Planner does:\n\nSocial planner maximizes social welfare subject to resource constraint.\n\nThe Social Planner’s problem refers to a scenario where a central authority (the Social Planner) seeks to allocate resources in a way that maximizes social welfare, subject to available resources, which is described by the resource constraint.\nThe optimal allocation of resources obtained from the Social Planner’s problem plays an important role in making public policy work. It is a benchmark that the government wants to achieve by implementing public policy.\n\nThe socially optimal level of \\(h^{os}\\) alongside the socially optimal levels of \\(x_{1}^{os}\\) and \\(x_{2}^{os}\\) maximizes \\(SW^{os} = SW(x_{1}^{os},x_{2}^{os},h^{os})\\).\nThe Social Planner solves problem (SP-1) subject to resource constraint (RC):\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}, h} \\;&SW = x_{1} + x_{2} + h(4-h) - \\omega^{2} h^{2}\\tag{SP-1}\\\\\n\\text{subject to}\\quad &Y_{1} + Y_{2} = x_{1} + x_{2}\\tag{RC}\n\\end{align}\n\\]\nSubstituting \\(x_{1} + x_{2}\\) in the \\(SW\\) using (RC) gives:\n\\[\n\\begin{align}\n\\max_{h} \\;SW &= Y_{1} + Y_{2} + h(4-h) - \\omega^{2}h^{2}\\tag{SP-2}\n\\end{align}\n\\]\nfirst-order condition for problem (SP-2) is\n\\[\n\\frac{d SW}{d h} = 4 - 2h - 2\\omega^{2}h = 0\n\\] Therefore, \\(h^{os} = \\frac{2}{1+\\omega^{2}}\\) and \\(\\{(x_{1}^{os}, x_{2}^{os}): Y_{1} + Y_{2} = x_{1}^{os} + x_{2}^{os}\\}\\).\n\n\nPlot graphs in \\((h, \\$)\\) space, both total and average/marginal, to illustrate the solution.\n\nAnswer:\n\nFor drawing graphs, let \\(\\omega = 2\\) without loss of generality.\nDividing \\(SW(h)\\) into benefit ( \\(B(h) = h(4-h)\\) ) and cost ( \\(C(h) = \\omega^{2} h^{2}\\) ) is useful:\n\n\\[\nSW(h) = B(h) - C(h).\n\\] Here we disregard numeraire goods and incomes.\n\n\n\n\n\n\n\n\n\n\n\nAt \\(h = h^{os} = 0.4\\), where \\(MB(h^{os}) = MC(h^{os})\\), \\(SW(h^{os})\\) is maximized.\n\n\n\n\n\nDerive the market level \\(h^{*}\\) of the activity that results if choosing it is left up to consumer 1, and show that this level differs from \\(h^{os}\\).\n\nAnswer:\nSame as Q1b in HW 1.\n\n\nAdd \\(h^{*}\\) to your graphs.\n\nAnswer:\n\n\n\n\n\n\n\n\n\n\n\n\nSuppose now that the government intervenes in the situation by imposing a tax on \\(h\\).\n\nHere is what happens with the tax revenue:\n\nGovernment forces consumer 1 to pay a per-unit tax \\(t\\) on \\(h\\), and to distribute the tax revenue \\(th\\) in some “lump-sum” fashion across both consumers, giving \\(L_{1}\\) to consumer 1 and \\(L_{2}\\) to consumer 2.\n\nDerive the optimal level of the tax—the level that will induce consumer 1 to choose \\(h^{os}\\) rather than \\(h^{*}\\).\n\nAssume that the government anticipates consumer 1’s response to the tax.\n\n\nAnswer:\nWhen designing an optimal tax scheme to maximize the social welfare, government should anticipate how consumers would respond to tax. This consumer’s behavior is characterized by the first-order conditions in consumers’ utility maximization problems. To derive the optimal level of the tax, we therefore should consider each consumer’s maximization problem before determining the optimal tax.\n\nGiven tax \\(t\\) and lump-sum windfall \\(L_{1}\\), consumer 1 solves problem (C-1-cons-t) subject to budget constraint (BC-1-t):\n\\[\n\\begin{align}\n\\max_{x_{1}, h} \\;&U_{1} = x_{1} + h(4-h) \\tag{C-1-cons-t}\\\\\n\\text{subject to} \\quad &Y_{1} + L_{1} = x_{1} + th \\tag{BC-1-t}\n\\end{align}\n\\]\nSubstituting \\(x_{1}\\) in the \\(U_{1}\\) using (BC-1-t) gives:\n\\[\n\\begin{align}\n\\max_{h} \\;U_{1} &= Y_{1} + L_{1} - th + h(4-h) \\tag{C-1-uncons-t}\n\\end{align}\n\\]\nFirst-order condition for problem (C-1-uncons-t) is\n\\[\n\\frac{d U_{1}}{d h} = 4 - 2h - t = 0\\tag{FOC-C-1-h-t}\n\\] Therefore, \\(h^{**} = 2 - \\frac{t}{2}\\) and \\(x_{1}^{**} = Y_{1} + L_{1} - t(2 - \\frac{t}{2})\\).\n\nGiven lump-sum windfall \\(L_{2}\\), consumer 2 solves problem (C-2-cons-t) subject to budget constraint (BC-2-t):\n\\[\n\\begin{align}\n\\max_{x_{2}} \\;&U_{2} =  x_{2} - h^{2} \\tag{C-2-cons-t}\\\\\n\\text{subject to}\\quad &Y_{2} + L_{2} = x_{2} \\tag{BC-2-t}\n\\end{align}\n\\]\nSubstituting \\(x_{2}\\) in the \\(U_{2}\\) using (BC-2-t) gives \\(x_{2}^{**} = Y_{2} + L_{2}\\)\n\nTaking into account how consumer 1 and consumer 2 behave, government solves problem (G-t) subject to government’s budget constraint (BC-G-t):\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}, h, t, L_{1}, L_{2}} \\;&SW = x_{1} + x_{2} + h(4-h) - \\omega^{2}h^{2}\\tag{G-t}\\\\\n\\text{subject to}\\quad &Y_{1} + L_{1} = x_{1} + t h\\tag{BC-1-t}\\\\\n&Y_{2} + L_{2} = x_{2} \\tag{BC-2-t}\\\\\n&L_{1} + L_{2} = th \\tag{BC-G-t}\\\\\n&\\!\\!\\!\\!\\!\\!4 - 2h - t = 0\\tag{FOC-C-1-h-t}\n\\end{align}\n\\] Substituting in (BC-1-t) and (BC-2-t) to eliminate \\(x_{1}\\) and \\(x_{2}\\) simplifies the problem (G-t) to\n\\[\n\\begin{align}\n\\max_{h, t, L_{1}, L_{2}} \\;&SW = Y_{1} + Y_{2} + L_{1} + L_{2} - th\\\\&\\qquad\\quad + h(4-h) - \\omega^{2}h^{2}\\tag{G-t-v2}\\\\\n\\text{subject to}\\quad &L_{1} + L_{2} = th \\tag{BC-G-t}\\\\\n&\\!\\!\\!\\!\\!\\!4 - 2h - t = 0\\tag{FOC-C-1-h-t}\n\\end{align}\n\\]\nSubstituting in (BC-G-t) to eliminate \\(L_{1}\\) and \\(L_{2}\\) simplifies the problem (G-t-v2) to\n\\[\n\\begin{align}\n\\max_{h, t} \\;&SW = Y_{1} + Y_{2} + h(4-h) - \\omega^{2}h^{2}\\tag{G-t-v3}\\\\\n\\text{subject to}\\quad &4 - 2h - t = 0\\tag{FOC-C-1-h-t}\n\\end{align}\n\\]\nLagrangian function for problem (G-t-v3) is\n\\[\n\\mathcal{L} = Y_{1} + Y_{2} + h(4-h) - \\omega^{2}h^{2} -\\lambda(4 - 2h - t)\\tag{G-t-L}\n\\] First-order conditions for problem (G-t-L) are\n\\[\n\\begin{align}\n\\frac{d \\mathcal{L}}{d h} &= 4 - 2h - 2\\omega^{2}h + 2\\lambda  = 0 \\tag{FOC-G-h}\\\\\n\\frac{d \\mathcal{L}}{d t} &= \\lambda = 0 \\tag{FOC-G-t}\\\\\n\\frac{d \\mathcal{L}}{d \\lambda} &= 4 - 2h - t = 0 \\tag{FOC-G-$\\lambda$}\\\\\n\\end{align}\n\\]\nTherefore, \\(h^{**} = \\frac{2}{1+\\omega^{2}} = h^{os}\\) and \\(t^{**} = \\frac{4\\omega^{2}}{1+\\omega^{2}}\\). Accordingly, \\(x_{1}^{**} = Y_{1} + L_{1}^{**} - t^{**}h^{*os**}\\) and \\(x_{2}^{**} = Y_{2} + L_{2}^{**}\\).\n\n\nModify both your graphs from question Q1b to show the effects of the tax.\n\nAnswer:\n\n\n\n\n\n\n\n\n\nAt \\(h = h^{**} = 1 = h^{os}\\), where \\(MB(h^{**}) - t^{**}h^{**} = 0\\), consumer 1’s benefit with tax payment \\(B(h^{*}) = h^{*}(4-h^{*}) - t^{**}h^{**}\\) is maximized.\n\nWhen \\(h < 1\\), consumer 1 has incentive to increase \\(h\\), as the marginal benefit of \\(h\\) is positive.\nWhen \\(h > 1\\), consumer 1 has incentive to decrease \\(h\\), as the marginal benefit of \\(h\\) is negative.\n\n\n\nAn optimal tax imposed to correct for a negative externality is commonly referred to as a “Pigovian” tax, after the English economist Arthur Pigou (1877-1959). Another common phrase used in this context is that the tax forces consumer 1 to “internalize” the externality she imposes on consumer 2.\n\n\n\n\nSame question as Q1c, but now the government introduces a per-unit subsidy \\(s\\) paid to consumer 1 for every unit by which she reduces \\(h\\) below some level, for example, her optimal level \\(h^{*}\\) without government intervention.\n\nHere is how the government prepares the budget for the total amount of subsidy:\n\nGovernment forces consumers 1 and 2 to pay some amount of “lump-sum” taxes, \\(L_{1}\\) paid by consumer 1 and \\(L_{2}\\) paid by consumer 2, so that the subsidy can be given to consumer 1.\n\nDerive the optimal level of the per-unit subsidy \\(s^{os}\\)—the level that will induce consumer 1 to choose \\(h^{os}\\) rather than \\(h^{*}\\).\n\nAssume that the government anticipates consumer 1’s response to the per-unit subsidy \\(s\\).\n\n\nAnswer:\nConsumer 1 solves problem (C-1-cons-s) subject to budget constraint (BC-1-s):\n\\[\n\\begin{align}\n\\max_{x_{1}, h} \\;&U_{1} = x_{1} + h(4-h) \\tag{C-1-cons-s}\\\\\n\\text{subject to} \\quad &Y_{1} + s(h^{*} - h) - L_{1} = x_{1} \\tag{BC-1-s}\n\\end{align}\n\\]\nSubstituting \\(x_{1}\\) in the \\(U_{1}\\) using (BC-1-s) gives:\n\\[\n\\begin{align}\n\\max_{h} \\;U_{1} &= Y_{1} - L_{1} + s(h^{*} - h) + h(4-h) \\tag{C-1-uncons-s}\n\\end{align}\n\\]\nFirst-order condition for problem (C-1-uncons-s) is\n\\[\n\\frac{d U_{1}}{d h} = 4 - 2h - s = 0\\tag{FOC-C-1-h-s}\n\\] Therefore, \\(h^{***} = 2 - \\frac{s}{2}\\) and \\(x_{1}^{***} = Y_{1} - L_{1} + s(h^{*} - 2 + \\frac{s}{2})\\).\n\nConsumer 2 solves problem (C-2-cons-s) subject to budget constraint (BC-2-s):\n\\[\n\\begin{align}\n\\max_{x_{2}} \\;&U_{2} =  x_{2} - h^{2} \\tag{C-2-cons-s}\\\\\n\\text{subject to}\\quad &Y_{2} - L_{2} = x_{2} \\tag{BC-2-s}\n\\end{align}\n\\]\nSubstituting \\(x_{2}\\) in the \\(U_{2}\\) using (BC-2-s) gives \\(x_{2}^{***} = Y_{2} - L_{2}\\)\nTaking into account how consumer 1 and consumer 2 behave, government solves problem (G-s)\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}, h, s, L_{1}, L_{2}} \\;&SW = x_{1} + x_{2} + h(4-h) - \\omega^{2}h^{2}\\tag{G-t}\\\\\n\\text{subject to}\\quad &Y_{1} - L_{1} + s(h^{*} - h) = x_{1}\\tag{BC-1-s}\\\\\n&Y_{2} - L_{2} = x_{2} \\tag{BC-2-s}\\\\\n&L_{1} + L_{2} = s(h^{*} - h) \\tag{BC-G-s}\\\\\n&\\!\\!\\!\\!\\!\\!4 - 2h - s = 0\\tag{FOC-C-1-h-s}\n\\end{align}\n\\] Substituting in (BC-1-s) and (BC-2-s) to eliminate \\(x_{1}\\) and \\(x_{2}\\) simplifies the problem (G-s) to\n\\[\n\\begin{align}\n\\max_{h, s, L_{1}, L_{2}} \\;&SW = Y_{1} + Y_{2} - L_{1} - L_{2} + s(h^{*} - h)\\\\&\\qquad\\quad  + h(4-h) - \\omega^{2}h^{2}\\tag{G-s-v2}\\\\\n\\text{subject to}\\quad &L_{1} + L_{2} = s(h^{*} - h) \\tag{BC-G-s}\\\\\n&\\!\\!\\!\\!\\!\\!4 - 2h - s = 0\\tag{FOC-C-1-h-s}\n\\end{align}\n\\] Substituting in (BC-G-s) to eliminate \\(L_{1}\\) and \\(L_{2}\\) simplifies the problem (G-s-v2) to\n\\[\n\\begin{align}\n\\max_{h, t} \\;&SW = Y_{1} + Y_{2} + h(4-h) - \\omega^{2}h^{2}\\tag{G-s-v3}\\\\\n\\text{subject to}\\quad &4 - 2h - s = 0\\tag{FOC-C-1-h-s}\n\\end{align}\n\\]\nProblem (G-s-v3) is equivalent to (G-t-v3). Therefore, \\(s^{***} = \\frac{2}{1+\\omega^{2}}\\) and \\(h^{***} = 1 = h^{os}\\). Accordingly, \\(x_{1}^{***} = Y_{1} + s^{***}(h^{*} - h^{***}) - L_{1}^{***}\\) and \\(x_{2}^{***} = Y_{2} - L_{2}^{***}\\).\n\n\n\n\n\n\nSuppose that, instead of a tax or a subsidy, the government introduces a marketable-permit scheme.\n\nIt gives consumer 2 a bunch of pieces of paper called “permits,” each of which states that the holder of the permit has the legal right to “produce” one unit of \\(h\\).\nIt then allows consumer 2 to sell those permits to consumer 1 at some uniform price \\(p_{h}\\).\n\nAssume that each consumer takes the price \\(p_{h}\\) as given.\n\nYou can think of each consumer as “representing” a large number of consumers of the same type.\n\nShow that the scheme will NOT achieve the socially optimal outcome under the safety standard.\n\nAnswer:\nThe example answer for this question is exactly the same as Q1e in HW2. In the permit market equilibrium, the price and the quantity at are \\(p_{h}^{*} = 2\\) and \\(h_{s}^{*} = h_{d}^{*} = h^{o} = 1 \\neq h^{os}\\), NOT achieving the socially optimal outcome under the safety standard \\(h^{os}\\) .\n\n\nWhat government policy can make the permit scheme achieve the socially optimal outcome \\(h\\) under the safety standard?\n\nAnswer:\nGovernment can consider setting the price ceiling below the equilibrium level.\nIt leads to shortages. At the ceiling price, the quantity demanded by consumer 1 (consumers) exceeds the quantity supplied by consumer 2 (producers).\nAt the ceiling price \\(p_{h}^{ceiling}\\), the quantity of permits supplied is \\(h_{s}(p_{h}^{ceiling}) = \\frac{1}{2}p_{h}^{ceiling}\\).\nSetting the ceiling price \\(p_{h}^{ceiling} = \\frac{4}{1+\\omega^{2}}\\) leads to the quantity of permits supplied to be:\n\\[\n\\begin{align}\nh_{s}(p_{h}^{ceiling}) &= \\frac{1}{2}p_{h}^{ceiling}\\\\\n&= \\frac{1}{2}\\frac{4}{1+\\omega^{2}}\\\\\n&= \\frac{2}{1+\\omega^{2}}\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-cw-6.html#q2a.",
    "href": "ex/econ340-cw-6.html#q2a.",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "Q2a.",
    "text": "Q2a.\n\nDraw a diagram showing the marginal costs and marginal benefits of pollution reduction, with the number of cigars reduced on the horizontal axis.\nUse this diagram to determine the efficient number of cigars reduced if machine rental or relocation is not allowed.\n\nAnswer:\nThe efficient level of cigars reduced \\(x^{o}\\) will occur where \\(MC(x^{o}) = MB(x^{o})\\):\n\\[\n\\begin{align}\nMB(x) &= 12 - x\\\\\nMC(x) &= x\n\\end{align}\n\\] Therefore \\(x^{o} = 6\\)."
  },
  {
    "objectID": "ex/econ340-cw-6.html#q2b.",
    "href": "ex/econ340-cw-6.html#q2b.",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "Q2b.",
    "text": "Q2b.\n\nSuppose that the clean-air machine is installed. What is the efficient number of cigars reduced now? [Hint: The marginal benefits of reduction fall to \\(\\$(6 − \\frac{x}{2})\\).]\n\nAnswer:\nThe new MB schedule is MB=6-x/2, \\[\n\\begin{align}\nMB(x) &= 6 - \\frac{x}{2}\\\\\nMC(x) &= x\n\\end{align}\n\\] Therefore \\(x^{o,n} = 4\\)."
  },
  {
    "objectID": "ex/econ340-cw-6.html#q2c.",
    "href": "ex/econ340-cw-6.html#q2c.",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "Q2c.",
    "text": "Q2c.\n\nRecall that Groucho begins by smoking 12 cigars a day. Is it more efficient to rent the machine or relocate Groucho to another room?\n\nAnswer:\nWe know that with machine rental, 4 cigars will be reduced.\nSuppose Groucho has the right to smoke, and so the status quo has him smoking 12 a day. Harpo has three choices:\n\nDo not rent the machine and do not relocate Groucho, but pay Groucho not to smoke.\nRent the machine and then pay Groucho not to smoke.\nPay to relocate Groucho.\n\nWhich would Harpo choose?\nNot renting the machine requires Harpo to compensate Groucho for the MC of reducing cigars: \\(1+2+3+4+5+6= \\$21\\) in costs. Harpo’s benefits are \\(12+11+10+9+8+7=\\$57\\), so net benefits are \\(57-21=\\$36\\).\nMachine rental costs \\(\\$10\\), plus Harpo has to pay Groucho at least his MC of reduction for the first four cigarettes. The costs of machine rental are thus: \\(10+1+2+3+4=\\$20\\). Relative to the status quo of 12 cigars smoked, the benefits of machine rental have two components. First, Harpo gets the full benefits of seeing 4 cigarettes reduced: \\(12+11+10+9=\\$42\\). Second, she gets the 50% improvement in air quality for the remaining 8 cigars that are smoked: \\(4+3.5+3+2.5+2+1.5+1+.5=\\$18\\). So, net benefits are \\(42+18-20= \\$40\\).\nFinally, relocation costs \\(\\$40\\), and brings Harpo the total area under the MB curve in benefits. (Since Groucho can smoke all he wants after relocation, he bears no costs). Therefore, the net benefits to Harpo of paying for relocation are: \\((12+11+10+9+8+7+6+5+4+3+2+1)-40 =\\$38\\).\nTherefore, the efficient choice is the option 2."
  },
  {
    "objectID": "ex/econ340-cw-6.html#q2d.",
    "href": "ex/econ340-cw-6.html#q2d.",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "Q2d.",
    "text": "Q2d.\n\nThis problem has no transaction costs or free riding. The Coase theorem says that, in this kind of simple example, the efficient outcome should be achieved through negotiation even if Harpo has the power to banish Groucho to another office at Groucho’s expense. Explain why.\n\nAnswer:\nRather than be banished, Groucho would rent the machine, then pay Harpo to allow him to stay and smoke 8 cigars. If Groucho rents the machine, he would pay the following costs: \\(\\$10\\) for machine rental, plus \\(1+2+3+4=\\$10\\) in nicotine withdrawals on 4 cigars given up, plus \\(4+3.5+3+2.5+2+1.5+1+.5=\\$18\\) in bribes to Harpo to allow him to smoke \\(8\\) cigarettes. The total is \\(\\$38\\), less than the \\(\\$40\\) required to relocate. So rather than banish Groucho, Harpo could come out ahead by demanding a little more than the \\(\\$18\\) just necessary for him to allow Groucho to smoke his 8 cigars.\nThis again demonstates the Coase theorem: in the absence of transaction costs, efficient outcomes will be achieved regardless of the initial distribution of property rights."
  },
  {
    "objectID": "ex/econ340-cw-6.html#q3a.",
    "href": "ex/econ340-cw-6.html#q3a.",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "Q3a.",
    "text": "Q3a.\nThe sustainability standard says social welfare does not rise if increases in consumption today, on balance, reduce the well-being of future generations below the level enjoyed today."
  },
  {
    "objectID": "ex/econ340-cw-6.html#q3b",
    "href": "ex/econ340-cw-6.html#q3b",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "Q3b",
    "text": "Q3b\nOpen access to common property results in resource use that is inefficient, unsustainable, or both? Both"
  },
  {
    "objectID": "ex/econ340-cw-6.html#q3c",
    "href": "ex/econ340-cw-6.html#q3c",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "Q3c",
    "text": "Q3c\nA Pareto-improving policy is one that actually makes all parties better off."
  },
  {
    "objectID": "ex/econ340-cw-6.html#q3d",
    "href": "ex/econ340-cw-6.html#q3d",
    "title": "ECON 340: Classwork 6 - Mockup Questions",
    "section": "Q3d",
    "text": "Q3d\nAt an efficient level of environmental protection\na. The marginal benefits of reducing pollution exceed the marginal costs by a large margin.\nb. The difference between the total benefits and total costs of pollution reduction are maximized.\nc. The net benefits of pollution reduction are zero.\nd. No one suffers from exposure to pollution.\ne. Social welfare is maximized."
  },
  {
    "objectID": "ex/econ340-cw-7.html",
    "href": "ex/econ340-cw-7.html",
    "title": "ECON 340: Classwork 7 - Economic Modeling",
    "section": "",
    "text": "Below are several key components.\n\nTitle: A clear and concise title that gives an idea of the research topic.\nIntroduction:\n\nBackground: Provide context for the research topic, explaining why it’s significant or relevant.\nStatement of the Problem: Clearly articulate the specific problem or issue the research will address.\n\nObjectives or Research Questions:\n\nList the primary objectives of the study or the main questions you aim to answer.\n\nEconomic Model:\n\n\nSet up the economic problem.\nDo not need to be complete at this stage.\n\n\nEmpirical Analysis (Not necessary):\n\nData Collection: Explain how data will be gathered\nMethodologies: Describe how the data will be analyzed (e.g., linear regression, etc.).\n\nSignificance of the Study:\n\nExplain its implications for real-world applications or environmental policy.\n\nReferences: List all sources cited in the proposal"
  },
  {
    "objectID": "ex/econ340-cw-7.html#key-elements",
    "href": "ex/econ340-cw-7.html#key-elements",
    "title": "ECON 340: Classwork 7 - Economic Modeling",
    "section": "Key Elements",
    "text": "Key Elements\n\nAGENTS\n\nConsumers\nFirms\nGovernment\nSocial Planner\n\nmaximize an OBJECTIVE FUNCTION\n\nUtility\nProfits\nSocial welfare\n\nby choosing DECISION VARIABLES\n\nConsumption levels\nProduction levels\nTaxes, subsidies, regulations\n\nsubject to CONSTRAINTS\n\nFixed budget\nSupply = demand\nOther agents’ behaviors"
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html",
    "href": "ex/danl200-midterm-1-a-v1.html",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "",
    "text": "I solemnly swear that I will not cheat or engage in any form of academic dishonesty during this exam.\nI will not communicate with other students or use unauthorized materials.\nI will uphold the integrity of this exam and demonstrate my own knowledge and abilities.\nBy taking this pledge, I acknowledge that academic dishonesty undermines the academic process and is a violation of the trust placed in me as a student.\nI accept the consequences of any violation of this promise.\n\nStudent’s Name:\nStudent’s ID:\nStudent’s Signature:"
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#variable-description",
    "href": "ex/danl200-midterm-1-a-v1.html#variable-description",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Variable description",
    "text": "Variable description\n\nstate: US state code\n\nE.g., 1 is Alabama; 2 is Alaska; …; 36 is New York; …;56 is Wyoming.\n\ndistrict: Congressional district code\nyear: Year of election ranging from 1948 to 1990\nid: ID for Democrat or Republican candidate in a Election in a year\nscore: Americans for Democratic Action’s (ADA) voting score\n\nFor each Congress, the ADA chooses about twenty high-profile roll-call votes, and creates an index that varies between 0 and 100 for each Representative of the House.\nA higher value of score corresponds to a more “liberal” voting record.\nA lower value of score corresponds to a more “conservative” voting record.\n\ndemvoteshare: Democrat’s share of the vote\ndemocrat:\n\n0: Republican candidate won the current election.\n1: Democrat candidate won the current election.\nA candidate wins if his/her share of the vote is larger than 0.5.\n\nlagdemocrat: Lagged Democratic victory\n\n0: Republican candidate won the previous election (lagged).\n1: Democrat candidate won the previous election (lagged).\n\nlagdemvoteshare: Lagged democratic share of the vote\n\nDemocratic vote share in the previous election (lagged).\n\n\n\n\nThe following is the data.frame, close_elections.\n\n\n\n\n  \n\n\n\n\nShow the code\nnrow(close_elections)\n\n\n[1] 13588\n\n\nShow the code\nncol(close_elections)\n\n\n[1] 9\n\n\n\nThe following is the data.frame, close_elections_mean.\n\n\n\n\n  \n\n\n\n\nShow the code\nnrow(close_elections_mean)\n\n\n[1] 100\n\n\nShow the code\nncol(close_elections_mean)\n\n\n[1] 3"
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#variable-description-1",
    "href": "ex/danl200-midterm-1-a-v1.html#variable-description-1",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Variable description",
    "text": "Variable description\n\nscore: the average ADA score within 0.01 intervals of the Democrat vote share,\n\nThis is calculated using the close_elections data.frame.\n\nlagdemvoteshare: Lagged value of the Democrat share of the vote\nrange_voteshare: Intervals of the Democrat vote share."
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#variable-description-2",
    "href": "ex/danl200-midterm-1-a-v1.html#variable-description-2",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Variable description",
    "text": "Variable description\n\ninst_name: Name of the SUNY college or university\ngeneseo\n\nTRUE if the value of inst_name is Geneseo;\nFALSE otherwise.\n\nyear: Year in which outcomes are measured.\nearnings_med: Median earnings among students (a) who received federal financial aid, (b) who began as undergraduates at the institution ten years prior, (c) with positive yearly earnings.\n\n\n\nThe following is the data.frame, scorecard_SUNY.\n\n\n\n\n  \n\n\n\n\nShow the code\nnrow(scorecard_SUNY)\n\n\n[1] 176\n\n\nShow the code\nncol(scorecard_SUNY)\n\n\n[1] 4\n\n\nShow the code\ntable(scorecard_SUNY$inst_name)\n\n\n\n                                             Albany \n                                                  8 \n                                         Binghamton \n                                                  8 \n                                          Brockport \n                                                  8 \n                                            Buffalo \n                                                  8 \n                                      Buffalo State \n                                                  8 \nCollege of Agriculture and Technology at Cobleskill \n                                                  8 \n      College of Environmental Science and Forestry \n                                                  8 \n                    College of Technology at Alfred \n                                                  8 \n                    College of Technology at Canton \n                                                  8 \n                     College of Technology at Delhi \n                                                  8 \n                                           Cortland \n                                                  8 \n                               Empire State College \n                                                  8 \n                                           Fredonia \n                                                  8 \n                                            Geneseo \n                                                  8 \n                                       Old Westbury \n                                                  8 \n                                            Oneonta \n                                                  8 \n                                             Oswego \n                                                  8 \n                                        Plattsburgh \n                                                  8 \n                              Polytechnic Institute \n                                                  8 \n                                            Potsdam \n                                                  8 \n                                   Purchase College \n                                                  8 \n                                        Stony Brook \n                                                  8 \n\n\nShow the code\ntable(scorecard_SUNY$geneseo)\n\n\n\nFALSE  TRUE \n  168     8 \n\n\nShow the code\ntable(scorecard_SUNY$year)\n\n\n\n2007 2009 2011 2012 2013 2014 2015 2016 \n  22   22   22   22   22   22   22   22"
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#q2a.",
    "href": "ex/danl200-midterm-1-a-v1.html#q2a.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q2a.",
    "text": "Q2a.\n\nProvide ggplot code to replicate the following visualization that describes how the time trend of earnings_med varies by inst_name.\n\n\n\nShow the code\nggplot(data = scorecard_SUNY,\n       mapping = aes(x = year, \n                       y = earnings_med)) +\n  geom_line(mapping = aes(color = geneseo),\n            show.legend = F,\n            linewidth = 3) +\n  geom_point(size = 1.5) +\n  geom_vline(aes(xintercept = 2012), \n             linetype = 3,\n             color = 'red') +\n  facet_wrap(. ~ inst_name, nrow = 5) +\n  theme(strip.text = element_text(size = rel(1)),\n        axis.text.x = element_text(angle = 45,\n                                   size = rel(1)))"
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#q2b.",
    "href": "ex/danl200-midterm-1-a-v1.html#q2b.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q2b.",
    "text": "Q2b.\n\nInterpret the visualization in Q2a."
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#variable-description-3",
    "href": "ex/danl200-midterm-1-a-v1.html#variable-description-3",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Variable description",
    "text": "Variable description\n\nborough: The name of the NYC borough in which the property is located.\nyear: Year the property sold.\nn: The number of the properties sold in a borough in a year.\nsale_price: Average price paid for the properties.\n\n\n\nThe following is the data.frame, sales_df.\n\n\n\n\n  \n\n\n\n\nShow the code\nnrow(sales_df_sum)\n\n\n[1] 90\n\n\nShow the code\nncol(sales_df_sum)\n\n\n[1] 4\n\n\nShow the code\ntable(sales_df_sum$borough)\n\n\n\n        Bronx      Brooklyn     Manhattan        Queens Staten Island \n           18            18            18            18            18"
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#q3a.",
    "href": "ex/danl200-midterm-1-a-v1.html#q3a.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q3a.",
    "text": "Q3a.\n\nProvide ggplot code to replicate the following visualization that describes the yearly trend of n.\n\n\n\nShow the code\nggplot(data = sales_df_sum) +\n  geom_col(aes(x = year, y = n))"
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#q3b.",
    "href": "ex/danl200-midterm-1-a-v1.html#q3b.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q3b.",
    "text": "Q3b.\n\nProvide ggplot code to replicate the following visualization that describes how the yearly trend of sale_price varies by borough.\n\n\n\nShow the code\nggplot(data = sales_df_sum,\n       aes(x = year, y = sale_price)) +\n  geom_bar(aes(fill = borough),\n           stat = \"identity\",\n           show.legend = F) +\n  geom_line() +\n  geom_point() +\n  facet_wrap(borough ~., scales = \"free_y\")"
  },
  {
    "objectID": "ex/danl200-midterm-1-a-v1.html#q3c.",
    "href": "ex/danl200-midterm-1-a-v1.html#q3c.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q3c.",
    "text": "Q3c.\nMake a comment on the visualization in Q3a and Q3b."
  },
  {
    "objectID": "ex/danl200-cw-6.html",
    "href": "ex/danl200-cw-6.html",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "",
    "text": "Find all flights that\n\nHad an arrival delay of two or more hours\nFlew to Houston (IAH or HOU)\nWere operated by United, American, or Delta\nDeparted in summer (July, August, and September)\nArrived more than two hours late, but didn’t leave late\nWere delayed by at least an hour, but made up over 30 minutes in flight\nDeparted between midnight and 6am (inclusive)\n\n\n\n\n\n\n\nHow many flights have a missing dep_time? What other variables are missing? What might these rows represent?\n\n\n\n\n\n\nWhy is NA^0 not missing? Why is NA | TRUE not missing? Why is FALSE & NA not missing? Can you figure out the general rule? (NA * 0 is a tricky counterexample!)"
  },
  {
    "objectID": "ex/danl200-cw-6.html#q2a.",
    "href": "ex/danl200-cw-6.html#q2a.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q2a.",
    "text": "Q2a.\n\nHow could you use arrange() to sort all missing values to the start? (Hint: use is.na()).\n\n\ndf <- data.frame(num = c(1, 4, NA, 2, NA, 3, 7),\n                 chr = c(\"A\", \"A\", \"A\", \"B\", \"X\", \"Z\", \"D\"))"
  },
  {
    "objectID": "ex/danl200-cw-6.html#q2b.",
    "href": "ex/danl200-cw-6.html#q2b.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q2b.",
    "text": "Q2b.\n\nSort flights to find the most delayed flights. Find the flights that left earliest."
  },
  {
    "objectID": "ex/danl200-cw-6.html#q2c.",
    "href": "ex/danl200-cw-6.html#q2c.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q2c.",
    "text": "Q2c.\n\nSort flights to find the fastest (highest speed) flights."
  },
  {
    "objectID": "ex/danl200-cw-6.html#q2d.",
    "href": "ex/danl200-cw-6.html#q2d.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q2d.",
    "text": "Q2d.\n\nWhich flights traveled the farthest? Which traveled the shortest?"
  },
  {
    "objectID": "ex/danl200-cw-6.html#q3a.",
    "href": "ex/danl200-cw-6.html#q3a.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q3a.",
    "text": "Q3a.\n\nBrainstorm as many ways as possible to select dep_time, dep_delay, arr_time, and arr_delay from flights."
  },
  {
    "objectID": "ex/danl200-cw-6.html#q3b.",
    "href": "ex/danl200-cw-6.html#q3b.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q3b.",
    "text": "Q3b.\n\nDoes the result of running the following code surprise us? How do the select helpers deal with case by default? How can we change that default?\n\n\nselect(flights, contains(\"TIME\"))"
  },
  {
    "objectID": "ex/danl200-cw-6.html#q3c.",
    "href": "ex/danl200-cw-6.html#q3c.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q3c.",
    "text": "Q3c.\n\nRename air_time to air_time_min to indicate units of measurement and move it to the beginning of the data frame."
  },
  {
    "objectID": "ex/danl200-cw-6.html#q4a.",
    "href": "ex/danl200-cw-6.html#q4a.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q4a.",
    "text": "Q4a.\n\nCurrently dep_time and sched_dep_time are convenient to look at, but hard to compute with because their values are represented with format HHMM or HMM (H for hour and M for minute).\n\nConvert them to a more convenient representation of number of minutes since midnight."
  },
  {
    "objectID": "ex/danl200-cw-6.html#q4b.",
    "href": "ex/danl200-cw-6.html#q4b.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q4b.",
    "text": "Q4b.\n\nCompare air_time with arr_time - dep_time. What do you expect to see? What do you see? What do you need to do to fix it?"
  },
  {
    "objectID": "ex/danl200-cw-6.html#q4c.",
    "href": "ex/danl200-cw-6.html#q4c.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q4c.",
    "text": "Q4c.\n\nCompare dep_time, sched_dep_time, and dep_delay. How would you expect those three numbers to be related?"
  },
  {
    "objectID": "ex/danl200-cw-6.html#q4d.",
    "href": "ex/danl200-cw-6.html#q4d.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q4d.",
    "text": "Q4d.\n\nFind the 20 most delayed flights using a ranking function. How do you want to handle ties?"
  },
  {
    "objectID": "ex/danl200-cw-6.html#q4e.",
    "href": "ex/danl200-cw-6.html#q4e.",
    "title": "DANL 200: Classwork 6 - filter, arrange, select, and mutate",
    "section": "Q4e.",
    "text": "Q4e.\n\nRead the following CSV file, TSLA.csv, as a data.frame with the name tsla:\n\n\ntsla <- read_csv(\"https://bcdanl.github.io/data/TSLA_2022_2023.csv\")\n\n\nDescribe the distribution of the percentage change in Close price of Tesla stock.\nCompare the daily trend of cumulative Volume of Tesla stock in 2022 with that in 2023."
  },
  {
    "objectID": "ex/econ340-feedback-daniel-andrew.html",
    "href": "ex/econ340-feedback-daniel-andrew.html",
    "title": "ECON 340: Team Project",
    "section": "",
    "text": "The proposal presents a compelling and significant research topic with a clear objective."
  },
  {
    "objectID": "ex/econ340-feedback-daniel-andrew.html#task-1.",
    "href": "ex/econ340-feedback-daniel-andrew.html#task-1.",
    "title": "ECON 340: Team Project",
    "section": "Task 1.",
    "text": "Task 1.\n\nDraw two demand functions on a \\((p, q)\\) space on a range of \\(q\\in [0,1]\\) with \\(s_{2} > s_{1}\\).\nProvide an economic meaning of \\(\\frac{\\partial^{2}p(q,s)}{\\partial q \\partial s}\\)."
  },
  {
    "objectID": "ex/econ340-feedback-daniel-andrew.html#task-2.",
    "href": "ex/econ340-feedback-daniel-andrew.html#task-2.",
    "title": "ECON 340: Team Project",
    "section": "Task 2.",
    "text": "Task 2.\n\nSolve the water monopolist’s problem of maximizing the profit \\(\\Pi\\) by choosing \\(q\\) and \\(s\\):\n\n\\[\n\\begin{align}\n\\max_{q, s}\\; \\Pi &= R(q,s) - C(q,s)\\\\\n&= s(1-q)q - (kq + \\ell s)\n\\end{align}\n\\] - Note that when maximizing the profit, the monopolist does not take the price of water as given, because of the market power she has. - Profit maximizing conditions are \\(\\frac{\\partial R(q,s)}{\\partial q } = \\frac{\\partial C(q,s)}{\\partial q}\\) and \\(\\frac{\\partial R(q,s)}{\\partial s } = \\frac{\\partial C(q,s)}{\\partial s}\\)"
  },
  {
    "objectID": "ex/econ340-feedback-daniel-andrew.html#task-3.",
    "href": "ex/econ340-feedback-daniel-andrew.html#task-3.",
    "title": "ECON 340: Team Project",
    "section": "Task 3.",
    "text": "Task 3.\n\nSolve the Social planner’s problem of maximizing the social welfare \\(SW\\) by choosing \\(q\\) and \\(s\\):\n\n\\[\n\\begin{align}\n\\max_{q, s}\\; SW &= \\int_{0}^{q} s(1-\\theta)d\\theta - c(q,s)  \\\\\n&= s\\left(q-\\frac{1}{2}q^{2}\\right) - (kq + \\ell s)\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-daniel-andrew.html#task-4.",
    "href": "ex/econ340-feedback-daniel-andrew.html#task-4.",
    "title": "ECON 340: Team Project",
    "section": "Task 4.",
    "text": "Task 4.\n\nCompared to the Social planner, does the water monopolist under-supplies water quality \\(s\\)?\nIf the water monopolist under-supplies water quality \\(s\\), what policy or policy mix would you consider to make them provide the socially optimal level of water quality?"
  },
  {
    "objectID": "ex/econ340-feedback-jocelyn-daniel.html",
    "href": "ex/econ340-feedback-jocelyn-daniel.html",
    "title": "ECON 340: Team Project",
    "section": "",
    "text": "The proposal presents a compelling and relevant research topic for air pollution in relation to essential and non-essential transportation under lockdown policies.\nI would suggest you guys to incorporate environmental justice into your study.\n\nWorking from home tends to be a luxury afforded only to the privileged or majority group.\nLow-paid service sector employees — who are most likely to live in neighborhoods with high level of ambient air pollution — need to work on-site, so that the use of essential transportation would be higher for the minority group."
  },
  {
    "objectID": "ex/econ340-feedback-jocelyn-daniel.html#more-references",
    "href": "ex/econ340-feedback-jocelyn-daniel.html#more-references",
    "title": "ECON 340: Team Project",
    "section": "More references",
    "text": "More references\n\nConsider the following references:\n\nHighlight for Zhang et. al. (2021), “Lockdown skies: Research explores the link between pandemic, pollution and race”\nZhang et. al. (2021), “Environmental justice and the COVID-19 pandemic: Evidence from New York State”\nHighlight for Krupnick et. al. (2023), Executive Summary for “Prioritizing Justice in New York State Climate Policy: Cleaner Air for Disadvantaged Communities?”\nKrupnick et. al. (2023), “Prioritizing Justice in New York State Climate Policy: Cleaner Air for Disadvantaged Communities?”\nOECD (2016), “The economic consequences of outdoor air pollution”"
  },
  {
    "objectID": "ex/econ340-feedback-jocelyn-daniel.html#consumers-health-and-air-pollution",
    "href": "ex/econ340-feedback-jocelyn-daniel.html#consumers-health-and-air-pollution",
    "title": "ECON 340: Team Project",
    "section": "Consumer’s Health and Air Pollution",
    "text": "Consumer’s Health and Air Pollution\n\nLet us consider health ( \\(H\\) ) as a function of air pollution, medical care, and preventive measure to avoid air pollution:\n\n\\(H\\): Health\n\\(P\\): Ambient air pollution level\n\\(M\\): Medical care\n\\(A\\): Preventive measure to avoid air pollution (e.g., air filtration)\n\n\n\\[\n\\begin{align}\nH = H(\\;M, A, P \\;)\n\\end{align}\n\\]\n\nAssume that medical care \\(M\\) is a function of illness episode \\(\\phi\\)\n\nThe longer the illness episode, the more spending on medical care.\n\n\n\\[\n\\begin{align}\nM = M(\\phi)\n\\end{align}\n\\]\n\nAssume that illness episode \\(\\phi\\) is a function of pollution ( \\(P\\) ) and preventive measure to avoid air pollution ( \\(A\\) )\n\nThe more spending on avoidance behavior, the shorter the illness episode.\nThe more pollution exposure, the longer the illness episode.\n\n\n\\[\n\\begin{align}\n\\phi = \\phi(A, P)\n\\end{align}\n\\]\n\nLet us redefine the health function ( \\(H\\) )\n\n\\[\n\\begin{align}\nH &= H(\\;M, A, P \\;) \\\\\n&= H(\\;M(\\,\\phi(A, P)\\,),\\, \\phi(A, P) \\;) \\tag{Eq-H}\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-jocelyn-daniel.html#consumers-utility",
    "href": "ex/econ340-feedback-jocelyn-daniel.html#consumers-utility",
    "title": "ECON 340: Team Project",
    "section": "Consumer’s Utility",
    "text": "Consumer’s Utility\n\nConsumer values a numeraire good \\(x\\), leisure time \\(L\\), and health \\(H\\):\n\n\\[\n\\begin{align}\nU = x + U_{L}(L) + U_{H}(H)\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-jocelyn-daniel.html#consumers-budget-constraint",
    "href": "ex/econ340-feedback-jocelyn-daniel.html#consumers-budget-constraint",
    "title": "ECON 340: Team Project",
    "section": "Consumer’s Budget Constraint",
    "text": "Consumer’s Budget Constraint\n\nConsumer has time endowment \\(T\\) and allocates time endowment into leisure time ( \\(L\\) ) and labor time ( \\(T-L\\) )\nConsumer’s income \\(Y\\) is non-wage income \\(I\\) plus wage income \\(w(H)\\times(T- L)\\), where wage is a function of health.\n\nWage is a function of health, because the healthier, the more productive in the workplace.\n\n\n\\[\n\\begin{align}\nY = I + w(H)\\times(T- L)\n\\end{align}\n\\] - Consumer’s budget constraint is then:\n\\[\n\\begin{align}\nI + w(H)\\times(T- L) = X + p_{X}M + p_{A}A\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-jocelyn-daniel.html#utility-maximization",
    "href": "ex/econ340-feedback-jocelyn-daniel.html#utility-maximization",
    "title": "ECON 340: Team Project",
    "section": "Utility Maximization",
    "text": "Utility Maximization\n\nGiven the price of medical care \\(p_{M}\\) and the price of avoidance behavior \\(p_{A}\\), consumer maximizes her utility:\n\n\\[\n\\begin{align}\n\\max_{x, L, A, M}\\; U &=\\, x + U_{L}(L) + U_{H}(\\, H(P, M ,A) \\,)\\tag{P1}\\\\\n\\text{subject to }\\; I + w(H)[T- L] &= X + p_{X}M + p_{A}A\\\\\n\\; H &=  H(M, A ,P)\n\\end{align}\n\\] - For simplicity, here I use a simple form of health function.\n\nReplacing a numeraire good using the budget constraint gives:\n\n\\[\n\\begin{align}\n\\max_{L, A, M}\\; U &=\\, I + w(\\,H(M, A ,P)\\,)[T- L] - p_{X}M - p_{A}A + U_{L}(L) + U_{H}(\\, H(M, A ,P) \\,)\\tag{P2}\\\\\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-jocelyn-daniel.html#first-order-conditions",
    "href": "ex/econ340-feedback-jocelyn-daniel.html#first-order-conditions",
    "title": "ECON 340: Team Project",
    "section": "First-Order Conditions",
    "text": "First-Order Conditions\n\\[\n\\begin{align}\n\\frac{\\partial U}{\\partial L} &= -w(H) + \\frac{\\partial U_{L}}{\\partial L}   = 0\\tag{FOC-L}\\\\\n\\frac{\\partial U}{\\partial A} &=  \\left(\\frac{\\partial w}{\\partial H} + \\frac{\\partial U_{H}}{\\partial H}\\right)\\times\\frac{\\partial H}{\\partial A} - p_{A} = 0\\tag{FOC-A}\\\\\n\\frac{\\partial U}{\\partial M} &=  \\left(\\frac{\\partial w}{\\partial H} + \\frac{\\partial U_{H}}{\\partial H}\\right)\\times\\frac{\\partial H}{\\partial M} - p_{M}                                                   = 0\\tag{FOC-M}\n\\end{align}\n\\]\n\n(FOC-L) describes the standard trade-offs between labor and leisure.\n\nAt optimum, marginal benefit of enjoying one unit of leisure is equal to wage rate.\n\n(FOC-A) and (FOC-M) can be combined to yield the following intuitive expression for \\(MRS_{AM}\\), the marginal rate of substitution between \\(A\\) and \\(M\\):\n\n\\[\n\\begin{align}\nMRS_{AM} \\equiv \\frac{\\frac{\\partial H}{\\partial A}}{\\frac{\\partial H}{\\partial M}} = \\frac{p_{A}}{p_{M}} \\tag{MRS-AM}\n\\end{align}\n\\]\n\nConsumer will give up \\(MRS_{AM}\\) units of \\(A\\) in exchange for 1 additional unit of \\(M\\).\nThe rate at which the consumer is willing to trade between two goods is exactly the same as the rate at which consumer can trade these goods in the market, the price ratio."
  },
  {
    "objectID": "ex/econ340-feedback-jocelyn-daniel.html#the-effect-of-pollution-on-health",
    "href": "ex/econ340-feedback-jocelyn-daniel.html#the-effect-of-pollution-on-health",
    "title": "ECON 340: Team Project",
    "section": "The Effect of Pollution on Health",
    "text": "The Effect of Pollution on Health\n\nSince avoidance behavior and medical care consumption depend on ambient pollution levels, the relationship between health and pollution levels can be expressed as the following total derivative of heath function (Eq-H) with respect to ambient air pollution:\n\n\\[\n\\begin{align}\n\\frac{d H}{d P} &= \\frac{dH}{d\\phi} \\times\\frac{d\\phi}{dP}\\\\\n&= \\underbrace{\\left(\\frac{\\partial H}{\\partial M}\\frac{\\partial M}{\\partial \\phi} + \\frac{\\partial H}{\\partial \\phi}\\right)}_{\\frac{dH}{d\\phi}} \\times \\underbrace{\\left(\\frac{\\partial \\phi}{\\partial P} + \\frac{\\partial \\phi}{\\partial A}\\frac{\\partial A}{\\partial P}\\right)}_{\\frac{d\\phi}{dP}}\n\\end{align}\n\\]\n\nThe effect of pollution on population health depends on two distinct components:\n\nThe relationship between pollution and illness ( \\(\\frac{d\\phi}{dP}\\) )\n\n\\(\\frac{\\partial \\phi}{\\partial P}\\): The pure biological effect of pollution on illness\n\\(\\frac{\\partial \\phi}{\\partial A}\\times \\frac{\\partial A}{\\partial P}\\): The role of avoidance behavior in averting illness episodes by limiting contact with pollutants\n\nThe degree to which illness is translated into poor health status ( \\(\\frac{dH}{d\\phi}\\) )\n\n\\(\\frac{\\partial H}{\\partial M}\\times \\frac{\\partial M}{\\partial \\phi}\\): The degree to which medical treatment ameliorates the negative effects of pollution on health\n\\(\\frac{\\partial H}{\\partial \\phi}\\): The degree to which pollution-induced illness episodes are not treated, either because the condition is untreatable or because individuals do not seek treatment for it."
  },
  {
    "objectID": "ex/danl399-hw-4.html",
    "href": "ex/danl399-hw-4.html",
    "title": "DANL 310: Data Visualization and PresentationHomework Assignment 4",
    "section": "",
    "text": "Loading R packages\n\nlibrary(tidyverse)\nlibrary(socviz)\nlibrary(lubridate)\nlibrary(geofacet)\n\n\n\nQuestion 1 - Unemployment Rate Maps with geofacet::facet_geo()\nThe following data is for Question 1:\n\nunemp_house_prices <- read_csv(\n  'https://bcdanl.github.io/data/unemp_house_prices.csv')\n\n\n\n\n\n  \n\n\n\n\nUse geom_area(), geom_line(), and facet_geo(~state, labeller = adjust_labels) to replicate the following figure\n\n\nadjust_labels <- as_labeller(\n  function(x) {\n    case_when(\n      x == \"New Hampshire\" ~ \"N. Hampshire\",\n      x == \"District of Columbia\" ~ \"DC\",\n      TRUE ~ x\n    )\n  }\n)\n\n\nunemp_house_prices %>% \n  filter(\n    date >= ymd(\"2008-01-01\")\n  ) %>%\n  ggplot(aes(date, unemploy_perc)) + \n  geom_area(fill = \"#56B4E9\", alpha = 0.7) +\n  geom_line() + \n  scale_y_continuous(\n    name = \"unemployment rate\",\n    limits = c(0, 16),\n    breaks = c(0, 5, 10, 15),\n    labels = c(\"0%\", \"5%\", \"10%\", \"15%\")\n  ) +\n  scale_x_date(\n    name = NULL,\n    breaks = ymd(c(\"2009-01-01\", \"2011-01-01\", \n                   \"2013-01-01\", \"2015-01-01\", \"2017-01-01\")),\n    labels = c(\"'09\", \"'11\", \"'13\", \"'15\", \"'17\")\n  ) +\n  facet_geo(~state, labeller = adjust_labels) +\n  theme(\n    strip.text = element_text(\n      margin = margin(3, 3, 3, 3)\n    ),\n    axis.line.x = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nQuestion 2 - Election maps and data clearning\nThe following data is for Question 2:\n\nelection_panel <- read_csv(\n  'https://bcdanl.github.io/data/election_panel.csv')\n\n\n\n\n\n  \n\n\n\n\nReplicate the following map.\n\nDo not use coord_map(projection = \"albers\", lat0 = 39, lat1 = 45).\n\n\n\nelection_panel_AK <- filter(election_panel,\n                            state_po == \"AK\")\n\nclass(county_map$id)\n\ncounty_map <- county_map\ncounty_map$id <- as.integer(county_map$id)\nelection_panel$id <- as.integer(election_panel$id)\ncounty_map_AK <- filter(county_map,\n                            id >=2000, id < 3000)\n  \ncounty_full <- left_join(county_map, election_panel, by = \"id\")\ncounty_full_AK <- filter(county_full,\n                        id >=2000, id < 3000)\ncounty_full <- county_full %>% \n  arrange(year, county_fips, order)\n\n\nna_map <- function(yr){\n  county_full_na <- filter(county_full, is.na(year)) %>% \n    select(-year) %>% \n    mutate( year = yr)\n}\n\ncounty_full_NAmap <- county_full\nfor (val in as.numeric(levels(factor(county_full$year)))){\n  county_full_NAmap <- rbind(county_full_NAmap, na_map(val))\n}\n\np1 <- ggplot() + geom_polygon(data = filter(county_full_NAmap, !is.na(year)), \n                       mapping = aes(x = long, y = lat, group = group, \n                                     fill = pct_DEMOCRAT ),\n                       color = \"grey60\", size = 0.1) \n\np2 <- p1 + scale_fill_gradient( \n  # low = '#CB454A',  # from party_colors for GOP\n  low = '#FFFFFF',  # transparent white\n  high = '#2E74C0',  # from party_colors for DEM\n  na.value = \"grey80\",\n  # midpoint = quantile(county_full$pct_DEMOCRAT, .5, na.rm = T),\n  breaks = c(quantile(county_full$pct_DEMOCRAT, 0, na.rm = T),\n             quantile(county_full$pct_DEMOCRAT, .25, na.rm = T),\n             quantile(county_full$pct_DEMOCRAT, .5, na.rm = T),\n             quantile(county_full$pct_DEMOCRAT, .75, na.rm = T),\n             quantile(county_full$pct_DEMOCRAT, 1, na.rm = T)),\n  labels = c(paste(round(quantile(county_full$pct_DEMOCRAT, 0, na.rm = T), 1),\"\\n(Min)\"),\n             paste(round(quantile(county_full$pct_DEMOCRAT, .25, na.rm = T), 1),\"\\n(25th)\"),\n             paste(round(quantile(county_full$pct_DEMOCRAT, .5, na.rm = T), 1),\"\\n(Median)\"),\n             paste(round(quantile(county_full$pct_DEMOCRAT, .75, na.rm = T), 1),\"\\n(75th)\"),\n             paste(round(quantile(county_full$pct_DEMOCRAT, 1, na.rm = T), 1),\"\\n(Max)\")\n  ),\n  guide = \"colourbar\"\n  ) \n\np2 + labs(fill = \"Percent\\nDemocrat\",\n          title = \"U.S. Presidential Election, 2000-2020\") +\n  theme_map() + \n  facet_wrap(.~ year) +\n  theme(plot.margin = unit( c(1, 1, 4, 0.5), \"cm\"),\n        legend.position = c(0.5, -.15),\n        legend.justification = c(.5,.5),\n        strip.background = element_rect(fill = \"#e1ecf8\", \n                                        colour = \"black\", size = .1)\n        ) +\n  guides(fill = guide_colourbar(direction = \"horizontal\", barwidth = 25,\n                                title.hjust = -1, title.vjust = 1))"
  },
  {
    "objectID": "ex/econ340-hw-1-a.html",
    "href": "ex/econ340-hw-1-a.html",
    "title": "ECON 340: Homework Assignment 1",
    "section": "",
    "text": "Consider a society with just two consumers. Consumer 1 can get positive utility from a positive amount of some activity \\(h\\) that she chooses the level of, but consumer 2 gets negative utility from that activity. We can think of \\(h\\) as some non-market good, for example, “hours” of loud music played by consumer 1, disturbing consumer 2’s peace and quiet. Consumer 1 therefore imposes a negative externality on consumer 2. Assume there is no other cost associated with the activity.\nAssume that both consumers gain utilities from consuming a numeraire good \\(x\\), whose price is 1, but may have different incomes \\(Y_{1}\\) and \\(Y_{2}\\).\n\nConsumer 1’s utility is \\(U_{1} = x_{1} + h(4-h)\\).\nConsumer 2’s utility is \\(U_{2} = x_{2} - h^{2}\\).\n\n\n\n\n\nUnder the efficiency standard, what is the socially optimal level of \\(h^{o}\\)?\n\nAnswer:\nThe social welfare function is \\[\n\\begin{align}\nSW &= U_{1} + U_{2}\\\\\n&= x_{1} + x_{2} + h(4-h) - h^{2}.\n\\end{align}\n\\] \nTo derive the socially optimal level of \\(h^{o}\\), we should consider the Social Planner’s problem. In Classwork 4, we discussed what the Social Planner does:\n\nSocial planner maximizes social welfare subject to resource constraint.\n\nThe Social Planner’s problem refers to a scenario where a central authority (the Social Planner) seeks to allocate resources in a way that maximizes social welfare, subject to available resources, which is described by the resource constraint.\nThe optimal allocation of resources obtained from the Social Planner’s problem plays an important role in making public policy work. It is a benchmark that the government wants to achieve by implementing public policy.\n\nThe socially optimal level of \\(h^{o}\\) alongside the socially optimal levels of \\(x_{1}^{o}\\) and \\(x_{2}^{o}\\) maximizes \\(SW^{o} = SW(x_{1}^{o},x_{2}^{o},h^{o})\\).\nThe Social Planner solves problem (SP-1) subject to resource constraint (RC):\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}, h} \\;&SW = x_{1} + x_{2} + h(4-h) - h^{2}\\tag{SP-1}\\\\\n\\text{subject to}\\quad &Y_{1} + Y_{2} = x_{1} + x_{2}\\tag{RC}\n\\end{align}\n\\]\nSubstituting \\(x_{1} + x_{2}\\) in the \\(SW\\) using (RC) gives:\n\\[\n\\begin{align}\n\\max_{h} \\;SW &= Y_{1} + Y_{2} + h(4-h) - h^{2}\\tag{SP-2}\n\\end{align}\n\\]\nfirst-order condition for problem (SP-2) is\n\\[\n\\frac{d SW}{d h} = 4 - 4h = 0\n\\] Therefore, \\(h^{o} = 1\\) and \\(\\{(x_{1}^{o}, x_{2}^{o}): Y_{1} + Y_{2} = x_{1}^{o} + x_{2}^{o}\\}\\).\n\n\nPlot graphs in \\((h, \\$)\\) space, both total and average/marginal, to illustrate the solution.\n\nAnswer:\n\nDividing \\(SW(h)\\) into benefit ( \\(B(h) = h(4-h)\\) ) and cost ( \\(C(h) = h^{2}\\) ) is useful:\n\n\\[\nSW(h) = B(h) - C(h).\n\\] Here we disregard numeraire goods and incomes.\n\n\n\n\n\n\n\n\n\n\n\nAt \\(h = h^{o} = 1\\), where \\(MB(h^{o}) = MC(h^{o})\\), \\(SW(h^{o})\\) is maximized.\n\n\n\n\n\nDerive the market level \\(h^{*}\\) of the activity that results if choosing it is left up to consumer 1, and show that this level differs from \\(h^{o}\\).\n\nAnswer:\nIn the market, each single economic agent maximizes his/her own utility.\n\nConsumer 1 solves problem (C-1-cons) subject to budget constraint (BC-1):\n\\[\n\\begin{align}\n\\max_{x_{1}, h} \\;&U_{1} = x_{1} + h(4-h) \\tag{C-1-cons}\\\\\n\\text{subject to}\\quad &Y_{1} = x_{1} \\tag{BC-1}\n\\end{align}\n\\]\nSubstituting \\(x_{1}\\) in the \\(U_{1}\\) using (BC-1) gives \\(x_{1}^{*} = Y_{1}\\) and:\n\\[\n\\begin{align}\n\\max_{h} \\;U_{1} &= Y_{1} + h(4-h) \\tag{C-1-uncons}\n\\end{align}\n\\]\nfirst-order condition for problem (C-1-uncons) is\n\\[\n\\frac{d U_{1}}{d h} = 4 - 2h = 0\n\\] Therefore, \\(h^{*} = 2\\).\n\nConsumer 2 solves problem (C-2-cons) subject to budget constraint (BC-2):\n\\[\n\\begin{align}\n\\max_{x_{2}} \\;&U_{2} = x_{2} - h^{2} \\tag{C-2-cons}\\\\\n\\text{subject to}\\quad &Y_{2} = x_{2} \\tag{BC-2}\n\\end{align}\n\\]\nSubstituting \\(x_{2}\\) in the \\(U_{2}\\) using (BC-2) gives \\(x_{2}^{*} = Y_{2}\\).\n\n\nAdd \\(h^{*}\\) to your graphs.\n\n\n\n\n\n\n\n\n\n\nAt \\(h = h^{*} = 2\\), where \\(MB(h^{*}) = 0\\), consumer 1’s benefit \\(B(h^{*}) = h^{*}(4-h^{*})\\) is maximized.\n\nWhen \\(h < 2\\), consumer 1 has incentive to increase \\(h\\), as the marginal benefit of \\(h\\) is positive.\nWhen \\(h > 2\\), consumer 1 has incentive to decrease \\(h\\), as the marginal benefit of \\(h\\) is negative.\n\n\n\n\n\n\nSuppose now that the government intervenes in the situation by imposing a tax on \\(h\\).\n\nHere is what happens with the tax revenue:\n\nGovernment forces consumer 1 to pay a per-unit tax \\(t\\) on \\(h\\), and to distribute the tax revenue \\(th\\) in some “lump-sum” fashion across both consumers, giving \\(L_{1}\\) to consumer 1 and \\(L_{2}\\) to consumer 2.\n\nDerive the optimal level of the tax—the level that will induce consumer 1 to choose \\(h^{o}\\) rather than \\(h^{*}\\).\n\nAssume that the government anticipates consumer 1’s response to the tax.\n\n\nAnswer:\nWhen designing an optimal tax scheme to maximize the social welfare, government should anticipate how consumers would respond to tax. This consumer’s behavior is characterized by the first-order conditions in consumers’ utility maximization problems. To derive the optimal level of the tax, we therefore should consider each consumer’s maximization problem before determining the optimal tax.\n\nGiven tax \\(t\\) and lump-sum windfall \\(L_{1}\\), consumer 1 solves problem (C-1-cons-t) subject to budget constraint (BC-1-t):\n\\[\n\\begin{align}\n\\max_{x_{1}, h} \\;&U_{1} = x_{1} + h(4-h) \\tag{C-1-cons-t}\\\\\n\\text{subject to} \\quad &Y_{1} + L_{1} = x_{1} + th \\tag{BC-1-t}\n\\end{align}\n\\]\nSubstituting \\(x_{1}\\) in the \\(U_{1}\\) using (BC-1-t) gives:\n\\[\n\\begin{align}\n\\max_{h} \\;U_{1} &= Y_{1} + L_{1} - th + h(4-h) \\tag{C-1-uncons-t}\n\\end{align}\n\\]\nFirst-order condition for problem (C-1-uncons-t) is\n\\[\n\\frac{d U_{1}}{d h} = 4 - 2h - t = 0\\tag{FOC-C-1-h-t}\n\\] Therefore, \\(h^{**} = 2 - \\frac{t}{2}\\) and \\(x_{1}^{**} = Y_{1} + L_{1} - t(2 - \\frac{t}{2})\\).\n\nGiven lump-sum windfall \\(L_{2}\\), consumer 2 solves problem (C-2-cons-t) subject to budget constraint (BC-2-t):\n\\[\n\\begin{align}\n\\max_{x_{2}} \\;&U_{2} =  x_{2} - h^{2} \\tag{C-2-cons-t}\\\\\n\\text{subject to}\\quad &Y_{2} + L_{2} = x_{2} \\tag{BC-2-t}\n\\end{align}\n\\]\nSubstituting \\(x_{2}\\) in the \\(U_{2}\\) using (BC-2-t) gives \\(x_{2}^{**} = Y_{2} + L_{2}\\)\n\nTaking into account how consumer 1 and consumer 2 behave, government solves problem (G-t) subject to government’s budget constraint (BC-G-t):\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}, h, t, L_{1}, L_{2}} \\;&SW = x_{1} + x_{2} + h(4-h) - h^{2}\\tag{G-t}\\\\\n\\text{subject to}\\quad &Y_{1} + L_{1} = x_{1} + t h\\tag{BC-1-t}\\\\\n&Y_{2} + L_{2} = x_{2} \\tag{BC-2-t}\\\\\n&L_{1} + L_{2} = th \\tag{BC-G-t}\\\\\n&\\!\\!\\!\\!\\!\\!4 - 2h - t = 0\\tag{FOC-C-1-h-t}\n\\end{align}\n\\] Substituting in (BC-1-t) and (BC-2-t) to eliminate \\(x_{1}\\) and \\(x_{2}\\) simplifies the problem (G-t) to\n\\[\n\\begin{align}\n\\max_{h, t, L_{1}, L_{2}} \\;&SW = Y_{1} + Y_{2} + L_{1} + L_{2} - th\\\\&\\qquad\\quad + h(4-h) - h^{2}\\tag{G-t-v2}\\\\\n\\text{subject to}\\quad &L_{1} + L_{2} = th \\tag{BC-G-t}\\\\\n&\\!\\!\\!\\!\\!\\!4 - 2h - t = 0\\tag{FOC-C-1-h-t}\n\\end{align}\n\\]\nSubstituting in (BC-G-t) to eliminate \\(L_{1}\\) and \\(L_{2}\\) simplifies the problem (G-t-v2) to\n\\[\n\\begin{align}\n\\max_{h, t} \\;&SW = Y_{1} + Y_{2} + h(4-h) - h^{2}\\tag{G-t-v3}\\\\\n\\text{subject to}\\quad &4 - 2h - t = 0\\tag{FOC-C-1-h-t}\n\\end{align}\n\\]\nLagrangian function for problem (G-t-v3) is\n\\[\n\\mathcal{L} = Y_{1} + Y_{2} + h(4-h) - h^{2} -\\lambda(4 - 2h - t)\\tag{G-t-L}\n\\] first-order conditions for problem (G-t-L) are\n\\[\n\\begin{align}\n\\frac{d \\mathcal{L}}{d h} &= 4 - 4h + 2\\lambda  = 0 \\tag{FOC-G-h}\\\\\n\\frac{d \\mathcal{L}}{d t} &= \\lambda = 0 \\tag{FOC-G-t}\\\\\n\\frac{d \\mathcal{L}}{d \\lambda} &= 4 - 2h - t = 0 \\tag{FOC-G-$\\lambda$}\\\\\n\\end{align}\n\\]\nTherefore, \\(t^{**} = 2\\) and \\(h^{**} = 1 = h^{o}\\). Accordingly, \\(x_{1}^{**} = Y_{1} + L_{1}^{**} - 2\\) and \\(x_{2}^{**} = Y_{2} + L_{2}^{**}\\).\n\n\nModify both your graphs from question Q1b to show the effects of the tax.\n\nAnswer:\n\n\n\n\n\n\n\n\n\nAt \\(h = h^{**} = 1 = h^{o}\\), where \\(MB(h^{**}) - t^{**}h^{**} = 0\\), consumer 1’s benefit with tax payment \\(B(h^{*}) = h^{*}(4-h^{*}) - t^{**}h^{**}\\) is maximized.\n\nWhen \\(h < 1\\), consumer 1 has incentive to increase \\(h\\), as the marginal benefit of \\(h\\) is positive.\nWhen \\(h > 1\\), consumer 1 has incentive to decrease \\(h\\), as the marginal benefit of \\(h\\) is negative.\n\n\n\nAn optimal tax imposed to correct for a negative externality is commonly referred to as a “Pigovian” tax, after the English economist Arthur Pigou (1877-1959). Another common phrase used in this context is that the tax forces consumer 1 to “internalize” the externality she imposes on consumer 2.\n\n\n\n\nSame question as Q1c, but now the government introduces a per-unit subsidy \\(s\\) paid to consumer 1 for every unit by which she reduces \\(h\\) below some level, for example, her optimal level \\(h^{*}\\) without government intervention.\n\nHere is how the government prepares the budget for the total amount of subsidy:\n\nGovernment forces consumers 1 and 2 to pay some amount of “lump-sum” taxes, \\(L_{1}\\) paid by consumer 1 and \\(L_{2}\\) paid by consumer 2, so that the subsidy can be given to consumer 1.\n\nDerive the optimal level of the per-unit subsidy \\(s^{o}\\)—the level that will induce consumer 1 to choose \\(h^{o}\\) rather than \\(h^{*}\\).\n\nAssume that the government anticipates consumer 1’s response to the per-unit subsidy \\(s\\).\n\n\nAnswer:\nConsumer 1 solves problem (C-1-cons-s) subject to budget constraint (BC-1-s):\n\\[\n\\begin{align}\n\\max_{x_{1}, h} \\;&U_{1} = x_{1} + h(4-h) \\tag{C-1-cons-s}\\\\\n\\text{subject to} \\quad &Y_{1} + s(h^{*} - h) - L_{1} = x_{1} \\tag{BC-1-s}\n\\end{align}\n\\]\nSubstituting \\(x_{1}\\) in the \\(U_{1}\\) using (BC-1-s) gives:\n\\[\n\\begin{align}\n\\max_{h} \\;U_{1} &= Y_{1} - L_{1} + s(h^{*} - h) + h(4-h) \\tag{C-1-uncons-s}\n\\end{align}\n\\]\nFirst-order condition for problem (C-1-uncons-s) is\n\\[\n\\frac{d U_{1}}{d h} = 4 - 2h - s = 0\\tag{FOC-C-1-h-s}\n\\] Therefore, \\(h^{***} = 2 - \\frac{s}{2}\\) and \\(x_{1}^{***} = Y_{1} - L_{1} + s(h^{*} - 2 + \\frac{s}{2})\\).\n\nConsumer 2 solves problem (C-2-cons-s) subject to budget constraint (BC-2-s):\n\\[\n\\begin{align}\n\\max_{x_{2}} \\;&U_{2} =  x_{2} - h^{2} \\tag{C-2-cons-s}\\\\\n\\text{subject to}\\quad &Y_{2} - L_{2} = x_{2} \\tag{BC-2-s}\n\\end{align}\n\\]\nSubstituting \\(x_{2}\\) in the \\(U_{2}\\) using (BC-2-s) gives \\(x_{2}^{***} = Y_{2} - L_{2}\\)\nTaking into account how consumer 1 and consumer 2 behave, government solves problem (G-s)\n\\[\n\\begin{align}\n\\max_{x_{1}, x_{2}, h, s, L_{1}, L_{2}} \\;&SW = x_{1} + x_{2} + h(4-h) - h^{2}\\tag{G-t}\\\\\n\\text{subject to}\\quad &Y_{1} - L_{1} + s(h^{*} - h) = x_{1}\\tag{BC-1-s}\\\\\n&Y_{2} - L_{2} = x_{2} \\tag{BC-2-s}\\\\\n&L_{1} + L_{2} = s(h^{*} - h) \\tag{BC-G-s}\\\\\n&\\!\\!\\!\\!\\!\\!4 - 2h - s = 0\\tag{FOC-C-1-h-s}\n\\end{align}\n\\] Substituting in (BC-1-s) and (BC-2-s) to eliminate \\(x_{1}\\) and \\(x_{2}\\) simplifies the problem (G-s) to\n\\[\n\\begin{align}\n\\max_{h, s, L_{1}, L_{2}} \\;&SW = Y_{1} + Y_{2} - L_{1} - L_{2} + s(h^{*} - h)\\\\&\\qquad\\quad  + h(4-h) - h^{2}\\tag{G-s-v2}\\\\\n\\text{subject to}\\quad &L_{1} + L_{2} = s(h^{*} - h) \\tag{BC-G-s}\\\\\n&\\!\\!\\!\\!\\!\\!4 - 2h - s = 0\\tag{FOC-C-1-h-s}\n\\end{align}\n\\] Substituting in (BC-G-s) to eliminate \\(L_{1}\\) and \\(L_{2}\\) simplifies the problem (G-s-v2) to\n\\[\n\\begin{align}\n\\max_{h, t} \\;&SW = Y_{1} + Y_{2} + h(4-h) - h^{2}\\tag{G-s-v3}\\\\\n\\text{subject to}\\quad &4 - 2h - s = 0\\tag{FOC-C-1-h-s}\n\\end{align}\n\\]\nProblem (G-s-v3) is equivalent to (G-t-v3). Therefore, \\(s^{***} = 2\\) and \\(h^{***} = 1 = h^{o}\\). Accordingly, \\(x_{1}^{***} = Y_{1} - L_{1}^{***} + 2\\) and \\(x_{2}^{***} = Y_{2} - L_{2}^{***}\\)."
  },
  {
    "objectID": "ex/econ340-hw-1-a.html#q2a.",
    "href": "ex/econ340-hw-1-a.html#q2a.",
    "title": "ECON 340: Homework Assignment 1",
    "section": "Q2a.",
    "text": "Q2a.\nSuppose there is only one herder in the village with the common. The only one herder can freely choose any number of cows.\n\nHow many cows will be grazed on the common?\n\nAnswer:\n\\[\n\\begin{align}\n\\max_{c}\\; \\Pi = c(5-c) - ac \\tag{owner}\n\\end{align}\n\\] first-order condition for problem (owner) is\n\\[\n\\frac{d \\Pi}{d c} = 5 -2c - a = 0.\n\\] Therefore, \\(c^{*} = \\frac{5 - a}{2}\\).\nIf the common grazing ground were owned by someone who could restrict access to it, this is indeed the solution that would result. For in this case, the owner of the grazing grounds would purchase just the right amount of cows to maximize his profits."
  },
  {
    "objectID": "ex/econ340-hw-1-a.html#q2b.",
    "href": "ex/econ340-hw-1-a.html#q2b.",
    "title": "ECON 340: Homework Assignment 1",
    "section": "Q2b.",
    "text": "Q2b.\nSuppose there is a sufficient number of herders in the village with the common, so that each individual herder will have a number of cows that is negligible relative to the total number of cows grazed on the common.\n\nWhat is the total number of cows if the individual herder chooses how many of his or her cows to be grazed on the common?\n\nAnswer:\nClaim that \\(\\hat{c} = 5 - a\\), where \\(AP(\\hat{c}) = a = MC\\) is the total number of cows if each individual herder chooses how many of his or her cows to be grazed on the common. \\[\n\\frac{f(\\hat{c})}{\\hat{c}} = 5 - \\hat{c} = a.\n\\]\nWhen a villager contemplates adding a cow, the total output will be \\(f(c + 1)\\), and the total number of cows will be \\(c + 1\\). Thus the revenue that the cow generates for the villager will be \\(f(c + 1)/(c + 1)\\). He must compare this revenue to the cost of the cow, \\(a\\). If \\(f(c + 1)/(c + 1) > a\\), it is profitable to add the cow since the value of the output exceeds the cost. Hence the villagers will choose to graze cows until the average product of a cow is driven to \\(a\\).\nThat is, if it is profitable to graze a cow on the common field, villagers will purchase cows. They will stop adding cows to the common only when the profits have been driven to zero, that is, when\n\\[\nf(\\hat{c}) - a\\hat{c} = 0.\n\\]\nWhen an individual decides whether or not to purchase a cow, he looks at the extra value he will get \\(f(c)/c\\) and compares this to the cost of the cow, \\(a\\). This is fine for him, but what has been left out of this calculation is the fact that his extra cow will reduce the output of milk from all the other cows. Since he is ignoring this social cost of his purchase, too many cows will be grazed on the common ground."
  },
  {
    "objectID": "ex/econ340-hw-1-a.html#q2c.",
    "href": "ex/econ340-hw-1-a.html#q2c.",
    "title": "ECON 340: Homework Assignment 1",
    "section": "Q2c.",
    "text": "Q2c.\nDraw the curves for\n\nAverage product of a cow;\nMarginal product of a cow;\nMarginal cost of a cow.\n\nExplain the tragedy of the commons using the graphs.\nAnswer:\n\n\n\n\n\nIn this graph, marginal cost \\(a\\) is set to 2.\nNotice that for any value of \\(a\\) between 0 and 5, the number of cows when the land is common is twice larger than the number of cows when the land is privately owned. Therefore, the area will be overgrazed when the land is common."
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html",
    "href": "ex/danl200-midterm-1-q-v1.html",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "",
    "text": "I solemnly swear that I will not cheat or engage in any form of academic dishonesty during this exam.\nI will not communicate with other students or use unauthorized materials.\nI will uphold the integrity of this exam and demonstrate my own knowledge and abilities.\nBy taking this pledge, I acknowledge that academic dishonesty undermines the academic process and is a violation of the trust placed in me as a student.\nI accept the consequences of any violation of this promise.\n\nStudent’s Name:\nStudent’s ID:\nStudent’s Signature:"
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#variable-description",
    "href": "ex/danl200-midterm-1-q-v1.html#variable-description",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Variable description",
    "text": "Variable description\n\nstate: US state code\n\nE.g., 1 is Alabama; 2 is Alaska; …; 36 is New York; …;56 is Wyoming.\n\ndistrict: Congressional district code\nyear: Year of election ranging from 1948 to 1990\nid: ID for Democrat or Republican candidate in a Election in a year\nscore: Americans for Democratic Action’s (ADA) voting score\n\nFor each Congress, the ADA chooses about twenty high-profile roll-call votes, and creates an index that varies between 0 and 100 for each Representative of the House.\nA higher value of score corresponds to a more “liberal” voting record.\nA lower value of score corresponds to a more “conservative” voting record.\n\ndemvoteshare: Democrat’s share of the vote\ndemocrat:\n\n0: Republican candidate won the current election.\n1: Democrat candidate won the current election.\nA candidate wins if his/her share of the vote is larger than 0.5.\n\nlagdemocrat: Lagged Democratic victory\n\n0: Republican candidate won the previous election (lagged).\n1: Democrat candidate won the previous election (lagged).\n\nlagdemvoteshare: Lagged democratic share of the vote\n\nDemocratic vote share in the previous election (lagged).\n\n\n\n\nThe following is the data.frame, close_elections.\n\n\n\n\n  \n\n\n\n\n\n\n  \n\n\n\nnrow(close_elections)\n\n[1] 13588\n\nncol(close_elections)\n\n[1] 9\n\n\n\nThe following is the data.frame, close_elections_mean.\n\n\n\n\n  \n\n\n\nnrow(close_elections_mean)\n\n[1] 100\n\nncol(close_elections_mean)\n\n[1] 3"
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#variable-description-1",
    "href": "ex/danl200-midterm-1-q-v1.html#variable-description-1",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Variable description",
    "text": "Variable description\n\nscore: the average ADA score within 0.01 intervals of the Democrat vote share,\n\nThis is calculated using the close_elections data.frame.\n\nlagdemvoteshare: Lagged value of the Democrat share of the vote\nrange_voteshare: Intervals of the Democrat vote share."
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#variable-description-2",
    "href": "ex/danl200-midterm-1-q-v1.html#variable-description-2",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Variable description",
    "text": "Variable description\n\ninst_name: Name of the SUNY college or university\ngeneseo\n\nTRUE if the value of inst_name is Geneseo;\nFALSE otherwise.\n\nyear: Year in which outcomes are measured.\nearnings_med: Median earnings among students (a) who received federal financial aid, (b) who began as undergraduates at the institution ten years prior, (c) with positive yearly earnings.\n\n\n\nThe following is the data.frame, scorecard_SUNY.\n\n\n\n\n  \n\n\n\n\n\n\n  \n\n\n\nnrow(scorecard_SUNY)\n\n[1] 176\n\nncol(scorecard_SUNY)\n\n[1] 4\n\ntable(scorecard_SUNY$inst_name)\n\n\n                                             Albany \n                                                  8 \n                                         Binghamton \n                                                  8 \n                                          Brockport \n                                                  8 \n                                            Buffalo \n                                                  8 \n                                      Buffalo State \n                                                  8 \nCollege of Agriculture and Technology at Cobleskill \n                                                  8 \n      College of Environmental Science and Forestry \n                                                  8 \n                    College of Technology at Alfred \n                                                  8 \n                    College of Technology at Canton \n                                                  8 \n                     College of Technology at Delhi \n                                                  8 \n                                           Cortland \n                                                  8 \n                               Empire State College \n                                                  8 \n                                           Fredonia \n                                                  8 \n                                            Geneseo \n                                                  8 \n                                       Old Westbury \n                                                  8 \n                                            Oneonta \n                                                  8 \n                                             Oswego \n                                                  8 \n                                        Plattsburgh \n                                                  8 \n                              Polytechnic Institute \n                                                  8 \n                                            Potsdam \n                                                  8 \n                                   Purchase College \n                                                  8 \n                                        Stony Brook \n                                                  8 \n\ntable(scorecard_SUNY$geneseo)\n\n\nFALSE  TRUE \n  168     8 \n\ntable(scorecard_SUNY$year)\n\n\n2007 2009 2011 2012 2013 2014 2015 2016 \n  22   22   22   22   22   22   22   22"
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#q2a.",
    "href": "ex/danl200-midterm-1-q-v1.html#q2a.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q2a.",
    "text": "Q2a.\n\nProvide ggplot code to replicate the following visualization that describes how the time trend of earnings_med varies by inst_name.\n\n\n\n\n\n\n\n\nAnswer:"
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#q2b.",
    "href": "ex/danl200-midterm-1-q-v1.html#q2b.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q2b.",
    "text": "Q2b.\n\nInterpret the visualization in Q2a.\n\n\n\nAnswer:"
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#variable-description-3",
    "href": "ex/danl200-midterm-1-q-v1.html#variable-description-3",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Variable description",
    "text": "Variable description\n\nborough: The name of the NYC borough in which the property is located.\nyear: Year the property sold.\nn: The number of the properties sold in a borough in a year.\nsale_price: Average price paid for the properties.\n\n\n\nThe following is the data.frame, sales_df.\n\n\n\n\n  \n\n\n\nnrow(sales_df_sum)\n\n[1] 90\n\nncol(sales_df_sum)\n\n[1] 4\n\ntable(sales_df_sum$borough)\n\n\n        Bronx      Brooklyn     Manhattan        Queens Staten Island \n           18            18            18            18            18"
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#q3a.",
    "href": "ex/danl200-midterm-1-q-v1.html#q3a.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q3a.",
    "text": "Q3a.\n\nProvide ggplot code to replicate the following visualization that describes the yearly trend of n.\n\n\n\n\n\n\n\n\nAnswer:"
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#q3b.",
    "href": "ex/danl200-midterm-1-q-v1.html#q3b.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q3b.",
    "text": "Q3b.\n\nProvide ggplot code to replicate the following visualization that describes how the yearly trend of sale_price varies by borough.\n\n\n\n\n\n\n\n\nAnswer:"
  },
  {
    "objectID": "ex/danl200-midterm-1-q-v1.html#q3c.",
    "href": "ex/danl200-midterm-1-q-v1.html#q3c.",
    "title": "Fall 2023 DANL 200 Midterm Exam 1",
    "section": "Q3c.",
    "text": "Q3c.\nMake a comment on the visualization in Q3a and Q3b.\n\nAnswer:"
  },
  {
    "objectID": "ex/econ340-feedback-henry.html",
    "href": "ex/econ340-feedback-henry.html",
    "title": "ECON 340: Team Project",
    "section": "",
    "text": "The proposal presents a compelling and significant research topic with a clear objective about the cost and consequence of the Clean Air Act (CAA) of CO2 from Power Plants."
  },
  {
    "objectID": "ex/econ340-feedback-henry.html#power-plant",
    "href": "ex/econ340-feedback-henry.html#power-plant",
    "title": "ECON 340: Team Project",
    "section": "Power plant",
    "text": "Power plant\n\nPower plant uses either clean energy or dirty energy to produce electricity (\\(e\\)).\nPower plant has a continuum of plants, and she can freely adjust its relative proportion of dirty and clean electricity, \\(\\gamma\\) and \\(1-\\gamma\\), respectively.\nPower plant’s total cost of producing electricity from dirty/clean energies consist of variable costs ( \\(C_{d}(e)\\) and \\(C_{c}(e)\\) ) and fixed costs ( \\(F_{c}\\) and \\(F_{d}\\) ):\n\n\\[\n\\begin{align}\nTC_{d} &= C_{d}(\\gamma\\times e) + F_{d}\\\\\nTC_{c} &= C_{c}((1-\\gamma)\\times e) + F_{c}\n\\end{align}\n\\]\n\nTaking the electricity price \\(s\\) as given, the power plant maximizes its profit by choosing how much to produce electricity \\(e\\) and the proportion of dirty energy power plant ( \\(\\gamma \\in [0,1]\\) ): \\[\n\\begin{align}\n\\max_{e, \\gamma}\\;\\Pi_{e} &=  s e - TC_{d}(\\gamma \\times e)  - TC_{c}((1 - \\gamma)\\times e) \\\\\n&=  s e - C_{d}(\\gamma \\times e)  - C_{c}((1 - \\gamma)\\times e) - F_{c} - F_{d}\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-henry.html#consumer",
    "href": "ex/econ340-feedback-henry.html#consumer",
    "title": "ECON 340: Team Project",
    "section": "Consumer",
    "text": "Consumer\n\nTaking the electricity price \\(s\\) as given, consumer maximizes its utility by choosing a numeraire good \\(x\\) and an electricity consumption \\(e\\):\n\n\\[\n\\begin{align}\n\\max_{x, e}\\;U &= x + v(e)\\\\\n\\text{subject to }\\; Y &= x + se\n\\end{align}\n\\]\nThe above problem is equivalent to: \\[\n\\begin{align}\n\\max_{e}\\;U &= Y - se + v(e)\\\\\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-henry.html#electricity-market",
    "href": "ex/econ340-feedback-henry.html#electricity-market",
    "title": "ECON 340: Team Project",
    "section": "Electricity Market",
    "text": "Electricity Market\nIn the electricity market, the electricity price \\(s\\) is such that the supply and the demand for electricity are met:\n\\[\nv'(e) = \\gamma C_{d}'(\\gamma \\times e) + (1 - \\gamma) C_{c}'((1-\\gamma)\\times e)\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-henry.html#social-planner",
    "href": "ex/econ340-feedback-henry.html#social-planner",
    "title": "ECON 340: Team Project",
    "section": "Social planner",
    "text": "Social planner\n\nSocial planner maximizes social welfare, which takes into account the damage caused by greenhouse gas emissions from dirty power plant, as a function of the amount of electricity produced by dirty power plant\n\n\\[\n\\begin{align}\n\\max_{e,\\gamma}\\;SW &= \\Pi_{e} + U - D\\\\\n&= Y - F_{c} - F_{d} \\\\\n&\\quad+ v(e) - \\, C_{d}(\\gamma\\times e)  - \\, C_{c}((1 - \\gamma)\\times e)  - D(\\gamma\\times e),\n\\end{align}\n\\] where the damage \\(D(\\gamma\\times e)\\) increases with \\(\\gamma \\times e\\) at an increasing rate."
  },
  {
    "objectID": "ex/econ340-feedback-henry.html#government",
    "href": "ex/econ340-feedback-henry.html#government",
    "title": "ECON 340: Team Project",
    "section": "Government",
    "text": "Government\n\nGovernment can consider various policies:\n\nSetting emission standards to dirty power plants under the CAA\nTax dirty power plants\nSubsidy clean power plants"
  },
  {
    "objectID": "ex/econ340-feedback-henry.html#modeling-ideas",
    "href": "ex/econ340-feedback-henry.html#modeling-ideas",
    "title": "ECON 340: Team Project",
    "section": "Modeling ideas",
    "text": "Modeling ideas\n\nFor simplicity, here I abstract away from firm’s productions and emissions. Instead, I focus on only power plant and consumer.\nIf needed, you guys can always modify the model."
  },
  {
    "objectID": "ex/danl399-hw-1.html",
    "href": "ex/danl399-hw-1.html",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "",
    "text": "Summarize each class and post it as a webpage under a new menu, “Classwork”, in your personal website on GitHub using Quarto.\n\nSummary does not need to be formal and comprehensive!\nFAQ about Quarto for R Markdown users are provided below: https://quarto.org/docs/faq/rmarkdown.html\nA guide for creating a Quarto website is provided in the following webpage: https://quarto.org/docs/websites/."
  },
  {
    "objectID": "ex/danl399-hw-1.html#q2a.",
    "href": "ex/danl399-hw-1.html#q2a.",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "Q2a.",
    "text": "Q2a.\nUse the following data.frame for Q2a, Q2b, and Q2c.\n\nncdc_temp <- read_csv(\n  'https://bcdanl.github.io/data/ncdc_temp_cleaned.csv')\n\n\nncdc_temp <- read_csv(\n  'https://bcdanl.github.io/data/ncdc_temp_cleaned.csv')\n\nggplot(ncdc_temp, aes(x = date, y= temperature)) +\n\ngeom_line(aes(color = location), size = 1) + geom_point(data = filter(ncdc_temp,\n                                                                      month %in% c(\"01\", \"04\", \"07\", \"10\"),\n                                                                      day == 1)) + # Adds a layer to the ggplot object with a line plot of the temperature data, with a size of 1.\n\nscale_x_date(name = \"month\", limits = c(ymd(\"0000-01-01\"), ymd(\"0001-01-04\")), # Adds a scale to the x-axis with the label \"month\" and limits of Jan 1, 0000 to Jan 4, 0001, and breaks at the beginning of each quarter (Jan, Apr, Jul, Oct), with corresponding labels.\nbreaks = c(ymd(\"0000-01-01\"), ymd(\"0000-04-01\"), ymd(\"0000-07-01\"),\nymd(\"0000-10-01\"), ymd(\"0001-01-01\")),\nlabels = c(\"Jan\", \"Apr\", \"Jul\", \"Oct\", \"Jan\"), expand = c(1/366, 0)) +\n\nscale_y_continuous(limits = c(19.9, 107), # Adds a scale to the y-axis with limits of 19.9 to 107, breaks at every 20 units, and label \"temperature (°F)\".\nbreaks = seq(20, 100, by = 20),\nname = \"temperature (°F)\") +\n\ntheme(legend.title.align = 0.5) # Adjusts the alignment of the legend title to be centered."
  },
  {
    "objectID": "ex/danl399-hw-1.html#q2b",
    "href": "ex/danl399-hw-1.html#q2b",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "Q2b",
    "text": "Q2b\n\nncdc_temp <- read_csv(\n  'https://bcdanl.github.io/data/ncdc_temp_cleaned.csv')\n\np <- ggplot(ncdc_temp, aes(x = month, y= temperature)) \n\n  # add a box plot with grey fill\np + geom_boxplot(fill = 'grey90') + \n  # add labels for x and y axes\n  labs(x = \"month\",\n       y = \"mean temperature (°F)\") +\n  # apply a custom theme to the plot\n  theme_clean()"
  },
  {
    "objectID": "ex/danl399-hw-1.html#q2c",
    "href": "ex/danl399-hw-1.html#q2c",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "Q2c",
    "text": "Q2c\nUse ggridges::geom_density_ridges() for Q2c.\n\nncdc_temp <- read_csv(\n  'https://bcdanl.github.io/data/ncdc_temp_cleaned.csv')\n\np <- ggplot(ncdc_temp, aes(x = temperature, y = month)) \n\np + geom_density_ridges( # Adds a layer to the ggplot object with a smoothed density plot of the temperature data using the 'ridgeline' plot type.\n  scale = 3, rel_min_height = 0.01, # Sets the scaling and minimum relative height for the plot.\n  bandwidth = 3.4, fill = \"#56B4E9\", color = \"white\" # Sets the bandwidth for the plot, as well as the fill and color for the plot elements.\n) +\n\nscale_x_continuous( # Adds a scale to the x-axis for continuous values.\n  name = \"mean temperature (°F)\", # Sets the label for the x-axis.\n  expand = c(0, 0), breaks = c(0, 25, 50, 75) # Sets the expansion and the break points for the x-axis.\n) +\n\nscale_y_discrete(\n  name = \"month\", expand = c(0, .2, 0, 2.6)) + # Adds a scale to the y-axis for discrete (categorical) values, with a label and a custom expansion.\n\ntheme( # Applies a custom theme to the ggplot object.\n  plot.margin = margin(3, 7, 3, 1.5) # Sets the margin of the plot.\n)"
  },
  {
    "objectID": "ex/danl399-hw-1.html#q2d",
    "href": "ex/danl399-hw-1.html#q2d",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "Q2d",
    "text": "Q2d\nUse ggplot::mtcars for Q2d.\n\nm <- ggplot(data = mtcars, aes(x = disp, y = mpg, color = hp)) \n\nm + geom_point(aes(color = hp)) + # add scatter plot with color mapped to \"hp\" variable\n  labs(x = \"displacement(cu. in.)\", y = \"fuel efficiency(mpg)\")+ # add labels to x and y axes\n  scale_color_gradient()+ # add color gradient scale legend\n  scale_fill_brewer(palette = \"Emrld\") # add fill color palette with \"Emrld\" scheme to the legend"
  },
  {
    "objectID": "ex/danl399-hw-1.html#q2e",
    "href": "ex/danl399-hw-1.html#q2e",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "Q2e",
    "text": "Q2e\nUse the following data.frame for Q2e.\n\npopgrowth_df <- read_csv(\n  'https://bcdanl.github.io/data/popgrowth.csv')\n\n\np <- ggplot(popgrowth_df, \n            aes(x = reorder(state, popgrowth), \n                y = 100*popgrowth, \n                fill = region))\np + geom_col() + # Add the geom for the columns\n  scale_y_continuous(\n    limits = c(-.6, 37.5), expand = c(0, 0), # Set y axis limits and expansion\n    labels = scales::percent_format(accuracy = 1, scale = 1), # Set percent labels for y axis\n    name = \"population growth, 2000 to 2010\" # Set name for y axis\n    ) +\n  coord_flip() + # Flip the x and y axis\n  theme(legend.position = c(.67, .4), # Set legend position\n        axis.text.y = element_text( size = 6, \n                                    margin = margin(t = 0, r = 0, b = 0, l = 0) )) # Adjust the size and margin for y axis text"
  },
  {
    "objectID": "ex/danl399-hw-1.html#q2f",
    "href": "ex/danl399-hw-1.html#q2f",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "Q2f",
    "text": "Q2f\nUse the following data.frame for Q2f.\n\nmale_Aus <- read_csv(\n  'https://bcdanl.github.io/data/aus_athletics_male.csv')\n\n\n# Define color and fill vectors for use in plot\ncolors <- c(\"#BD3828\", rep(\"#808080\", 4))\nfills <- c(\"#BD3828D0\", rep(\"#80808080\", 4))\n\np <- ggplot(male_Aus, aes(x=height, y=pcBfat, shape=sport, color = sport, fill = sport))\n\n# Add geom_point layer with custom size\np + geom_point(size = 3) +\n\n# Set shape values for different sports\n  scale_shape_manual(values = 21:25) +\n\n# Set color values for different sports\n  scale_color_manual(values = colors) +\n\n# Set fill values for different sports\n  scale_fill_manual(values = fills) +\n\n# Set x and y axis labels\n  labs(x = \"height (cm)\",\n       y = \"% body fat\" )"
  },
  {
    "objectID": "ex/danl399-hw-1.html#q2g",
    "href": "ex/danl399-hw-1.html#q2g",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "Q2g",
    "text": "Q2g\nUse the following data.frame for Q2g.\n\ntitanic <- read_csv(\n  'https://bcdanl.github.io/data/titanic_cleaned.csv')\n\n\np <- ggplot(titanic, aes(x = age, y = after_stat(count) ) ) \n\n# Add a density line plot for all passengers with transparent color, and fill legend with \"all passengers\"\np + geom_density_line(\n    data = select(titanic, -sex), \n    aes(fill = \"all passengers\"),\n    color = \"transparent\"\n  ) + \n  # Add another density line plot for each sex with transparent color, and fill legend with sex\n  geom_density_line(aes(fill = sex), bw = 2, color = \"transparent\") +\n  # Set the x-axis limits, name, and expand arguments\n  scale_x_continuous(limits = c(0, 75), name = \"passenger age (years)\", expand = c(0, 0)) +\n  # Set the y-axis limits, name, and expand arguments\n  scale_y_continuous(limits = c(0, 26), name = \"count\", expand = c(0, 0)) +\n  # Set the manual color and fill values, breaks, and labels for the legend\n  scale_fill_manual(\n    values = c(\"#b3b3b3a0\", \"#0072B2\", \"#D55E00\"), \n    breaks = c(\"all passengers\", \"male\", \"female\"),\n    labels = c(\"all passengers  \", \"males  \", \"females\"),\n    name = NULL,\n    guide = guide_legend(direction = \"horizontal\")\n  ) +\n  # Set the Cartesian coordinate system to allow for data points to fall outside the plot limits\n  coord_cartesian(clip = \"off\") +\n  # Create separate density line plots for male and female passengers\n  facet_wrap(~sex) +\n  # Set the x-axis line to blank, increase the strip text size, and set the legend position and margin\n  theme(\n    axis.line.x = element_blank(),\n    strip.text = element_text(size = 14, margin = margin(0, 0, 0.2, 0, \"cm\")),\n    legend.position = \"bottom\",\n    legend.justification = \"right\",\n    legend.margin = margin(4.5, 0, 1.5, 0, \"pt\"),\n    legend.spacing.x = grid::unit(4.5, \"pt\"),\n    legend.spacing.y = grid::unit(0, \"pt\"),\n    legend.box.spacing = grid::unit(0, \"cm\")\n  )"
  },
  {
    "objectID": "ex/danl399-hw-1.html#q2h",
    "href": "ex/danl399-hw-1.html#q2h",
    "title": "DANL 399: Data Visualization and PresentationHomework Assignment 1",
    "section": "Q2h",
    "text": "Q2h\nUse the following data.frame for Q2h.\n\ncows_filtered <- read_csv(\n  'https://bcdanl.github.io/data/cows_filtered.csv')\n\n\np <- ggplot(cows_filtered, aes(x = butterfat, color = breed, fill = breed))\n\n# add a density line for each breed with some transparency\np + geom_density_line(alpha = .2) +\n\n# set x-axis properties\nscale_x_continuous(\n  expand = c(0, 0), # remove padding from axis limits\n  labels = scales::percent_format(accuracy = 1, scale = 1), # format axis labels as percentages with 1 decimal point\n  name = \"butterfat contents\" # set axis label\n) +\n\n# set y-axis properties\nscale_y_continuous(limits = c(0, 1.99), expand = c(0, 0)) +\n\n# set plot area properties\ncoord_cartesian(clip = \"off\") + # allow density lines to extend beyond axis limits\ntheme(axis.line.x = element_blank()) # remove x-axis line"
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html",
    "href": "ex/danl200-midterm-2-q.html",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "",
    "text": "Here we are loading all the R packages we need for the Midterm Exam II, so that you do not need to load the R packages in your code.\n\n\nlibrary(tidyverse)\nlibrary(skimr)"
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#variable-description",
    "href": "ex/danl200-midterm-2-q.html#variable-description",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Variable description",
    "text": "Variable description\n\ngamename: Name of a game\ndate: Date of measure\nyear: Year of measure\nmonth: Month of measure\navg: Average number of players at the same time within a given month\npeak: Highest number of players at the same time within a given month\n\n\n\nThe following is the data.frame, games.\n\n\nShow the code\nrmarkdown::paged_table(games,\n                       options = list(rows.print = 20,\n                                      cols.print = 6,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      )) \n\n\n\n\n  \n\n\n\n\n\nShow the code\nnrow(games)\n\n\n[1] 5837\n\n\nShow the code\nncol(games)\n\n\n[1] 6\n\n\n\n\n\nShow the code\nunique(games$gamename)\n\n\n  [1] \"7 Days to Die\"                         \n  [2] \"ARK: Survival Evolved\"                 \n  [3] \"ATLAS\"                                 \n  [4] \"Apex Legends\"                          \n  [5] \"Arma 3\"                                \n  [6] \"Assassin's Creed Odyssey\"              \n  [7] \"BATTLETECH\"                            \n  [8] \"BioShock Infinite\"                     \n  [9] \"Black Desert Online\"                   \n [10] \"Borderlands 2\"                         \n [11] \"Borderlands 3\"                         \n [12] \"Borderlands: The Pre-Sequel\"           \n [13] \"Call of Duty: Black Ops III\"           \n [14] \"Cities: Skylines\"                      \n [15] \"Clicker Heroes\"                        \n [16] \"Conan Exiles\"                          \n [17] \"Counter-Strike\"                        \n [18] \"Counter-Strike: Global Offensive\"      \n [19] \"Counter-Strike: Source\"                \n [20] \"Crusader Kings III\"                    \n [21] \"Cyberpunk 2077\"                        \n [22] \"DARK SOULS II\"                         \n [23] \"DARK SOULS III\"                        \n [24] \"DOOM Eternal\"                          \n [25] \"DayZ\"                                  \n [26] \"Dead by Daylight\"                      \n [27] \"Destiny 2\"                             \n [28] \"Divinity: Original Sin 2\"              \n [29] \"Dota 2\"                                \n [30] \"Dota Underlords\"                       \n [31] \"Dyson Sphere Program\"                  \n [32] \"Euro Truck Simulator 2\"                \n [33] \"FINAL FANTASY XIV Online\"              \n [34] \"Fall Guys: Ultimate Knockout\"          \n [35] \"Fallout 4\"                             \n [36] \"Far Cry 5\"                             \n [37] \"Farming Simulator 19\"                  \n [38] \"Football Manager 2012\"                 \n [39] \"Football Manager 2014\"                 \n [40] \"Football Manager 2015\"                 \n [41] \"Football Manager 2016\"                 \n [42] \"Football Manager 2017\"                 \n [43] \"Football Manager 2018\"                 \n [44] \"Football Manager 2020\"                 \n [45] \"Football Manager 2021\"                 \n [46] \"For Honor\"                             \n [47] \"Garry's Mod\"                           \n [48] \"Grand Theft Auto V\"                    \n [49] \"Hearts of Iron IV\"                     \n [50] \"Kingdom Come: Deliverance\"             \n [51] \"Left 4 Dead 2\"                         \n [52] \"METAL GEAR SOLID V: THE PHANTOM PAIN\"  \n [53] \"MORDHAU\"                               \n [54] \"Monster Hunter: World\"                 \n [55] \"Mount & Blade II: Bannerlord\"          \n [56] \"NBA 2K20\"                              \n [57] \"No Man's Sky\"                          \n [58] \"PAYDAY 2\"                              \n [59] \"PLAYERUNKNOWN'S BATTLEGROUNDS\"         \n [60] \"Paladins\"                              \n [61] \"Path of Exile\"                         \n [62] \"Phasmophobia\"                          \n [63] \"Realm Royale\"                          \n [64] \"Resident Evil 2\"                       \n [65] \"RimWorld\"                              \n [66] \"Ring of Elysium\"                       \n [67] \"Risk of Rain 2\"                        \n [68] \"Rocket League\"                         \n [69] \"Rust\"                                  \n [70] \"Sea of Thieves\"                        \n [71] \"Sekiro: Shadows Die Twice\"             \n [72] \"Sid Meier's Civilization V\"            \n [73] \"Sid Meier's Civilization VI\"           \n [74] \"Sid Meier's Civilization: Beyond Earth\"\n [75] \"Starbound\"                             \n [76] \"Stardew Valley\"                        \n [77] \"Stellaris\"                             \n [78] \"Team Fortress 2\"                       \n [79] \"Temtem\"                                \n [80] \"Terraria\"                              \n [81] \"The Elder Scrolls Online\"              \n [82] \"The Witcher 3: Wild Hunt\"              \n [83] \"Tom Clancy's Rainbow Six Siege\"        \n [84] \"Tom Clancy's The Division\"             \n [85] \"Torchlight II\"                         \n [86] \"Total War: ROME II - Emperor Edition\"  \n [87] \"Total War: THREE KINGDOMS\"             \n [88] \"Total War: WARHAMMER\"                  \n [89] \"Total War: WARHAMMER II\"               \n [90] \"Tree of Savior (English Ver.)\"         \n [91] \"Trove\"                                 \n [92] \"Unturned\"                              \n [93] \"Wallpaper Engine\"                      \n [94] \"War Thunder\"                           \n [95] \"Warframe\"                              \n [96] \"Warhammer: Vermintide 2\"               \n [97] \"Wolcen: Lords of Mayhem\"               \n [98] \"World of Tanks Blitz\"                  \n [99] \"XCOM 2\"                                \n[100] \"Z1 Battle Royale\""
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q1a",
    "href": "ex/danl200-midterm-2-q.html#q1a",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q1a",
    "text": "Q1a\n\nProvide the R code to generate the data.frame, top4, which includes data exclusively for the top 4 gamenames, featuring only these variables: gamename, date, avg, peak, from the data.frame games.\n\nThe top 4 gamenames are identified based on their mean avg values, calculated from January 2020 onwards within the games data.frame.\n\n\n\n\nShow the code\ntop4names <- games %>% \n  filter(year >= 2020) %>% \n  group_by(gamename) %>% \n  mutate(mean_avg = mean(avg) ) %>% \n  ungroup() %>% \n  filter(dense_rank(-mean_avg) <= 4) \n\ntop4 <- games %>% \n  filter(gamename %in% top4names$gamename) %>% \n  select(-year, -month)\n\n\n\nThe following is the first 10 observations in the data.frame, top4.\n\n\nShow the code\nrmarkdown::paged_table(top4,\n                       options = list(rows.print = 10,\n                                      cols.print = 6,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      )) \n\n\n\n\n  \n\n\n\n\nThe following is the last 10 observations in the data.frame, top4.\n\n\nShow the code\nrmarkdown::paged_table(top4 %>% tail(10),\n                       options = list(rows.print = 20,\n                                      cols.print = 6,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      ))"
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q1b",
    "href": "ex/danl200-midterm-2-q.html#q1b",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q1b",
    "text": "Q1b\n\nProvide R code to recreate the ggplot figure illustrating the monthly trend of avg for the top 4 gamenames using the data.frame top4.\n\n\n\n\nShow the code\nggplot(data = top4,\n       aes(x = date, \n           y = avg)\n       ) +\n  geom_line(aes(color = gamename),\n            linewidth = 1.25) +\n  geom_point(size = 1, alpha = .5, shape = 3) +\n  # labs(color = \"GAMES\") +\n  guides(color = \n           guide_legend(\n             label.position = \"bottom\",\n             title.position = \"top\",\n             title.hjust = .5,\n             nrow = 1\n             )\n         ) +\n  hrbrthemes::scale_y_comma() +\n  scale_x_date(date_breaks = '1 year', date_labels = '%Y')"
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q1c",
    "href": "ex/danl200-midterm-2-q.html#q1c",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q1c",
    "text": "Q1c\n\nProvide R code to recreate the ggplot figure illustrating the trend of the monthly change in avg for the games.\n\n\n\nShow the code\nq1c <- top4 %>% \n  group_by(gamename) %>% \n  mutate(chg = avg - lag(avg),\n         pm = ifelse(chg >= 0, \"+\", \"-\")) %>% \n  filter(!is.na(pm))\n         \nggplot(data = q1c,\n       aes(x = date, \n           y = chg)) +\n  geom_col(aes(fill = pm), show.legend = F) +\n  geom_line() +\n  # geom_point(size = .75) +\n  geom_hline(yintercept = 0, color = 'black', linetype = 3) +\n  facet_grid(gamename ~.) +\n  labs(x = \"\", y = \"\",\n       title = \"Top 4 Games\",\n       subtitle = \"Change in average number of players (Monthly)\") +\n  scale_x_date(breaks = '1 year',\n               date_labels = \"%Y\" ) +\n  hrbrthemes::scale_y_comma() +\n  theme(strip.text = element_text(size = rel(.8)))"
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q1d.",
    "href": "ex/danl200-midterm-2-q.html#q1d.",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q1d.",
    "text": "Q1d.\n\nProvide a brief comparison of the monthly avg trends among the top 4 gamenames, using the visualizations in Q1b and Q1c."
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#variable-description-1",
    "href": "ex/danl200-midterm-2-q.html#variable-description-1",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Variable description",
    "text": "Variable description\n\nEMPLOYER_STATE: US state\nEMPLOYER_CITY: US city\nCASE_STATUS: Application status\nEMPLOYER_NAME: Month of measure\nSOC_TITLE: Title of Standard Occupational Classification (SOC).\n\nUnited States government system uses this for classifying occupations\n\nJOB_TITLE: Title of job\nThe following is the first 20 values in EMPLOYER_STATE, EMPLOYER_CITY, and CASE_STATUS:\n\n\nShow the code\nrmarkdown::paged_table(h1b %>% select(EMPLOYER_STATE, EMPLOYER_CITY, CASE_STATUS),\n                       options = list(rows.print = 20,\n                                      cols.print = 3,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      )) \n\n\n\n\n  \n\n\n\n\nThe following is the first 20 values in SOC_TITLE:\n\n\nShow the code\nrmarkdown::paged_table(h1b %>% select(SOC_TITLE),\n                       options = list(rows.print = 20,\n                                      cols.print = 3,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      )) \n\n\n\n\n  \n\n\n\n\nThe following is the first 20 values in JOB_TITLE:\n\n\nShow the code\nrmarkdown::paged_table(h1b %>% select(JOB_TITLE),\n                       options = list(rows.print = 20,\n                                      cols.print = 3,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      )) \n\n\n\n\n  \n\n\n\n\n\nShow the code\nnrow(h1b)\n\n\n[1] 621462\n\n\nShow the code\nncol(h1b)\n\n\n[1] 6\n\n\n\n\n\nShow the code\nunique(h1b$EMPLOYER_STATE)\n\n\n [1] \"CA\" \"IL\" \"UT\" \"TX\" \"NY\" \"FL\" \"OR\" \"WA\" \"VA\" \"OH\" \"GA\" \"MD\" \"AZ\" \"PA\" \"CT\"\n[16] \"MI\" \"NJ\" \"NC\" \"DE\" \"NV\" \"MS\" \"MA\" \"IN\" \"GU\" \"TN\" \"CO\" \"DC\" \"MN\" \"AL\" \"PR\"\n[31] \"OK\" \"MP\" \"WI\" \"ID\" \"KS\" \"MO\" \"KY\" \"NH\" \"LA\" \"VI\" \"HI\" \"AR\" \"IA\" \"SC\" \"RI\"\n[46] \"NE\" \"ND\" \"NM\" \"WV\" \"ME\" \"VT\" \"AK\" \"MT\" \"SD\" \"PW\" \"WY\" \"FM\"\n\n\n\n\n\nShow the code\nunique(h1b$CASE_STATUS)\n\n\n[1] \"WITHDRAWN\"           \"CERTIFIED\"           \"DENIED\"             \n[4] \"CERTIFIED-WITHDRAWN\""
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q2a",
    "href": "ex/danl200-midterm-2-q.html#q2a",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q2a",
    "text": "Q2a\n\nProvide ggplot code to recreate the ggplot figure illustrating how the distribution of CASE_STATUS varies by EMPLOYER_STATE.\n\n\n\nShow the code\nggplot(h1b, aes(y = EMPLOYER_STATE, \n                fill = CASE_STATUS)) + \n  geom_bar(position = 'fill') +\n  labs(x = \"prop\", \n       title = \"Distribution by Employer State\")"
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q2b",
    "href": "ex/danl200-midterm-2-q.html#q2b",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q2b",
    "text": "Q2b\n\nProvide a brief comparison of the the distributions of CASE_STATUS across EMPLOYER_STATES, using the visualization in Q2a."
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q2c",
    "href": "ex/danl200-midterm-2-q.html#q2c",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q2c",
    "text": "Q2c\n\nProvide the R code to recreate the ggplot figure illustrating how the probability distribution of CASE_STATUS varies across the top 5 US states.\n\nThe top 5 US states are selected in terms of the number of H1-B applications.\nThe sum of bar heights within one state is 1.\n\n\n\n\nShow the code\nh1b_top5states <- h1b %>% \n  select(EMPLOYER_STATE, CASE_STATUS) %>% \n  group_by(EMPLOYER_STATE, CASE_STATUS) %>% \n  count() %>% \n  group_by(EMPLOYER_STATE) %>% \n  mutate(n_cases = sum(n),\n         perc = 100*n/n_cases) %>% \n  arrange(-n_cases, -n, CASE_STATUS) %>% \n  ungroup() %>% \n  mutate(st_rank = dense_rank(desc(n_cases))) %>% \n  filter(st_rank <= 5)\n\nggplot(h1b_top5states,\n       aes(x = EMPLOYER_STATE, y = perc, \n           fill = CASE_STATUS)) +\n  geom_bar(stat = \"identity\",\n           position = \"dodge\")"
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q2d",
    "href": "ex/danl200-midterm-2-q.html#q2d",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q2d",
    "text": "Q2d\n\nProvide the two distinct R codes to create the data.frame top50, which identifies the top 50 SOC_TITLE with the highest number of H1B CERTIFIED workers.\n\nIn cases where there are multiple SOC_TITLES tied for the 50th highest count of H1B CERTIFIED workers, include all such SOC_TITLE values in the data.frame top50.\nThe following shows the resulting data.frame:\n\n\n\n\nShow the code\ntop50_1 <- h1b %>%\n  filter(CASE_STATUS == \"CERTIFIED\") %>% \n  group_by(SOC_TITLE) %>%\n  summarise(n = n()) %>%\n  mutate(ranking = dense_rank(-n)) %>% \n  filter(ranking <= 50) %>% \n  arrange(-n, SOC_TITLE)\n\n\ntop50_2 <- h1b %>%\n  filter(CASE_STATUS == \"CERTIFIED\") %>% \n  group_by(SOC_TITLE) %>%\n  summarise(n = n()) %>%\n  slice_max(n, n = 50) %>% \n  arrange(-n, SOC_TITLE)\n\n\n\nShow the code\nrmarkdown::paged_table(top50_2,\n                       options = list(rows.print = 20,\n                                      cols.print = 3,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      ))"
  },
  {
    "objectID": "ex/danl200-midterm-2-q.html#q2e",
    "href": "ex/danl200-midterm-2-q.html#q2e",
    "title": "Fall 2023 DANL 200 Midterm Exam 2 - Questions",
    "section": "Q2e",
    "text": "Q2e\n\nProvide the two distinct R codes to create the data.frame top5, which identifies the top 5 out of those top 50 SOC_TITLE in terms of the probability of being CERTIFIED.\n\nThe following shows the resulting data.frame:\n\n\n\n\nShow the code\ntop_50_SOC <- h1b %>% \n  filter( CASE_STATUS == \"CERTIFIED\") %>%\n  group_by(SOC_TITLE) %>%\n  summarise(num_apps = n()) %>%\n  arrange(-num_apps) \n\nSOC_NAME_t50 <- top_50_SOC$SOC_TITLE[1:50]\n\ntop5 <- h1b %>%\n  filter(SOC_TITLE %in% SOC_NAME_t50  ) %>% \n  group_by(SOC_TITLE) %>%\n  mutate(tot = n(),\n         n_certi = ifelse(CASE_STATUS == \"CERTIFIED\", 1, 0),\n         n_certis = sum(n_certi),\n         prop_certi = 100*n_certis/tot) %>% \n  select(SOC_TITLE, prop_certi, tot) %>% \n  distinct() %>% \n  ungroup() %>% \n  filter(dense_rank(-prop_certi) <= 5) %>% \n  arrange(-prop_certi)\n\n\ntop5 <- h1b %>%\n  filter(SOC_TITLE %in% SOC_NAME_t50  ) %>% \n  group_by(SOC_TITLE) %>%\n  mutate(tot = n(),\n         prop_certi = 100*sum(CASE_STATUS == \"CERTIFIED\")/tot) %>% \n  select(SOC_TITLE, prop_certi, tot) %>% \n  distinct() %>% \n  ungroup() %>% \n  filter(dense_rank(-prop_certi) <= 5) %>% \n  arrange(-prop_certi)\n\n\nBelow arranges top 50 SOC_TITLEs in terms of the probability of being CERTIFIED.\n\nShow the code\ntop5 <- h1b %>%\n  filter(SOC_TITLE %in% SOC_NAME_t50  ) %>% \n  group_by(SOC_TITLE) %>%\n  mutate(tot = n()) %>% \n  mutate(prop_certi = 100*sum(CASE_STATUS == \"CERTIFIED\")/tot) %>% \n  select(SOC_TITLE, prop_certi, tot) %>% \n  distinct() %>% \n  arrange(-prop_certi)\n\nrmarkdown::paged_table(top5,\n                       options = list(rows.print = 20,\n                                      cols.print = 3,\n                                      pages.print = 0,\n                                      paged.print = F\n                                      ))"
  },
  {
    "objectID": "ex/danl399-hw-2.html",
    "href": "ex/danl399-hw-2.html",
    "title": "DANL 310: Data Visualization and PresentationHomework Assignment 2",
    "section": "",
    "text": "Add a web-page of the project proposal to your website."
  },
  {
    "objectID": "ex/danl399-hw-2.html#q2a.",
    "href": "ex/danl399-hw-2.html#q2a.",
    "title": "DANL 310: Data Visualization and PresentationHomework Assignment 2",
    "section": "Q2a.",
    "text": "Q2a.\nUse the following data.frame for Q2a, Q2b, and Q2c.\n\nhdi_corruption <- read_csv(\n  'https://bcdanl.github.io/data/hdi_corruption.csv')\n\n\nhdi_corruption <- read_csv(\n  'https://bcdanl.github.io/data/hdi_corruption.csv')\n\n# Use geom_smooth(method = lm, formula = \"y ~ log(x)\", se = F) .\n# `box.padding` option would be useful for geom_text_repel().\n\n\ncountry_highlight <- c(\"Germany\", \"Norway\", \"United States\", \n                       \"Greece\", \"Singapore\", \n                       \"Argentina\", \"Senegal\",\n                       \"China\", \"Egypt\", \"South Africa\")\n\ncorruption <- hdi_corruption %>% \n  mutate(label = ifelse(country %in% country_highlight, country, NA))\n\n\nggplot(data = filter(corruption, year == 2014), aes(cpi, hdi)) + \n  geom_smooth(method = lm, formula = \"y ~ log(x)\", se = F) + \n  geom_point(\n    aes(color = region, fill = region),\n    size = 2.5, alpha = 0.5, shape = 21\n  ) + \n  geom_text_repel(\n    aes(label = label), color = \"black\", size = 4,\n    box.padding = .75\n  ) +\n  scale_y_continuous(\n    limits = c(0.3, 1.05), breaks = c(0.2, 0.4, 0.6, 0.8, 1.0),\n    name = \"Human Development Index, 2014\\n(1.0 = most developed)\"\n  ) +\n  scale_x_continuous(\n    limits = c(10, 95),\n    breaks = c(20, 40, 60, 80, 100),\n    name = \"Corruption Perceptions Index, 2014 (100 = least corrupt)\"\n  ) + \n  theme_minimal() + \n  theme(\n    plot.margin = unit( c(1.75, .75, .75, .5), \"cm\"),\n    legend.position = c(.5, 1.05),\n    legend.direction = \"horizontal\",\n    legend.text = element_text(size = 10)\n  ) +\n  labs( color = \"Region\", fill = \"Region\")"
  },
  {
    "objectID": "ex/danl399-hw-2.html#q2b",
    "href": "ex/danl399-hw-2.html#q2b",
    "title": "DANL 310: Data Visualization and PresentationHomework Assignment 2",
    "section": "Q2b",
    "text": "Q2b\n\nDownload the file labor_supply.zip from the Google Drive. Then, extract labor_supply.zip, so that you can access the labor_supply.csv file.\nVariable description in labor_supply.csv\n\nSEX: 1 if Male; 2 if Female; 9 if NIU (Not in universe)\nNCHLT5: Number of own children under age 5 in a household; 9 if 9+\nLABFORCE: 0 if NIU or members of the armed forces; 1 if not in the labor force; 2 if in the labor force.\nASECWT: sample weight\n\nA sample weight of each observation means how much population each observation represents.\n\nIf you sum ASECWT for each year, you get the size of yearly population in the US.\n\nHouseholds with LABFORCE == 0 is not in labor force.\nLabor force participation rate can be calculated by:\n\n\\[\n(\\text{Labor Force Participation Rate}) \\, = \\, \\frac{(\\text{Size of population in labor force})}{(\\text{Size of civilian population that are not members of the armed force})}\n\\]\n\npath <- '/Users/bchoe/My Drive/suny-geneseo/teaching-materials/lecture-data/labor_supply.csv'\n\ncps_labor <- read_csv(path)\n\ncps_labor <- cps_labor %>% \n  filter(YEAR >= 1982) %>% \n  filter(LABFORCE != 0) %>% \n  mutate(LABFORCE = LABFORCE - 1) %>% \n  mutate(labor_supply = LABFORCE * ASECWT,\n         child = ifelse(NCHLT5 == 0, \n                        \"No Child Under Age 5 in Household\", \n                        \"Having Children Under Age 5 in Household\")) %>% \n  group_by(YEAR, SEX, child) %>% \n  summarize(pct = sum(labor_supply) / sum(ASECWT, na.rm= T) ) %>% \n  filter(!is.na(child))\n  \nlabel_df <- filter(cps_labor, YEAR == 2022) %>% \n  mutate(label = ifelse(SEX == 1, \"Male\", \"Female\"))\n\nggplot(data = cps_labor,\n       aes(x = YEAR, y = pct, \n           color = factor(SEX))) +\n  geom_line(size = 1.5) +\n  geom_label_repel(data = label_df,\n                  aes(x = YEAR, y = pct, label = label),\n                  color = 'black',\n                  nudge_y = .033, box.padding = .5) +\n  facet_grid( . ~ factor(child)) +\n  scale_x_continuous( breaks = seq(1982, 2022, 4) ) +\n  scale_y_continuous( labels = scales::percent) +  \n  scale_color_manual( labels = c(\"Male\", \"Female\"),\n                      values = c(\"#2E74C0\", \"#CB454A\") ) +\n  labs(x = \"Year\",\n       y = \"Labor Force Participation Rate\",\n       color = \"Gender\",\n       lty = \"Young Children\",\n       title = \"Fertility and Labor Supply in the U.S.\",\n       subtitle = \"1982-2022\",\n       caption = \"Data: IPUMS-CPS, University of Minnesota, www.ipums.org.\") +  guides(color = \"none\") +\n  theme_ipsum() +\n  theme(axis.title.y = element_text(size = rel(1.5),\n                                    face = 'bold'),\n        axis.text.x = element_text(angle = 45))"
  },
  {
    "objectID": "ex/danl399-hw-2.html#q2c",
    "href": "ex/danl399-hw-2.html#q2c",
    "title": "DANL 310: Data Visualization and PresentationHomework Assignment 2",
    "section": "Q2c",
    "text": "Q2c\n\nlibrary(ggcorrplot) # to create correlation heatmaps using ggcorrplot()\n\nbeer_mkt <- read_csv('https://bcdanl.github.io/data/beer_markets.csv')\n\n\nMake a correlation heat-map with variables that are either strongly correlated or promo-related.\nThe variables are selected by how high the mean value of the absolute value of correlations with the variable is (top 13-15 variables).\nYou can start with the data.frame, beer_dummies:\n\n\nbeer_dummies <- beer_mkt %>% select(-hh, -market) \nreg <- lm(data = beer_dummies,\n          beer_floz ~ .)\nbeer_dummies <-  as.data.frame(model.matrix(reg))[, -1]\nbeer_dummies <- cbind(beer_mkt$beer_floz ,beer_dummies)\nbeer_dummies <- beer_dummies %>% \n  rename(beer_floz = `beer_mkt$beer_floz`)\n\n\nlibrary(tidyverse)\nlibrary(ggfortify) # to create regression-related plots\nlibrary(ggcorrplot) # to create correlation heatmaps\nlibrary(fastDummies) # to create dummy variables\nbeer_mkt <- read.csv('https://bcdanl.github.io/data/beer_markets.csv')\nresults <- fastDummies::dummy_cols(beer_mkt %>% select(-hh, -market) )\ncolnames(results)\n\n  [1] \"X_purchase_desc\"                              \n  [2] \"quantity\"                                     \n  [3] \"brand\"                                        \n  [4] \"dollar_spent\"                                 \n  [5] \"beer_floz\"                                    \n  [6] \"price_per_floz\"                               \n  [7] \"container\"                                    \n  [8] \"promo\"                                        \n  [9] \"buyertype\"                                    \n [10] \"income\"                                       \n [11] \"childrenUnder6\"                               \n [12] \"children6to17\"                                \n [13] \"age\"                                          \n [14] \"employment\"                                   \n [15] \"degree\"                                       \n [16] \"cow\"                                          \n [17] \"race\"                                         \n [18] \"microwave\"                                    \n [19] \"dishwasher\"                                   \n [20] \"tvcable\"                                      \n [21] \"singlefamilyhome\"                             \n [22] \"npeople\"                                      \n [23] \"X_purchase_desc_BUD LT BR CN\"                 \n [24] \"X_purchase_desc_BUD LT BR CN 3P\"              \n [25] \"X_purchase_desc_BUD LT BR CN 4P\"              \n [26] \"X_purchase_desc_BUD LT BR CN 6P\"              \n [27] \"X_purchase_desc_BUD LT BR CN 8P\"              \n [28] \"X_purchase_desc_BUD LT BR CN 9P\"              \n [29] \"X_purchase_desc_BUD LT BR CN 12P\"             \n [30] \"X_purchase_desc_BUD LT BR CN 15P\"             \n [31] \"X_purchase_desc_BUD LT BR CN 18P\"             \n [32] \"X_purchase_desc_BUD LT BR CN 20P\"             \n [33] \"X_purchase_desc_BUD LT BR CN 24P\"             \n [34] \"X_purchase_desc_BUD LT BR CN 30P\"             \n [35] \"X_purchase_desc_BUD LT BR CN 36P\"             \n [36] \"X_purchase_desc_BUD LT BR CN F-V 18P\"         \n [37] \"X_purchase_desc_BUD LT BR KG\"                 \n [38] \"X_purchase_desc_BUD LT BR KG 1/2\"             \n [39] \"X_purchase_desc_BUD LT BR NRB\"                \n [40] \"X_purchase_desc_BUD LT BR NRB 4P\"             \n [41] \"X_purchase_desc_BUD LT BR NRB 6P\"             \n [42] \"X_purchase_desc_BUD LT BR NRB 8P\"             \n [43] \"X_purchase_desc_BUD LT BR NRB 12P\"            \n [44] \"X_purchase_desc_BUD LT BR NRB AL\"             \n [45] \"X_purchase_desc_BUD LT BR NRB AL 4P\"          \n [46] \"X_purchase_desc_BUD LT BR NRB AL 15P\"         \n [47] \"X_purchase_desc_BUD LT BR NRB AL 24P\"         \n [48] \"X_purchase_desc_BUD LT BR NRB LN\"             \n [49] \"X_purchase_desc_BUD LT BR NRB LN 6P\"          \n [50] \"X_purchase_desc_BUD LT BR NRB LN 12P\"         \n [51] \"X_purchase_desc_BUD LT BR NRB LN 15P\"         \n [52] \"X_purchase_desc_BUD LT BR NRB LN 18P\"         \n [53] \"X_purchase_desc_BUD LT BR NRB LN 20P\"         \n [54] \"X_purchase_desc_BUD LT BR NRB LN 24P\"         \n [55] \"X_purchase_desc_BUD LT BR NRBP 6P\"            \n [56] \"X_purchase_desc_BUD LT BR NRBP 24P\"           \n [57] \"X_purchase_desc_BUD LT BR NRBP LN\"            \n [58] \"X_purchase_desc_BUD LT BR RB LN\"              \n [59] \"X_purchase_desc_BUD LT BR RB LN 12P\"          \n [60] \"X_purchase_desc_BUD LT DFT BR KG BALL\"        \n [61] \"X_purchase_desc_BUSCH LIGHT BR CN\"            \n [62] \"X_purchase_desc_BUSCH LIGHT BR CN 4P\"         \n [63] \"X_purchase_desc_BUSCH LIGHT BR CN 6P\"         \n [64] \"X_purchase_desc_BUSCH LIGHT BR CN 12P\"        \n [65] \"X_purchase_desc_BUSCH LIGHT BR CN 18P\"        \n [66] \"X_purchase_desc_BUSCH LIGHT BR CN 24P\"        \n [67] \"X_purchase_desc_BUSCH LIGHT BR CN 30P\"        \n [68] \"X_purchase_desc_BUSCH LIGHT BR KG\"            \n [69] \"X_purchase_desc_BUSCH LIGHT BR NRB\"           \n [70] \"X_purchase_desc_BUSCH LIGHT BR NRB LN\"        \n [71] \"X_purchase_desc_BUSCH LIGHT BR NRB LN 6P\"     \n [72] \"X_purchase_desc_BUSCH LIGHT BR NRB LN 12P\"    \n [73] \"X_purchase_desc_BUSCH LIGHT BR NRB LN 18P\"    \n [74] \"X_purchase_desc_BUSCH LIGHT BR NRB LN 20P\"    \n [75] \"X_purchase_desc_BUSCH LIGHT BR NRB LN 24P\"    \n [76] \"X_purchase_desc_CRS LT BR CN\"                 \n [77] \"X_purchase_desc_CRS LT BR CN 6P\"              \n [78] \"X_purchase_desc_CRS LT BR CN 12P\"             \n [79] \"X_purchase_desc_CRS LT BR CN 18P\"             \n [80] \"X_purchase_desc_CRS LT BR CN 24P\"             \n [81] \"X_purchase_desc_CRS LT BR CN 30P\"             \n [82] \"X_purchase_desc_CRS LT BR CN 36P\"             \n [83] \"X_purchase_desc_CRS LT BR CN C-B 36P\"         \n [84] \"X_purchase_desc_CRS LT BR CN FBL 24P\"         \n [85] \"X_purchase_desc_CRS LT BR KG\"                 \n [86] \"X_purchase_desc_CRS LT BR KG 1/2\"             \n [87] \"X_purchase_desc_CRS LT BR KG BALL\"            \n [88] \"X_purchase_desc_CRS LT BR NRB\"                \n [89] \"X_purchase_desc_CRS LT BR NRB LN\"             \n [90] \"X_purchase_desc_CRS LT BR NRB LN 6P\"          \n [91] \"X_purchase_desc_CRS LT BR NRB LN 12P\"         \n [92] \"X_purchase_desc_CRS LT BR NRB LN 18P\"         \n [93] \"X_purchase_desc_CRS LT BR NRB LN 20P\"         \n [94] \"X_purchase_desc_CRS LT BR NRB LN 24P\"         \n [95] \"X_purchase_desc_CRS LT BR NRBP LN\"            \n [96] \"X_purchase_desc_CRS LT BR NRBP LN INSLT-B 6P\" \n [97] \"X_purchase_desc_CRS LT BR NRBP LN INSLT-B 18P\"\n [98] \"X_purchase_desc_CRS LT LB BR NRB\"             \n [99] \"X_purchase_desc_MLR LITE BR CN\"               \n[100] \"X_purchase_desc_MLR LITE BR CN 2P\"            \n[101] \"X_purchase_desc_MLR LITE BR CN 4P\"            \n[102] \"X_purchase_desc_MLR LITE BR CN 6P\"            \n[103] \"X_purchase_desc_MLR LITE BR CN 12P\"           \n[104] \"X_purchase_desc_MLR LITE BR CN 18P\"           \n[105] \"X_purchase_desc_MLR LITE BR CN 24P\"           \n[106] \"X_purchase_desc_MLR LITE BR CN 30P\"           \n[107] \"X_purchase_desc_MLR LITE BR CN 36P\"           \n[108] \"X_purchase_desc_MLR LITE BR KG 1/2\"           \n[109] \"X_purchase_desc_MLR LITE BR KG 1/4\"           \n[110] \"X_purchase_desc_MLR LITE BR NRB\"              \n[111] \"X_purchase_desc_MLR LITE BR NRB 8P\"           \n[112] \"X_purchase_desc_MLR LITE BR NRB 24P\"          \n[113] \"X_purchase_desc_MLR LITE BR NRB AL 9P\"        \n[114] \"X_purchase_desc_MLR LITE BR NRB LN\"           \n[115] \"X_purchase_desc_MLR LITE BR NRB LN 6P\"        \n[116] \"X_purchase_desc_MLR LITE BR NRB LN 18P\"       \n[117] \"X_purchase_desc_MLR LITE BR NRB LN 20P\"       \n[118] \"X_purchase_desc_MLR LITE BR NRB LN 24P\"       \n[119] \"X_purchase_desc_MLR LITE BR NRB LN F-P 12P\"   \n[120] \"X_purchase_desc_MLR LITE BR NRBP\"             \n[121] \"X_purchase_desc_MLR LITE BR NRBP LN 6P\"       \n[122] \"X_purchase_desc_MLR LITE BR NRBP LN 24P\"      \n[123] \"X_purchase_desc_MLR LITE BR NRBP LN ES-C 24P\" \n[124] \"X_purchase_desc_NATURAL LT BR CN\"             \n[125] \"X_purchase_desc_NATURAL LT BR CN 3P\"          \n[126] \"X_purchase_desc_NATURAL LT BR CN 4P\"          \n[127] \"X_purchase_desc_NATURAL LT BR CN 6P\"          \n[128] \"X_purchase_desc_NATURAL LT BR CN 12P\"         \n[129] \"X_purchase_desc_NATURAL LT BR CN 18P\"         \n[130] \"X_purchase_desc_NATURAL LT BR CN 24P\"         \n[131] \"X_purchase_desc_NATURAL LT BR CN 30P\"         \n[132] \"X_purchase_desc_NATURAL LT BR NRB\"            \n[133] \"X_purchase_desc_NATURAL LT BR NRB 12P\"        \n[134] \"X_purchase_desc_NATURAL LT BR NRB LN\"         \n[135] \"X_purchase_desc_NATURAL LT BR NRB LN 6P\"      \n[136] \"X_purchase_desc_NATURAL LT BR NRB LN 12P\"     \n[137] \"X_purchase_desc_NATURAL LT BR NRB LN 20P\"     \n[138] \"brand_BUD LIGHT\"                              \n[139] \"brand_BUSCH LIGHT\"                            \n[140] \"brand_COORS LIGHT\"                            \n[141] \"brand_MILLER LITE\"                            \n[142] \"brand_NATURAL LIGHT\"                          \n[143] \"container_CAN\"                                \n[144] \"container_KEG\"                                \n[145] \"container_KEG BALL\"                           \n[146] \"container_NON REFILLABLE BOTTLE\"              \n[147] \"container_NON REFILLABLE BOTTLE ALUMINUM\"     \n[148] \"container_NON REFILLABLE BOTTLE PLASTIC\"      \n[149] \"container_REFILLABLE BOTTLE\"                  \n[150] \"buyertype_female\"                             \n[151] \"buyertype_male\"                               \n[152] \"buyertype_married\"                            \n[153] \"income_20-60k\"                                \n[154] \"income_60-100k\"                               \n[155] \"income_100-200k\"                              \n[156] \"income_200k+\"                                 \n[157] \"income_under20k\"                              \n[158] \"age_<30\"                                      \n[159] \"age_30-39\"                                    \n[160] \"age_40-49\"                                    \n[161] \"age_50+\"                                      \n[162] \"employment_full\"                              \n[163] \"employment_none\"                              \n[164] \"employment_part\"                              \n[165] \"degree_College\"                               \n[166] \"degree_Grad\"                                  \n[167] \"degree_HS\"                                    \n[168] \"degree_none\"                                  \n[169] \"cow_clerical/sales/service\"                   \n[170] \"cow_labor/craft/military/farm\"                \n[171] \"cow_none/retired/student\"                     \n[172] \"cow_prof\"                                     \n[173] \"race_asian\"                                   \n[174] \"race_black\"                                   \n[175] \"race_hispanic\"                                \n[176] \"race_other\"                                   \n[177] \"race_white\"                                   \n[178] \"tvcable_basic\"                                \n[179] \"tvcable_none\"                                 \n[180] \"tvcable_premium\"                              \n[181] \"npeople_1\"                                    \n[182] \"npeople_2\"                                    \n[183] \"npeople_3\"                                    \n[184] \"npeople_4\"                                    \n[185] \"npeople_5plus\"                                \n\nresults <- results %>% \n  select(dollar_spent,\n         beer_floz,\n         price_per_floz,\n         starts_with(\"brand_\"),\n         `container_NON REFILLABLE BOTTLE`,\n         starts_with(\"promo\"),\n         buyertype_married,\n         children6to17,\n         `age_50+`,\n         employment_none) %>% \n  mutate(promo = as.integer(promo),\n         children6to17 = as.integer(children6to17)) %>% \n  rename(`NON REFILLABLE BOTTLE` = `container_NON REFILLABLE BOTTLE`)\n\ncolnames(results) <- str_replace_all(colnames(results), \n                                     \"brand_\", \"\") \ncolnames(results)\n\n [1] \"dollar_spent\"          \"beer_floz\"             \"price_per_floz\"       \n [4] \"BUD LIGHT\"             \"BUSCH LIGHT\"           \"COORS LIGHT\"          \n [7] \"MILLER LITE\"           \"NATURAL LIGHT\"         \"NON REFILLABLE BOTTLE\"\n[10] \"promo\"                 \"buyertype_married\"     \"children6to17\"        \n[13] \"age_50+\"               \"employment_none\"      \n\ncor_beer <- cor(results)\nclass(cor_beer)\n\n[1] \"matrix\" \"array\" \n\ncor_beer <- as.data.frame(cor_beer)\n\n\np <- ggcorrplot( cor_beer, lab = T,\n            colors = c(\"#2E74C0\", \"white\", \"#CB454A\"),\n) +\n  theme(axis.text = element_text(size = rel(1.5),\n                                 face = 'bold'))  + \n  guides(fill = guide_colourbar(barheight = 38.5))\n\np\n\n\n\n\n\nTo calculate a correlation between numeric variables in data.frame, use cor(data.frame)\n\n\n\n\n\n\n\n\n\n\n\nThen, make a correlation heat-map for NY markets with the same selection of variables.\nNY markets are such that whose market value is either ALBANY, BUFFALO-ROCHESTER, URBAN NY, SUBURBAN NY, EXURBAN NY, RURAL NEW YORK, or SYRACUSE."
  },
  {
    "objectID": "ex/econ340-cw-11-sol.html",
    "href": "ex/econ340-cw-11-sol.html",
    "title": "ECON 340: Classwork 11 - Price vs. QuantityExample Answers",
    "section": "",
    "text": "Suppose that the (external) damage done by polluting goods \\(Q\\) is known to be \\(MD = 300 + 5Q\\), and the (private) cost and benefit are given by \\(MC = 100 + 2Q\\) and \\(MB = D_{0} + 2Q\\), where \\(D_{0}\\) is not precisely known."
  },
  {
    "objectID": "ex/econ340-cw-11-sol.html#q1a.",
    "href": "ex/econ340-cw-11-sol.html#q1a.",
    "title": "ECON 340: Classwork 11 - Price vs. QuantityExample Answers",
    "section": "Q1a.",
    "text": "Q1a.\nIf \\(D_{0} = 1,000\\), what would be the optimal quantity? What tax would be necessary in order for that to be the equilibrium quantity?\n\nAnswer:\nSetting \\(MB = MC + MD\\) gives\n\\[\n1000 - 2Q = (100 + 2Q) + (300 + 5Q)\n\\] Therefore, \\(Q^{*} = \\frac{200}{3}\\).\nThe tax that will result in the socially optimal level of pollution is set so that \\(t^{*} = MD(Q^{*}) = 300 + 5Q^{*} = \\frac{1900}{3}\\)."
  },
  {
    "objectID": "ex/econ340-cw-11-sol.html#q1b.",
    "href": "ex/econ340-cw-11-sol.html#q1b.",
    "title": "ECON 340: Classwork 11 - Price vs. QuantityExample Answers",
    "section": "Q1b.",
    "text": "Q1b.\nSuppose that, based on the result from Q1a, a cap-and-trade system is imposed to allow the optimal quantity of pollution to be produced. If \\(D_{0} = 900\\), what would be the deadweight loss associated with having the wrong quantity?\n\nAnswer:\nSetting \\(MB = MC + MD\\) gives\n\\[\n900 - 2Q = (100 + 2Q) + (300 + 5Q)\n\\] Therefore, \\(Q^{o} = \\frac{500}{9}\\).\n\n\n\n\n\nMSC represents the marginal social cost, which is MC + MD.\nThe DWL is: \\[\n\\begin{align}\nDWL_{q} &= \\frac{1}{2}\\times (1000 - 900) \\times \\left(\\frac{200}{3} - \\frac{500}{9}\\right)\\\\\n&= \\frac{5000}{9}\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-cw-11-sol.html#q1c.",
    "href": "ex/econ340-cw-11-sol.html#q1c.",
    "title": "ECON 340: Classwork 11 - Price vs. QuantityExample Answers",
    "section": "Q1c.",
    "text": "Q1c.\nSuppose that, based on the result from part Q1a, a tax is imposed to allow the optimal quantity of pollution to be produced. If \\(D_{0} = 900\\), what would be the deadweight loss associated with having the wrong tax level?\n\nAnswer:\nGiven \\(t = \\frac{1900}{3}\\) from Q1a, the firm will set \\(MB = MC + t\\):\n\\[\n900 - 2Q = 100 + 2Q + \\frac{1900}{3}.\n\\]\nTherefore, \\(Q = \\frac{125}{3}\\)\n\n\n\n\n\nThe DWL is: \\[\n\\begin{align}\nDWL_{p} &= \\frac{1}{2}\\times \\left(900 - 2\\frac{125}{3} - \\left(400 + 7\\frac{125}{3}\\right)\\right) \\times \\left(\\frac{500}{9} - \\frac{125}{3}\\right)\\\\\n&= \\frac{1}{2}\\times 125 \\times \\frac{125}{9}\\\\\n&= \\frac{5^6}{2\\times3^{2}}\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-cw-11-sol.html#q1d.",
    "href": "ex/econ340-cw-11-sol.html#q1d.",
    "title": "ECON 340: Classwork 11 - Price vs. QuantityExample Answers",
    "section": "Q1d.",
    "text": "Q1d.\nIf \\(D_{0}\\) is not exactly known, which is likely to give better results, a cap-and-trade system or a tax? What would be the answer to this question if the marginal damage were \\(300 + 3Q\\) instead of \\(300 + 5Q\\)?\n\nAnswer:\n\nIf you try other values for \\(D_{0}\\), you will find that the DWL is always higher for the tax than cap-and-trade, except when \\(D_{0} = 1,000\\).\nBecause the marginal damage varies so much with quantity, the correct level for the tax is more sensitive to \\(D_{0}\\) than the correct amount of pollution to allow is.\nIf marginal damages are \\(MD = 300 + 3Q\\), the situation reverses; in that situation, marginal damages vary less with quantity and can be more precisely estimated than the correct quantity can."
  },
  {
    "objectID": "ex/danl399-hw-3.html",
    "href": "ex/danl399-hw-3.html",
    "title": "DANL 310: Data Visualization and PresentationHomework Assignment 3",
    "section": "",
    "text": "Loading R packages\n\nlibrary(tidyverse)\nlibrary(socviz)\nlibrary(lubridate)\n\n\n\nQuestion 1 - Bar Charts\nThe following data is for Question 1:\n\ntitanic <- read_csv(\n  'https://bcdanl.github.io/data/titanic_cleaned.csv')\n\n\n\n\n\n  \n\n\n\n\n\nReplicate the following ggplot.\n\n\ntitanic <- titanic %>% \n  mutate(surv = ifelse(survived == 0, \"Died\", \"Survived\")) \n\nggplot(data = titanic,\n            aes(x = sex, fill = sex)) + \n  geom_bar() +\n  facet_grid(class ~ surv) +\n  scale_x_discrete(name = NULL) + \n  scale_y_continuous(limits = c(0, 195)) +\n  scale_fill_manual(values = c(\"#D55E00D0\", \"#0072B2D0\"), \n                    guide = \"none\") +\n  theme_bw() + \n  theme(axis.text.y = element_text(margin = margin(7, 7, 7, 7))) +\n  labs( y = \"Number of passengers\")\n\n\n\n\n\n\n\nQuestion 2 - Bar Charts 2\nThe following data is for Question 2:\n\nnyc_flights <- read_csv(\n  'https://bcdanl.github.io/data/nyc_flights_grouped.csv')\n\n\n\n\n\n  \n\n\n\n\nReplicate the following ggplot.\n\n\nnyc_flights %>%\n  group_by(carrier_full) %>%\n  tally() %>%\n  mutate(highlight = ifelse(carrier_full %in% c(\"Delta\", \"American\"), \"yes\", \"no\")) %>%\n  ggplot(aes(x=reorder(carrier_full, n),\n             y=n,\n             fill = highlight)) +\n  scale_fill_manual(values = c(\"#B0B0B0D0\", \"#BD3828D0\"),\n                    guide = \"none\") +\n  scale_y_continuous(expand = c(0, 0)) +\n  scale_x_discrete(name = NULL) +\n  geom_col() +\n  geom_text(aes(label = n), hjust = -.1, vjust = -.5,\n            size = 4) +\n  coord_flip(clip = \"off\") +\n  theme_wsj() +\n  theme(\n    axis.line.y = element_blank(),\n    axis.ticks.y = element_blank()\n  ) +\n  ylim(c(0, 60000)) +\n  labs( caption = \"Sources: U.S. Department of Transportation,\\nBureau of Transportation Statistics\",\n        y = \"Number of flights\",\n        title = \"Number of flights from NYC\",\n        subtitle = \"Year 2013\")\n\n\n\n\n\n\n\nQuestion 3 - Stocks\nThe following data is for Question 3:\n\nstock = read_csv('https://bcdanl.github.io/data/stocks2013_2023.csv')\n\n\n\n\n\n  \n\n\n\n\nReplicate the following ggplot.\n\nFor each company, the normalized closing price on each date is the company’s closing price on each date divided by the company’s closing price on the first date (2013-01-02).\n\n\n\\[\n\\text{(Normalized Closing Price)}_{\\,\\text{company},\\,\\text{date}}\\,=\\,\\frac{\\text{Closing}_{\\,\\text{company},\\,\\text{date} }}{\\text{Closing}_{\\,\\text{company},\\,\\text{2013-01-02} }}\n\\]\n\nThe normalized closing price on the first date (2013-01-02) is 1 for each company.\ny-axis represents the log of the normalized closing price.\n\n\nlibrary(lubridate)\nq3 <- stock %>% \n  group_by(company) %>% \n  mutate(normal_close =  1 * Close / first(Close))\n\np <- ggplot(q3, aes(x = Date, y = log(normal_close), color = fct_reorder2(company, Date, normal_close)))\n\np + \n  geom_line() +\n  geom_hline(yintercept = 0, color = 'red', lty = 2) +\n  scale_x_date(breaks = seq(as.Date(min(q3$Date)), as.Date(max(q3$Date)), by = \"year\")\n) +\n  scale_color_viridis_d() +\n  ylim(c(min(log(q3$normal_close)), max(log(q3$normal_close)))) +\n  labs(y = 'Normalized Closing Price (in log)', color = \"Companies\") +\n  theme(axis.text.x = element_text(angle = 45))"
  },
  {
    "objectID": "ex/econ340-feedback-sarah-jack.html",
    "href": "ex/econ340-feedback-sarah-jack.html",
    "title": "ECON 340: Team Project",
    "section": "",
    "text": "PFAS water regulation might be one of the most recent water regulations in the US, which makes the topic more significant and interesting."
  },
  {
    "objectID": "ex/econ340-feedback-sarah-jack.html#task-1.",
    "href": "ex/econ340-feedback-sarah-jack.html#task-1.",
    "title": "ECON 340: Team Project",
    "section": "Task 1.",
    "text": "Task 1.\n\nDraw two demand functions on a \\((p, q)\\) space on a range of \\(q\\in [0,1]\\) with \\(s_{2} > s_{1}\\).\nProvide an economic meaning of \\(\\frac{\\partial^{2}p(q,s)}{\\partial q \\partial s}\\)."
  },
  {
    "objectID": "ex/econ340-feedback-sarah-jack.html#task-2.",
    "href": "ex/econ340-feedback-sarah-jack.html#task-2.",
    "title": "ECON 340: Team Project",
    "section": "Task 2.",
    "text": "Task 2.\n\nSolve the water monopolist’s problem of maximizing the profit \\(\\Pi\\) by choosing \\(q\\) and \\(s\\):\n\n\\[\n\\begin{align}\n\\max_{q, s}\\; \\Pi &= R(q,s) - C(q,s)\\\\\n&= s(1-q)q - (kq + \\ell s)\n\\end{align}\n\\]\n\nNote that when maximizing the profit, the monopolist does not take the price of water as given, because of the market power she has.\n\nProfit maximizing conditions are \\(\\frac{\\partial R(q,s)}{\\partial q } = \\frac{\\partial C(q,s)}{\\partial q}\\) and \\(\\frac{\\partial R(q,s)}{\\partial s } = \\frac{\\partial C(q,s)}{\\partial s}\\)"
  },
  {
    "objectID": "ex/econ340-feedback-sarah-jack.html#task-3.",
    "href": "ex/econ340-feedback-sarah-jack.html#task-3.",
    "title": "ECON 340: Team Project",
    "section": "Task 3.",
    "text": "Task 3.\n\nSolve the Social planner’s problem of maximizing the social welfare \\(SW\\) by choosing \\(q\\) and \\(s\\):\n\n\\[\n\\begin{align}\n\\max_{q, s}\\; SW &= \\int_{0}^{q} s(1-\\theta)d\\theta - c(q,s)  \\\\\n&= s\\left(q-\\frac{1}{2}q^{2}\\right) - (kq + \\ell s)\n\\end{align}\n\\]"
  },
  {
    "objectID": "ex/econ340-feedback-sarah-jack.html#task-4.",
    "href": "ex/econ340-feedback-sarah-jack.html#task-4.",
    "title": "ECON 340: Team Project",
    "section": "Task 4.",
    "text": "Task 4.\n\nCompared to the Social planner, does the water monopolist under-supplies water quality \\(s\\)?\nIf the water monopolist under-supplies water quality \\(s\\), what policy or policy mix would you consider to make them provide the socially optimal level of water quality?"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "B.H. CHOE",
    "section": "",
    "text": "Data Analytics at SUNY Geneseo\n\nByeong-Hak Choe\n\nData visualization and machine learning for business and economics with Python and R \nWeb projects with Python Notebook and Quarto \nData preparation and management with Python, R, SQL, and web API \nWeb scrapping and automation with Python Selenium \nVersion control with Git and GitHub \nPractical AI with ChatGPT"
  },
  {
    "objectID": "cv.html",
    "href": "cv.html",
    "title": "B.H. CHOE",
    "section": "",
    "text": "I view myself as an applied economist with interest in environmental economics and a particular focus on climate change. Methodologically, I make use of causal inference/econometrics/machine learning methods, and other data science tools to conduct empirical analysis. I also use computational methods to solve integrated assessment models of climate change and theoretical economic models, such as dynamic contracts.\nMy research focuses on how to improve effectiveness of climate policy at both micro and macro levels. In particular, I am interested in building relevant climate-economy models that analyze the interaction between economies and the climate under risks arising from (1) climate change and (2) a transition to carbon-neutral economies.\nAs an economics and data science teacher, my goal is to equip students with the essential tools of machine learning, econometrics, and data science to think critically about business and real-world socioeconomic issues. In this regard, I teach students to use those tools to address important business strategies, socioeconomic issues, and individual decision-making."
  },
  {
    "objectID": "cv.html#working-papers",
    "href": "cv.html#working-papers",
    "title": "B.H. CHOE",
    "section": "Working papers",
    "text": "Working papers\n\n\n\n\n\n  \n     \n    Governance and Climate Finance in the Developing World (with Tilsa Ore-Monago) (Forthcoming in Springer Nature)    Abstract : We investigate the relationship between governance and climate finance, particularly in the context of the energy transition in developing countries. Our aim is to examine how governance qualities in developing countries impact financial contributions from contributor countries that intend to fund mitigation projects in the energy sector. We have compiled a dataset of yearly climate finance contributions at the project level spanning from 2011 to 2019. Our analysis, which utilizes random forests and LASSO estimations, reveals that climate finance contributions, particularly those for energy-related projects, are significantly linked to good governance, including a robust legal system, rule of law, and accountability. Ultimately, this study provides valuable insights into the dynamics between governance and climate finance in developing countries and informs policy decisions to support effective climate action in the energy sector. (One of the chapters in the book, \"Climate Finance: Supporting a Sustainable Energy Transition,\" Springer Nature. 2024). \n  \n  \n     \n    Social Media Campaigns, Lobbying and Legislation: Evidence from #climatechange/#globalwarming and Energy Lobbies    Abstract : To what extent do social media campaigns compete with fossil fuel lobbying on climate change legislation? In this article, I estimate the effect of social media campaigns on a congressperson's legislative activities against climate change actions during the U.S. Congresses (January 2013-January 2019). I find that (1) a 1% increase in the per-capita level of activities of climate change campaigns using Twitter decreases Democrats' tendency to support climate-unfriendly legislation by 0.9%, while it increases Republicans' one by 0.2%; and (2) a 1% increase in the fossil fuel industry's lobbying expenditure relative to the rest of industries' lobbying expenditure increases Republicans' tendency to support climate-unfriendly legislation by 1.1%. I also find that negative sentiment in social media campaigns contributes to affecting congresspersons' support for climate-unfriendly legislation. \n  \n  \n     \n    Climate Finance under Conflicts and Renegotiations: A Dynamic Contract Approach  (AEA 2019 poster)     Abstract : Considering climate funds (e.g. the Green Climate Fund) as the financial mechanism to provide funding to developing countries, this paper examines a long-term climate funding relationship between two agents---the rich country and the poor country. Conflicts between the rich and poor countries arise when determining 1) the size of climate funding that the rich country contributes to the poor country, and 2) the funding allocation between climate adaptation and mitigation projects in the poor country. In addition, the rich country cannot be forced to commit contractual contributions to the poor country, and the climate funding relationship can be repeatedly renegotiated. This paper derives the following results: (1) climate funds converge to the first-best in the long-run, in terms of the size of climate funding and its balance between adaptation and mitigation projects, if and only if climate damage becomes sufficiently severe. (2) funding allocation between adaptation and mitigation projects becomes more favorable to the poor country if marginal climate costs in the poor country grow faster than in the rich country. (3) fewer conflicts and fewer renegotiations between the rich and poor countries make climate funding contracts more efficient, remedying inequality between the poor and rich countries."
  },
  {
    "objectID": "cv.html#work-in-progress",
    "href": "cv.html#work-in-progress",
    "title": "B.H. CHOE",
    "section": "Work in progress",
    "text": "Work in progress\n\n\n\n\n\n  \n     \n    Hiding Behind a Small Cake' in an Online Dictator Game: The Way You Hide Matters!, (with Tabare Capitan (1st author) , Jason Shogren, and Benjamin White)   Abstract : Using an online dictator game in which receivers have incomplete information of the size of the endowment (big or small), the article, ''Hiding behind a small cake' in a newspaper dictator game (Ockenfels and Werner (2012))'' shows that a few givers who received the big endowment use their giving to signal they received the small endowment (i.e., to lie). In other words, even though a giver will never meet the corresponding receiver, he cares enough about how he could be perceived by others to lie (i.e., second-order beliefs enters his utility function). In our experiment we provide givers with the opportunity to lie about the size of the endowment without using their giving. Similar to Ockenfels and Werner (2012) we find that (i) few take the opportunity to lie---but those who do give less when their giving is not constrained by its role as a signal---and (ii) givers are more likely to lie when the lie is private. However, using a second stage in the experimental design, we show that liars are the most responsive group of givers to a simple message stating the expectation of the receiver."
  },
  {
    "objectID": "cv.html#presentations",
    "href": "cv.html#presentations",
    "title": "B.H. CHOE",
    "section": "Presentations",
    "text": "Presentations\n\n\n\n\n\n  \n    2023 \n    Southern Economic Association Annual Meeting, New Orleans, Louisiana \n  \n  \n    2022 \n    Interdisciplinary Data Science Workshop, Brigham Young University, Provo, Utah \n  \n  \n    2021 \n    Online Seminar, Department of Environmental and Business Economics, University of Southern Denmark \n  \n  \n    2019 \n    University of Wyoming & Colorado State University Economics Graduate Student Symposium, Laramie, Wyoming \n  \n  \n    2019 \n    American Economic Association Annual Meeting (poster session), Atlanta, Georgia \n  \n  \n    2018 \n    The 29th International Conference on Game Theory, Stony Brook, New York"
  },
  {
    "objectID": "cv.html#memberships",
    "href": "cv.html#memberships",
    "title": "B.H. CHOE",
    "section": "Memberships",
    "text": "Memberships\n\n\n\n\n\n  \n    2022—present \n    Southern Economic Association \n  \n  \n    2018—present \n    Association of Environmental and Resource Economists \n  \n  \n    2017—present \n    American Economic Association \n  \n  \n    2017—2019 \n    Econometric Society"
  },
  {
    "objectID": "ex/danl-399-final-nicky.html",
    "href": "ex/danl-399-final-nicky.html",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "",
    "text": "library(knitr)\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(socviz)\nlibrary(ggthemes)\nlibrary(ggrepel)\nlibrary(ggtext)\nlibrary(hrbrthemes)\nlibrary(gapminder)\nlibrary(stargazer)\nlibrary(broom)"
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#q1a",
    "href": "ex/danl-399-final-nicky.html#q1a",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Q1a",
    "text": "Q1a\n\nReplicate the following ggplot.\n\nYou should calculate the proportion of Pit Bull (or Mix) for each zip code.\nYou should join data.frames properly.\nChoose the color palette from the viridis scales https://ggplot2.tidyverse.org/reference/scale_viridis.html.\nUse coord_map(projection = \"albers\", lat0 = 39, lat1 = 45)."
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#q1b",
    "href": "ex/danl-399-final-nicky.html#q1b",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Q1b",
    "text": "Q1b\n\nWhich zip_code does have the highest proportion of Pit Bull (or Mix)?"
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#variable-description",
    "href": "ex/danl-399-final-nicky.html#variable-description",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Variable description",
    "text": "Variable description\n\ntconst: alphanumeric unique identifier of the title\ntitle_type: the type/format of the title\n\n(movie, video, or tvMovie)\n\nprimary_title: the more popular title / the title used by the filmmakers on promotional materials at the point of release\nsimple_title: the title in lowercase, with punctuation removed, for easier filtering and grouping\nyear: the release year of a title\nruntime_minutes: primary runtime of the title, in minutes\naverage_rating: weighted average of all the individual user ratings on IMDb\nnum_votes: number of votes the title has received on IMDb (titles with fewer than 10 votes were not included in this dataset)\n\n\n\nThe following is the data.frame, holiday_movies.\n\n\n\n\n  \n\n\n\n\nnrow(holiday_movies)\n\n[1] 2265\n\nncol(holiday_movies)\n\n[1] 8\n\n\n\n\nunique(holiday_movies$title_type)\n\n[1] \"movie\"   \"tvMovie\" \"video\"  \n\n\n\n\nlength(unique(holiday_movies$primary_title))\n\n[1] 2081\n\nunique(holiday_movies$primary_title)[1:50]\n\n [1] \"Sailor's Holiday\"               \"The Devil's Holiday\"           \n [3] \"Holiday\"                        \"Holiday of St. Jorgen\"         \n [5] \"Sin Takes a Holiday\"            \"Sinners' Holiday\"              \n [7] \"Husband's Holiday\"              \"Beggar's Holiday\"              \n [9] \"Cowboy Holiday\"                 \"Death Takes a Holiday\"         \n[11] \"College Holiday\"                \"Mad Holiday\"                   \n[13] \"Stolen Holiday\"                 \"Angel's Holiday\"               \n[15] \"Dangerous Holiday\"              \"Every Day's a Holiday\"         \n[17] \"Bank Holiday\"                   \"A Christmas Carol\"             \n[19] \"Crime Takes a Holiday\"          \"Tropic Holiday\"                \n[21] \"Inspector Hornleigh on Holiday\" \"Christmas in July\"             \n[23] \"Holiday Inn\"                    \"Hoosier Holiday\"               \n[25] \"Christmas Holiday\"              \"Knickerbocker Holiday\"         \n[27] \"Christmas in Connecticut\"       \"Strange Holiday\"               \n[29] \"Holiday in Mexico\"              \"Perilous Holiday\"              \n[31] \"Blondie's Holiday\"              \"Bush Christmas\"                \n[33] \"Christmas Eve\"                  \"Hoppy's Holiday\"               \n[35] \"Holiday Camp\"                   \"Summer Holiday\"                \n[37] \"Holidays in Hell\"               \"Holiday Affair\"                \n[39] \"Holiday in Havana\"              \"Johnny Holiday\"                \n[41] \"Holiday Rhythm\"                 \"Last Holiday\"                  \n[43] \"Holiday Week\"                   \"Holiday for Sinners\"           \n[45] \"Roman Holiday\"                  \"Monsieur Hulot's Holiday\"      \n[47] \"White Christmas\"                \"Cinerama Holiday\"              \n[49] \"Holiday for Henrietta\"          \"Holiday Island\"                \n\n\n\n\nlength(unique(holiday_movies$simple_title))\n\n[1] 2073\n\nunique(holiday_movies$simple_title)[1:50]\n\n [1] \"sailors holiday\"                \"the devils holiday\"            \n [3] \"holiday\"                        \"holiday of st jorgen\"          \n [5] \"sin takes a holiday\"            \"sinners holiday\"               \n [7] \"husbands holiday\"               \"beggars holiday\"               \n [9] \"cowboy holiday\"                 \"death takes a holiday\"         \n[11] \"college holiday\"                \"mad holiday\"                   \n[13] \"stolen holiday\"                 \"angels holiday\"                \n[15] \"dangerous holiday\"              \"every days a holiday\"          \n[17] \"bank holiday\"                   \"a christmas carol\"             \n[19] \"crime takes a holiday\"          \"tropic holiday\"                \n[21] \"inspector hornleigh on holiday\" \"christmas in july\"             \n[23] \"holiday inn\"                    \"hoosier holiday\"               \n[25] \"christmas holiday\"              \"knickerbocker holiday\"         \n[27] \"christmas in connecticut\"       \"strange holiday\"               \n[29] \"holiday in mexico\"              \"perilous holiday\"              \n[31] \"blondies holiday\"               \"bush christmas\"                \n[33] \"christmas eve\"                  \"hoppys holiday\"                \n[35] \"holiday camp\"                   \"summer holiday\"                \n[37] \"holidays in hell\"               \"holiday affair\"                \n[39] \"holiday in havana\"              \"johnny holiday\"                \n[41] \"holiday rhythm\"                 \"last holiday\"                  \n[43] \"holiday week\"                   \"holiday for sinners\"           \n[45] \"roman holiday\"                  \"monsieur hulots holiday\"       \n[47] \"white christmas\"                \"cinerama holiday\"              \n[49] \"holiday for henrietta\"          \"holiday island\"                \n\n\n\n\nlength(unique(holiday_movies$year))\n\n[1] 91\n\nunique(holiday_movies$year)\n\n [1] 1929 1930 1931 1934 1936 1937 1938 1939 1940 1942 1943 1944 1945 1946 1947\n[16] 1948 1949 1950 1951 1952 1953 1954 1955 1957 1958 1959 1960 1963 1961 1964\n[31] 1965 1966 1967 1969 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 1981\n[46] 1980 1983 1984 1986 1985 1987 1988 1989 1990 1991 1993 1992 1994 1995 1997\n[61] 1996 1962 1998 1968 2000 1999 2001 2004 2002 1982 2008 2003 1956 2007 2005\n[76] 2006 2016 2014 2019 2018 2020 2021 2011 2023 2017 2009 2022 2012 2015 2010\n[91] 2013\n\n\n\n\nunique(holiday_movies$runtime_minutes)\n\n  [1]  58  80  91  83  81  60  70  56  79  86  71  76  69  59  95  78  90  67\n [19] 100  65  93  85 101  61 128  89  NA  87  73  92  88  82  72 118 114 120\n [37] 119 105 103 125  75 107  68  84  96  25  94  26 110  98  22 113  97  48\n [55] 109  24 133 127  49 123  43  50 104  40 102  30  55  46  44  53 115 132\n [73]  23  64  52 158 145 130  57  66  45  47  51  29  27  63   7  99  18  54\n [91] 112   6   9  33 136   5  39  28  15 122  74  35  41  10  20 152 106 220\n[109]  31   4   1  37  17 146 140  77 150 141  42   3 121 111  21  12 172 108\n[127]   2  34 180 131  11 160 286 165  16 135 288 126 117  36 213\n\nunique(holiday_movies$average_rating)\n\n [1]  5.4  6.0  6.3  7.4  6.1  6.4  5.6  4.8  6.9  5.7  5.8  6.2  7.5  6.5  7.7\n[16]  5.5  6.8  7.3  6.7  5.3  6.6  5.9  7.1  8.1  8.0  7.6  8.3  3.5  4.4  7.2\n[31]  4.2  8.2  7.8  4.7  7.9  5.2  5.0  8.9  5.1  7.0  4.9  3.1  4.0  2.0  8.5\n[46]  4.3  8.7  2.1  2.4  4.1  2.2  2.9  4.6  3.9  3.6  4.5  8.6  2.7  3.8  3.2\n[61]  8.4  3.7  9.0  9.4  9.1  9.2  9.3  3.3  3.4  1.5 10.0  1.4  2.8  8.8  9.9\n[76]  9.8  2.6  9.5  1.6  1.3  1.7  1.8  3.0  1.0  2.3\n\n\n\n\nThe following is another data.frame holiday_movie_genres that is related with the data.frame holiday_movies:\n\n\nholiday_movie_genres <- read_csv(\"https://bcdanl.github.io/data/holiday_movie_genres.csv\")\n\n\n\n\n  \n\n\n\nThe data.frame holiday_movie_genres include up to three genres associated with the titles that appear in the data.frame.\n\n\nunique(holiday_movie_genres$genres)\n\n [1] \"Comedy\"      \"Drama\"       \"Romance\"     \"Adventure\"   \"Crime\"      \n [6] \"Western\"     \"Fantasy\"     \"Musical\"     \"Mystery\"     \"Family\"     \n[11] \"Action\"      \"Music\"       \"Film-Noir\"   \"History\"     \"War\"        \n[16] \"Thriller\"    NA            \"Documentary\" \"Animation\"   \"Sci-Fi\"     \n[21] \"Horror\"      \"Short\"       \"Biography\"   \"Sport\"       \"Talk-Show\"  \n[26] \"News\"        \"Reality-TV\""
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#variable-description-1",
    "href": "ex/danl-399-final-nicky.html#variable-description-1",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Variable description",
    "text": "Variable description\n\ntconst: alphanumeric unique identifier of the title\ngenres: genres associated with the title, one row per genre"
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#q3a.",
    "href": "ex/danl-399-final-nicky.html#q3a.",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Q3a.",
    "text": "Q3a.\n\nProvide the R code to generate the data.frame, holiday_movie_with_genres, which combines the two data.frames, holiday_movies and holiday_movie_genres:\n\n\n\n\n\nThe following shows the first four variables in holiday_movie_with_genres:"
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#q3b.",
    "href": "ex/danl-399-final-nicky.html#q3b.",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Q3b.",
    "text": "Q3b.\n\nProvide the R code to see how the summary statistics—mean, median, standard deviation, minimum, maximum, first and third quartiles—of average_rating and num_votes varies by popular genres and title_type.\n\nConsider only the five popular genres, which are selected in terms of the number of titles for each genre.\nRemoves the video type of the titles when calculating the summary statistics."
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#q3c.",
    "href": "ex/danl-399-final-nicky.html#q3c.",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Q3c.",
    "text": "Q3c.\n\nProvide R code to recreate the ggplot figure illustrating how the relationship between log10(num_votes) and average_rating varies by the popular genres and title_type.\n\nThe five popular genres are selected in terms of the number of titles for each genre.\nThe video type of the titles are removed in the ggplot figure."
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#q3d.",
    "href": "ex/danl-399-final-nicky.html#q3d.",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Q3d.",
    "text": "Q3d.\n\nProvide a comment to illustrate how the relationship between log10(num_votes) and average_rating varies by the popular genres and title_type."
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#q3e.",
    "href": "ex/danl-399-final-nicky.html#q3e.",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Q3e.",
    "text": "Q3e.\n\nProvide R code to recreate the ggplot figure illustrating the annual trend of the share of number of movies by popular genre from year 1975 to 2022.\n\nFor genres that are not popular, categorize them as “Other”.\nConsider changing the order of categories in genres."
  },
  {
    "objectID": "ex/danl-399-final-nicky.html#q3f.",
    "href": "ex/danl-399-final-nicky.html#q3f.",
    "title": "DANL 399: Data Visualization and Presentation Final Exam",
    "section": "Q3f.",
    "text": "Q3f.\n\nProvide a comment to illustrate the annual trend of (1) the share of number of movies by popular genre from year 1975 to 2022.\n\nWhich genre has become more popular since 2010?"
  }
]